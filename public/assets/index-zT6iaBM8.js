var VB=Object.defineProperty;var _S=e=>{throw TypeError(e)};var qB=(e,t,r)=>t in e?VB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var B=(e,t,r)=>qB(e,typeof t!="symbol"?t+"":t,r),Av=(e,t,r)=>t.has(e)||_S("Cannot "+r);var F=(e,t,r)=>(Av(e,t,"read from private field"),r?r.call(e):t.get(e)),Oe=(e,t,r)=>t.has(e)?_S("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),pe=(e,t,r,n)=>(Av(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),qe=(e,t,r)=>(Av(e,t,"access private method"),r);var _h=(e,t,r,n)=>({set _(a){pe(e,t,a,r)},get _(){return F(e,t,n)}});function HB(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t4={exports:{}},Yg={},r4={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var th=Symbol.for("react.element"),GB=Symbol.for("react.portal"),KB=Symbol.for("react.fragment"),YB=Symbol.for("react.strict_mode"),QB=Symbol.for("react.profiler"),XB=Symbol.for("react.provider"),ZB=Symbol.for("react.context"),JB=Symbol.for("react.forward_ref"),e9=Symbol.for("react.suspense"),t9=Symbol.for("react.memo"),r9=Symbol.for("react.lazy"),AS=Symbol.iterator;function n9(e){return e===null||typeof e!="object"?null:(e=AS&&e[AS]||e["@@iterator"],typeof e=="function"?e:null)}var n4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a4=Object.assign,i4={};function lu(e,t,r){this.props=e,this.context=t,this.refs=i4,this.updater=r||n4}lu.prototype.isReactComponent={};lu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};lu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function s4(){}s4.prototype=lu.prototype;function c1(e,t,r){this.props=e,this.context=t,this.refs=i4,this.updater=r||n4}var u1=c1.prototype=new s4;u1.constructor=c1;a4(u1,lu.prototype);u1.isPureReactComponent=!0;var OS=Array.isArray,o4=Object.prototype.hasOwnProperty,d1={current:null},l4={key:!0,ref:!0,__self:!0,__source:!0};function c4(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)o4.call(t,n)&&!l4.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:th,type:e,key:i,ref:o,props:a,_owner:d1.current}}function a9(e,t){return{$$typeof:th,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function f1(e){return typeof e=="object"&&e!==null&&e.$$typeof===th}function i9(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ES=/\/+/g;function Ov(e,t){return typeof e=="object"&&e!==null&&e.key!=null?i9(""+e.key):t.toString(36)}function bm(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case th:case GB:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Ov(o,0):n,OS(a)?(r="",e!=null&&(r=e.replace(ES,"$&/")+"/"),bm(a,t,r,"",function(u){return u})):a!=null&&(f1(a)&&(a=a9(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(ES,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",OS(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Ov(i,l);o+=bm(i,t,r,c,a)}else if(c=n9(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Ov(i,l++),o+=bm(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Oh(e,t,r){if(e==null)return e;var n=[],a=0;return bm(e,n,"","",function(i){return t.call(r,i,a++)}),n}function s9(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Zr={current:null},wm={transition:null},o9={ReactCurrentDispatcher:Zr,ReactCurrentBatchConfig:wm,ReactCurrentOwner:d1};function u4(){throw Error("act(...) is not supported in production builds of React.")}Ke.Children={map:Oh,forEach:function(e,t,r){Oh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Oh(e,function(){t++}),t},toArray:function(e){return Oh(e,function(t){return t})||[]},only:function(e){if(!f1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ke.Component=lu;Ke.Fragment=KB;Ke.Profiler=QB;Ke.PureComponent=c1;Ke.StrictMode=YB;Ke.Suspense=e9;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o9;Ke.act=u4;Ke.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=a4({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=d1.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)o4.call(t,c)&&!l4.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:th,type:e.type,key:a,ref:i,props:n,_owner:o}};Ke.createContext=function(e){return e={$$typeof:ZB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:XB,_context:e},e.Consumer=e};Ke.createElement=c4;Ke.createFactory=function(e){var t=c4.bind(null,e);return t.type=e,t};Ke.createRef=function(){return{current:null}};Ke.forwardRef=function(e){return{$$typeof:JB,render:e}};Ke.isValidElement=f1;Ke.lazy=function(e){return{$$typeof:r9,_payload:{_status:-1,_result:e},_init:s9}};Ke.memo=function(e,t){return{$$typeof:t9,type:e,compare:t===void 0?null:t}};Ke.startTransition=function(e){var t=wm.transition;wm.transition={};try{e()}finally{wm.transition=t}};Ke.unstable_act=u4;Ke.useCallback=function(e,t){return Zr.current.useCallback(e,t)};Ke.useContext=function(e){return Zr.current.useContext(e)};Ke.useDebugValue=function(){};Ke.useDeferredValue=function(e){return Zr.current.useDeferredValue(e)};Ke.useEffect=function(e,t){return Zr.current.useEffect(e,t)};Ke.useId=function(){return Zr.current.useId()};Ke.useImperativeHandle=function(e,t,r){return Zr.current.useImperativeHandle(e,t,r)};Ke.useInsertionEffect=function(e,t){return Zr.current.useInsertionEffect(e,t)};Ke.useLayoutEffect=function(e,t){return Zr.current.useLayoutEffect(e,t)};Ke.useMemo=function(e,t){return Zr.current.useMemo(e,t)};Ke.useReducer=function(e,t,r){return Zr.current.useReducer(e,t,r)};Ke.useRef=function(e){return Zr.current.useRef(e)};Ke.useState=function(e){return Zr.current.useState(e)};Ke.useSyncExternalStore=function(e,t,r){return Zr.current.useSyncExternalStore(e,t,r)};Ke.useTransition=function(){return Zr.current.useTransition()};Ke.version="18.3.1";r4.exports=Ke;var j=r4.exports;const O=yt(j),d4=HB({__proto__:null,default:O},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l9=j,c9=Symbol.for("react.element"),u9=Symbol.for("react.fragment"),d9=Object.prototype.hasOwnProperty,f9=l9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h9={key:!0,ref:!0,__self:!0,__source:!0};function f4(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)d9.call(t,n)&&!h9.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:c9,type:e,key:i,ref:o,props:a,_owner:f9.current}}Yg.Fragment=u9;Yg.jsx=f4;Yg.jsxs=f4;t4.exports=Yg;var s=t4.exports,h4={exports:{}},An={},m4={exports:{}},p4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,W){var K=E.length;E.push(W);e:for(;0<K;){var Q=K-1>>>1,X=E[Q];if(0<a(X,W))E[Q]=W,E[K]=X,K=Q;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var W=E[0],K=E.pop();if(K!==W){E[0]=K;e:for(var Q=0,X=E.length,fe=X>>>1;Q<fe;){var Ae=2*(Q+1)-1,ze=E[Ae],Re=Ae+1,ve=E[Re];if(0>a(ze,K))Re<X&&0>a(ve,ze)?(E[Q]=ve,E[Re]=K,Q=Re):(E[Q]=ze,E[Ae]=K,Q=Ae);else if(Re<X&&0>a(ve,K))E[Q]=ve,E[Re]=K,Q=Re;else break e}}return W}function a(E,W){var K=E.sortIndex-W.sortIndex;return K!==0?K:E.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(E){for(var W=r(u);W!==null;){if(W.callback===null)n(u);else if(W.startTime<=E)n(u),W.sortIndex=W.expirationTime,t(c,W);else break;W=r(u)}}function S(E){if(m=!1,y(E),!g)if(r(c)!==null)g=!0,$(w);else{var W=r(u);W!==null&&I(S,W.startTime-E)}}function w(E,W){g=!1,m&&(m=!1,v(P),P=-1),p=!0;var K=h;try{for(y(W),f=r(c);f!==null&&(!(f.expirationTime>W)||E&&!A());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var X=Q(f.expirationTime<=W);W=e.unstable_now(),typeof X=="function"?f.callback=X:f===r(c)&&n(c),y(W)}else n(c);f=r(c)}if(f!==null)var fe=!0;else{var Ae=r(u);Ae!==null&&I(S,Ae.startTime-W),fe=!1}return fe}finally{f=null,h=K,p=!1}}var N=!1,k=null,P=-1,C=5,M=-1;function A(){return!(e.unstable_now()-M<C)}function _(){if(k!==null){var E=e.unstable_now();M=E;var W=!0;try{W=k(!0,E)}finally{W?R():(N=!1,k=null)}}else N=!1}var R;if(typeof b=="function")R=function(){b(_)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,D=L.port2;L.port1.onmessage=_,R=function(){D.postMessage(null)}}else R=function(){x(_,0)};function $(E){k=E,N||(N=!0,R())}function I(E,W){P=x(function(){E(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,$(w))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(E){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var K=h;h=W;try{return E()}finally{h=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,W){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var K=h;h=E;try{return W()}finally{h=K}},e.unstable_scheduleCallback=function(E,W,K){var Q=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Q+K:Q):K=Q,E){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=K+X,E={id:d++,callback:W,priorityLevel:E,startTime:K,expirationTime:X,sortIndex:-1},K>Q?(E.sortIndex=K,t(u,E),r(c)===null&&E===r(u)&&(m?(v(P),P=-1):m=!0,I(S,K-Q))):(E.sortIndex=X,t(c,E),g||p||(g=!0,$(w))),E},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(E){var W=h;return function(){var K=h;h=W;try{return E.apply(this,arguments)}finally{h=K}}}})(p4);m4.exports=p4;var m9=m4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p9=j,Pn=m9;function te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g4=new Set,Md={};function al(e,t){bc(e,t),bc(e+"Capture",t)}function bc(e,t){for(Md[e]=t,e=0;e<t.length;e++)g4.add(t[e])}var Ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ax=Object.prototype.hasOwnProperty,g9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,TS={},MS={};function y9(e){return ax.call(MS,e)?!0:ax.call(TS,e)?!1:g9.test(e)?MS[e]=!0:(TS[e]=!0,!1)}function v9(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function x9(e,t,r,n){if(t===null||typeof t>"u"||v9(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jr(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Nr[e]=new Jr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Nr[t]=new Jr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Nr[e]=new Jr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Nr[e]=new Jr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Nr[e]=new Jr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Nr[e]=new Jr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Nr[e]=new Jr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Nr[e]=new Jr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Nr[e]=new Jr(e,5,!1,e.toLowerCase(),null,!1,!1)});var h1=/[\-:]([a-z])/g;function m1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(h1,m1);Nr[t]=new Jr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(h1,m1);Nr[t]=new Jr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(h1,m1);Nr[t]=new Jr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Nr[e]=new Jr(e,1,!1,e.toLowerCase(),null,!1,!1)});Nr.xlinkHref=new Jr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Nr[e]=new Jr(e,1,!1,e.toLowerCase(),null,!0,!0)});function p1(e,t,r,n){var a=Nr.hasOwnProperty(t)?Nr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(x9(t,r,a,n)&&(r=null),n||a===null?y9(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Bi=p9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eh=Symbol.for("react.element"),jl=Symbol.for("react.portal"),Nl=Symbol.for("react.fragment"),g1=Symbol.for("react.strict_mode"),ix=Symbol.for("react.profiler"),y4=Symbol.for("react.provider"),v4=Symbol.for("react.context"),y1=Symbol.for("react.forward_ref"),sx=Symbol.for("react.suspense"),ox=Symbol.for("react.suspense_list"),v1=Symbol.for("react.memo"),Ji=Symbol.for("react.lazy"),x4=Symbol.for("react.offscreen"),$S=Symbol.iterator;function Tu(e){return e===null||typeof e!="object"?null:(e=$S&&e[$S]||e["@@iterator"],typeof e=="function"?e:null)}var Rt=Object.assign,Ev;function ad(e){if(Ev===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ev=t&&t[1]||""}return`
`+Ev+e}var Tv=!1;function Mv(e,t){if(!e||Tv)return"";Tv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Tv=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ad(e):""}function b9(e){switch(e.tag){case 5:return ad(e.type);case 16:return ad("Lazy");case 13:return ad("Suspense");case 19:return ad("SuspenseList");case 0:case 2:case 15:return e=Mv(e.type,!1),e;case 11:return e=Mv(e.type.render,!1),e;case 1:return e=Mv(e.type,!0),e;default:return""}}function lx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Nl:return"Fragment";case jl:return"Portal";case ix:return"Profiler";case g1:return"StrictMode";case sx:return"Suspense";case ox:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case v4:return(e.displayName||"Context")+".Consumer";case y4:return(e._context.displayName||"Context")+".Provider";case y1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case v1:return t=e.displayName||null,t!==null?t:lx(e.type)||"Memo";case Ji:t=e._payload,e=e._init;try{return lx(e(t))}catch{}}return null}function w9(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lx(t);case 8:return t===g1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ts(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function b4(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function j9(e){var t=b4(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Th(e){e._valueTracker||(e._valueTracker=j9(e))}function w4(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=b4(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Um(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cx(e,t){var r=t.checked;return Rt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function DS(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ts(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function j4(e,t){t=t.checked,t!=null&&p1(e,"checked",t,!1)}function ux(e,t){j4(e,t);var r=Ts(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dx(e,t.type,r):t.hasOwnProperty("defaultValue")&&dx(e,t.type,Ts(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function IS(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function dx(e,t,r){(t!=="number"||Um(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var id=Array.isArray;function zl(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ts(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function fx(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(te(91));return Rt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function RS(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(te(92));if(id(r)){if(1<r.length)throw Error(te(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ts(r)}}function N4(e,t){var r=Ts(t.value),n=Ts(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function FS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function S4(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hx(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?S4(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mh,k4=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mh=Mh||document.createElement("div"),Mh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $d(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var md={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},N9=["Webkit","ms","Moz","O"];Object.keys(md).forEach(function(e){N9.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),md[t]=md[e]})});function P4(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||md.hasOwnProperty(e)&&md[e]?(""+t).trim():t+"px"}function C4(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=P4(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var S9=Rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mx(e,t){if(t){if(S9[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(te(62))}}function px(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gx=null;function x1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yx=null,Bl=null,Wl=null;function LS(e){if(e=ah(e)){if(typeof yx!="function")throw Error(te(280));var t=e.stateNode;t&&(t=ey(t),yx(e.stateNode,e.type,t))}}function _4(e){Bl?Wl?Wl.push(e):Wl=[e]:Bl=e}function A4(){if(Bl){var e=Bl,t=Wl;if(Wl=Bl=null,LS(e),t)for(e=0;e<t.length;e++)LS(t[e])}}function O4(e,t){return e(t)}function E4(){}var $v=!1;function T4(e,t,r){if($v)return e(t,r);$v=!0;try{return O4(e,t,r)}finally{$v=!1,(Bl!==null||Wl!==null)&&(E4(),A4())}}function Dd(e,t){var r=e.stateNode;if(r===null)return null;var n=ey(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(te(231,t,typeof r));return r}var vx=!1;if(Ai)try{var Mu={};Object.defineProperty(Mu,"passive",{get:function(){vx=!0}}),window.addEventListener("test",Mu,Mu),window.removeEventListener("test",Mu,Mu)}catch{vx=!1}function k9(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var pd=!1,Vm=null,qm=!1,xx=null,P9={onError:function(e){pd=!0,Vm=e}};function C9(e,t,r,n,a,i,o,l,c){pd=!1,Vm=null,k9.apply(P9,arguments)}function _9(e,t,r,n,a,i,o,l,c){if(C9.apply(this,arguments),pd){if(pd){var u=Vm;pd=!1,Vm=null}else throw Error(te(198));qm||(qm=!0,xx=u)}}function il(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function M4(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zS(e){if(il(e)!==e)throw Error(te(188))}function A9(e){var t=e.alternate;if(!t){if(t=il(e),t===null)throw Error(te(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return zS(a),e;if(i===n)return zS(a),t;i=i.sibling}throw Error(te(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(te(189))}}if(r.alternate!==n)throw Error(te(190))}if(r.tag!==3)throw Error(te(188));return r.stateNode.current===r?e:t}function $4(e){return e=A9(e),e!==null?D4(e):null}function D4(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=D4(e);if(t!==null)return t;e=e.sibling}return null}var I4=Pn.unstable_scheduleCallback,BS=Pn.unstable_cancelCallback,O9=Pn.unstable_shouldYield,E9=Pn.unstable_requestPaint,qt=Pn.unstable_now,T9=Pn.unstable_getCurrentPriorityLevel,b1=Pn.unstable_ImmediatePriority,R4=Pn.unstable_UserBlockingPriority,Hm=Pn.unstable_NormalPriority,M9=Pn.unstable_LowPriority,F4=Pn.unstable_IdlePriority,Qg=null,Va=null;function $9(e){if(Va&&typeof Va.onCommitFiberRoot=="function")try{Va.onCommitFiberRoot(Qg,e,void 0,(e.current.flags&128)===128)}catch{}}var ba=Math.clz32?Math.clz32:R9,D9=Math.log,I9=Math.LN2;function R9(e){return e>>>=0,e===0?32:31-(D9(e)/I9|0)|0}var $h=64,Dh=4194304;function sd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gm(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=sd(l):(i&=o,i!==0&&(n=sd(i)))}else o=r&~a,o!==0?n=sd(o):i!==0&&(n=sd(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ba(t),a=1<<r,n|=e[r],t&=~a;return n}function F9(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L9(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ba(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=F9(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function bx(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function L4(){var e=$h;return $h<<=1,!($h&4194240)&&($h=64),e}function Dv(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function rh(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ba(t),e[t]=r}function z9(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-ba(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function w1(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ba(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var mt=0;function z4(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var B4,j1,W4,U4,V4,wx=!1,Ih=[],ws=null,js=null,Ns=null,Id=new Map,Rd=new Map,rs=[],B9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WS(e,t){switch(e){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":Id.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rd.delete(t.pointerId)}}function $u(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=ah(t),t!==null&&j1(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function W9(e,t,r,n,a){switch(t){case"focusin":return ws=$u(ws,e,t,r,n,a),!0;case"dragenter":return js=$u(js,e,t,r,n,a),!0;case"mouseover":return Ns=$u(Ns,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Id.set(i,$u(Id.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Rd.set(i,$u(Rd.get(i)||null,e,t,r,n,a)),!0}return!1}function q4(e){var t=po(e.target);if(t!==null){var r=il(t);if(r!==null){if(t=r.tag,t===13){if(t=M4(r),t!==null){e.blockedOn=t,V4(e.priority,function(){W4(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=jx(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);gx=n,r.target.dispatchEvent(n),gx=null}else return t=ah(r),t!==null&&j1(t),e.blockedOn=r,!1;t.shift()}return!0}function US(e,t,r){jm(e)&&r.delete(t)}function U9(){wx=!1,ws!==null&&jm(ws)&&(ws=null),js!==null&&jm(js)&&(js=null),Ns!==null&&jm(Ns)&&(Ns=null),Id.forEach(US),Rd.forEach(US)}function Du(e,t){e.blockedOn===t&&(e.blockedOn=null,wx||(wx=!0,Pn.unstable_scheduleCallback(Pn.unstable_NormalPriority,U9)))}function Fd(e){function t(a){return Du(a,e)}if(0<Ih.length){Du(Ih[0],e);for(var r=1;r<Ih.length;r++){var n=Ih[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ws!==null&&Du(ws,e),js!==null&&Du(js,e),Ns!==null&&Du(Ns,e),Id.forEach(t),Rd.forEach(t),r=0;r<rs.length;r++)n=rs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<rs.length&&(r=rs[0],r.blockedOn===null);)q4(r),r.blockedOn===null&&rs.shift()}var Ul=Bi.ReactCurrentBatchConfig,Km=!0;function V9(e,t,r,n){var a=mt,i=Ul.transition;Ul.transition=null;try{mt=1,N1(e,t,r,n)}finally{mt=a,Ul.transition=i}}function q9(e,t,r,n){var a=mt,i=Ul.transition;Ul.transition=null;try{mt=4,N1(e,t,r,n)}finally{mt=a,Ul.transition=i}}function N1(e,t,r,n){if(Km){var a=jx(e,t,r,n);if(a===null)qv(e,t,n,Ym,r),WS(e,n);else if(W9(a,e,t,r,n))n.stopPropagation();else if(WS(e,n),t&4&&-1<B9.indexOf(e)){for(;a!==null;){var i=ah(a);if(i!==null&&B4(i),i=jx(e,t,r,n),i===null&&qv(e,t,n,Ym,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else qv(e,t,n,null,r)}}var Ym=null;function jx(e,t,r,n){if(Ym=null,e=x1(n),e=po(e),e!==null)if(t=il(e),t===null)e=null;else if(r=t.tag,r===13){if(e=M4(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ym=e,null}function H4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(T9()){case b1:return 1;case R4:return 4;case Hm:case M9:return 16;case F4:return 536870912;default:return 16}default:return 16}}var gs=null,S1=null,Nm=null;function G4(){if(Nm)return Nm;var e,t=S1,r=t.length,n,a="value"in gs?gs.value:gs.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Nm=a.slice(e,1<n?1-n:void 0)}function Sm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rh(){return!0}function VS(){return!1}function On(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Rh:VS,this.isPropagationStopped=VS,this}return Rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Rh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Rh)},persist:function(){},isPersistent:Rh}),t}var cu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},k1=On(cu),nh=Rt({},cu,{view:0,detail:0}),H9=On(nh),Iv,Rv,Iu,Xg=Rt({},nh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:P1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Iu&&(Iu&&e.type==="mousemove"?(Iv=e.screenX-Iu.screenX,Rv=e.screenY-Iu.screenY):Rv=Iv=0,Iu=e),Iv)},movementY:function(e){return"movementY"in e?e.movementY:Rv}}),qS=On(Xg),G9=Rt({},Xg,{dataTransfer:0}),K9=On(G9),Y9=Rt({},nh,{relatedTarget:0}),Fv=On(Y9),Q9=Rt({},cu,{animationName:0,elapsedTime:0,pseudoElement:0}),X9=On(Q9),Z9=Rt({},cu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),J9=On(Z9),eW=Rt({},cu,{data:0}),HS=On(eW),tW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aW(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nW[e])?!!t[e]:!1}function P1(){return aW}var iW=Rt({},nh,{key:function(e){if(e.key){var t=tW[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rW[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:P1,charCode:function(e){return e.type==="keypress"?Sm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sW=On(iW),oW=Rt({},Xg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GS=On(oW),lW=Rt({},nh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:P1}),cW=On(lW),uW=Rt({},cu,{propertyName:0,elapsedTime:0,pseudoElement:0}),dW=On(uW),fW=Rt({},Xg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hW=On(fW),mW=[9,13,27,32],C1=Ai&&"CompositionEvent"in window,gd=null;Ai&&"documentMode"in document&&(gd=document.documentMode);var pW=Ai&&"TextEvent"in window&&!gd,K4=Ai&&(!C1||gd&&8<gd&&11>=gd),KS=" ",YS=!1;function Y4(e,t){switch(e){case"keyup":return mW.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sl=!1;function gW(e,t){switch(e){case"compositionend":return Q4(t);case"keypress":return t.which!==32?null:(YS=!0,KS);case"textInput":return e=t.data,e===KS&&YS?null:e;default:return null}}function yW(e,t){if(Sl)return e==="compositionend"||!C1&&Y4(e,t)?(e=G4(),Nm=S1=gs=null,Sl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return K4&&t.locale!=="ko"?null:t.data;default:return null}}var vW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vW[e.type]:t==="textarea"}function X4(e,t,r,n){_4(n),t=Qm(t,"onChange"),0<t.length&&(r=new k1("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var yd=null,Ld=null;function xW(e){l$(e,0)}function Zg(e){var t=Cl(e);if(w4(t))return e}function bW(e,t){if(e==="change")return t}var Z4=!1;if(Ai){var Lv;if(Ai){var zv="oninput"in document;if(!zv){var XS=document.createElement("div");XS.setAttribute("oninput","return;"),zv=typeof XS.oninput=="function"}Lv=zv}else Lv=!1;Z4=Lv&&(!document.documentMode||9<document.documentMode)}function ZS(){yd&&(yd.detachEvent("onpropertychange",J4),Ld=yd=null)}function J4(e){if(e.propertyName==="value"&&Zg(Ld)){var t=[];X4(t,Ld,e,x1(e)),T4(xW,t)}}function wW(e,t,r){e==="focusin"?(ZS(),yd=t,Ld=r,yd.attachEvent("onpropertychange",J4)):e==="focusout"&&ZS()}function jW(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zg(Ld)}function NW(e,t){if(e==="click")return Zg(t)}function SW(e,t){if(e==="input"||e==="change")return Zg(t)}function kW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sa=typeof Object.is=="function"?Object.is:kW;function zd(e,t){if(Sa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!ax.call(t,a)||!Sa(e[a],t[a]))return!1}return!0}function JS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ek(e,t){var r=JS(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=JS(r)}}function e$(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?e$(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function t$(){for(var e=window,t=Um();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Um(e.document)}return t}function _1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function PW(e){var t=t$(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&e$(r.ownerDocument.documentElement,r)){if(n!==null&&_1(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=ek(r,i);var o=ek(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var CW=Ai&&"documentMode"in document&&11>=document.documentMode,kl=null,Nx=null,vd=null,Sx=!1;function tk(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sx||kl==null||kl!==Um(n)||(n=kl,"selectionStart"in n&&_1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),vd&&zd(vd,n)||(vd=n,n=Qm(Nx,"onSelect"),0<n.length&&(t=new k1("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=kl)))}function Fh(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Pl={animationend:Fh("Animation","AnimationEnd"),animationiteration:Fh("Animation","AnimationIteration"),animationstart:Fh("Animation","AnimationStart"),transitionend:Fh("Transition","TransitionEnd")},Bv={},r$={};Ai&&(r$=document.createElement("div").style,"AnimationEvent"in window||(delete Pl.animationend.animation,delete Pl.animationiteration.animation,delete Pl.animationstart.animation),"TransitionEvent"in window||delete Pl.transitionend.transition);function Jg(e){if(Bv[e])return Bv[e];if(!Pl[e])return e;var t=Pl[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in r$)return Bv[e]=t[r];return e}var n$=Jg("animationend"),a$=Jg("animationiteration"),i$=Jg("animationstart"),s$=Jg("transitionend"),o$=new Map,rk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vs(e,t){o$.set(e,t),al(t,[e])}for(var Wv=0;Wv<rk.length;Wv++){var Uv=rk[Wv],_W=Uv.toLowerCase(),AW=Uv[0].toUpperCase()+Uv.slice(1);Vs(_W,"on"+AW)}Vs(n$,"onAnimationEnd");Vs(a$,"onAnimationIteration");Vs(i$,"onAnimationStart");Vs("dblclick","onDoubleClick");Vs("focusin","onFocus");Vs("focusout","onBlur");Vs(s$,"onTransitionEnd");bc("onMouseEnter",["mouseout","mouseover"]);bc("onMouseLeave",["mouseout","mouseover"]);bc("onPointerEnter",["pointerout","pointerover"]);bc("onPointerLeave",["pointerout","pointerover"]);al("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));al("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));al("onBeforeInput",["compositionend","keypress","textInput","paste"]);al("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));al("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));al("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var od="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OW=new Set("cancel close invalid load scroll toggle".split(" ").concat(od));function nk(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,_9(n,t,void 0,e),e.currentTarget=null}function l$(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;nk(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;nk(a,l,u),i=c}}}if(qm)throw e=xx,qm=!1,xx=null,e}function Nt(e,t){var r=t[Ax];r===void 0&&(r=t[Ax]=new Set);var n=e+"__bubble";r.has(n)||(c$(t,e,2,!1),r.add(n))}function Vv(e,t,r){var n=0;t&&(n|=4),c$(r,e,n,t)}var Lh="_reactListening"+Math.random().toString(36).slice(2);function Bd(e){if(!e[Lh]){e[Lh]=!0,g4.forEach(function(r){r!=="selectionchange"&&(OW.has(r)||Vv(r,!1,e),Vv(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lh]||(t[Lh]=!0,Vv("selectionchange",!1,t))}}function c$(e,t,r,n){switch(H4(t)){case 1:var a=V9;break;case 4:a=q9;break;default:a=N1}r=a.bind(null,t,r,e),a=void 0,!vx||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function qv(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=po(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}T4(function(){var u=i,d=x1(r),f=[];e:{var h=o$.get(e);if(h!==void 0){var p=k1,g=e;switch(e){case"keypress":if(Sm(r)===0)break e;case"keydown":case"keyup":p=sW;break;case"focusin":g="focus",p=Fv;break;case"focusout":g="blur",p=Fv;break;case"beforeblur":case"afterblur":p=Fv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=qS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=K9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=cW;break;case n$:case a$:case i$:p=X9;break;case s$:p=dW;break;case"scroll":p=H9;break;case"wheel":p=hW;break;case"copy":case"cut":case"paste":p=J9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=GS}var m=(t&4)!==0,x=!m&&e==="scroll",v=m?h!==null?h+"Capture":null:h;m=[];for(var b=u,y;b!==null;){y=b;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,v!==null&&(S=Dd(b,v),S!=null&&m.push(Wd(b,S,y)))),x)break;b=b.return}0<m.length&&(h=new p(h,g,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==gx&&(g=r.relatedTarget||r.fromElement)&&(po(g)||g[Oi]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?po(g):null,g!==null&&(x=il(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=qS,S="onMouseLeave",v="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(m=GS,S="onPointerLeave",v="onPointerEnter",b="pointer"),x=p==null?h:Cl(p),y=g==null?h:Cl(g),h=new m(S,b+"leave",p,r,d),h.target=x,h.relatedTarget=y,S=null,po(d)===u&&(m=new m(v,b+"enter",g,r,d),m.target=y,m.relatedTarget=x,S=m),x=S,p&&g)t:{for(m=p,v=g,b=0,y=m;y;y=dl(y))b++;for(y=0,S=v;S;S=dl(S))y++;for(;0<b-y;)m=dl(m),b--;for(;0<y-b;)v=dl(v),y--;for(;b--;){if(m===v||v!==null&&m===v.alternate)break t;m=dl(m),v=dl(v)}m=null}else m=null;p!==null&&ak(f,h,p,m,!1),g!==null&&x!==null&&ak(f,x,g,m,!0)}}e:{if(h=u?Cl(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=bW;else if(QS(h))if(Z4)w=SW;else{w=jW;var N=wW}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=NW);if(w&&(w=w(e,u))){X4(f,w,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&dx(h,"number",h.value)}switch(N=u?Cl(u):window,e){case"focusin":(QS(N)||N.contentEditable==="true")&&(kl=N,Nx=u,vd=null);break;case"focusout":vd=Nx=kl=null;break;case"mousedown":Sx=!0;break;case"contextmenu":case"mouseup":case"dragend":Sx=!1,tk(f,r,d);break;case"selectionchange":if(CW)break;case"keydown":case"keyup":tk(f,r,d)}var k;if(C1)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Sl?Y4(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(K4&&r.locale!=="ko"&&(Sl||P!=="onCompositionStart"?P==="onCompositionEnd"&&Sl&&(k=G4()):(gs=d,S1="value"in gs?gs.value:gs.textContent,Sl=!0)),N=Qm(u,P),0<N.length&&(P=new HS(P,e,null,r,d),f.push({event:P,listeners:N}),k?P.data=k:(k=Q4(r),k!==null&&(P.data=k)))),(k=pW?gW(e,r):yW(e,r))&&(u=Qm(u,"onBeforeInput"),0<u.length&&(d=new HS("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}l$(f,t)})}function Wd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Qm(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Dd(e,r),i!=null&&n.unshift(Wd(e,i,a)),i=Dd(e,t),i!=null&&n.push(Wd(e,i,a))),e=e.return}return n}function dl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ak(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Dd(r,i),c!=null&&o.unshift(Wd(r,c,l))):a||(c=Dd(r,i),c!=null&&o.push(Wd(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var EW=/\r\n?/g,TW=/\u0000|\uFFFD/g;function ik(e){return(typeof e=="string"?e:""+e).replace(EW,`
`).replace(TW,"")}function zh(e,t,r){if(t=ik(t),ik(e)!==t&&r)throw Error(te(425))}function Xm(){}var kx=null,Px=null;function Cx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _x=typeof setTimeout=="function"?setTimeout:void 0,MW=typeof clearTimeout=="function"?clearTimeout:void 0,sk=typeof Promise=="function"?Promise:void 0,$W=typeof queueMicrotask=="function"?queueMicrotask:typeof sk<"u"?function(e){return sk.resolve(null).then(e).catch(DW)}:_x;function DW(e){setTimeout(function(){throw e})}function Hv(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Fd(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Fd(t)}function Ss(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ok(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var uu=Math.random().toString(36).slice(2),Ra="__reactFiber$"+uu,Ud="__reactProps$"+uu,Oi="__reactContainer$"+uu,Ax="__reactEvents$"+uu,IW="__reactListeners$"+uu,RW="__reactHandles$"+uu;function po(e){var t=e[Ra];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Oi]||r[Ra]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ok(e);e!==null;){if(r=e[Ra])return r;e=ok(e)}return t}e=r,r=e.parentNode}return null}function ah(e){return e=e[Ra]||e[Oi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(te(33))}function ey(e){return e[Ud]||null}var Ox=[],_l=-1;function qs(e){return{current:e}}function Pt(e){0>_l||(e.current=Ox[_l],Ox[_l]=null,_l--)}function wt(e,t){_l++,Ox[_l]=e.current,e.current=t}var Ms={},Mr=qs(Ms),cn=qs(!1),Io=Ms;function wc(e,t){var r=e.type.contextTypes;if(!r)return Ms;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function un(e){return e=e.childContextTypes,e!=null}function Zm(){Pt(cn),Pt(Mr)}function lk(e,t,r){if(Mr.current!==Ms)throw Error(te(168));wt(Mr,t),wt(cn,r)}function u$(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(te(108,w9(e)||"Unknown",a));return Rt({},r,n)}function Jm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ms,Io=Mr.current,wt(Mr,e),wt(cn,cn.current),!0}function ck(e,t,r){var n=e.stateNode;if(!n)throw Error(te(169));r?(e=u$(e,t,Io),n.__reactInternalMemoizedMergedChildContext=e,Pt(cn),Pt(Mr),wt(Mr,e)):Pt(cn),wt(cn,r)}var pi=null,ty=!1,Gv=!1;function d$(e){pi===null?pi=[e]:pi.push(e)}function FW(e){ty=!0,d$(e)}function Hs(){if(!Gv&&pi!==null){Gv=!0;var e=0,t=mt;try{var r=pi;for(mt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}pi=null,ty=!1}catch(a){throw pi!==null&&(pi=pi.slice(e+1)),I4(b1,Hs),a}finally{mt=t,Gv=!1}}return null}var Al=[],Ol=0,ep=null,tp=0,Fn=[],Ln=0,Ro=null,vi=1,xi="";function so(e,t){Al[Ol++]=tp,Al[Ol++]=ep,ep=e,tp=t}function f$(e,t,r){Fn[Ln++]=vi,Fn[Ln++]=xi,Fn[Ln++]=Ro,Ro=e;var n=vi;e=xi;var a=32-ba(n)-1;n&=~(1<<a),r+=1;var i=32-ba(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,vi=1<<32-ba(t)+a|r<<a|n,xi=i+e}else vi=1<<i|r<<a|n,xi=e}function A1(e){e.return!==null&&(so(e,1),f$(e,1,0))}function O1(e){for(;e===ep;)ep=Al[--Ol],Al[Ol]=null,tp=Al[--Ol],Al[Ol]=null;for(;e===Ro;)Ro=Fn[--Ln],Fn[Ln]=null,xi=Fn[--Ln],Fn[Ln]=null,vi=Fn[--Ln],Fn[Ln]=null}var Nn=null,jn=null,Ct=!1,la=null;function h$(e,t){var r=zn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function uk(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nn=e,jn=Ss(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nn=e,jn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ro!==null?{id:vi,overflow:xi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=zn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Nn=e,jn=null,!0):!1;default:return!1}}function Ex(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tx(e){if(Ct){var t=jn;if(t){var r=t;if(!uk(e,t)){if(Ex(e))throw Error(te(418));t=Ss(r.nextSibling);var n=Nn;t&&uk(e,t)?h$(n,r):(e.flags=e.flags&-4097|2,Ct=!1,Nn=e)}}else{if(Ex(e))throw Error(te(418));e.flags=e.flags&-4097|2,Ct=!1,Nn=e}}}function dk(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nn=e}function Bh(e){if(e!==Nn)return!1;if(!Ct)return dk(e),Ct=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cx(e.type,e.memoizedProps)),t&&(t=jn)){if(Ex(e))throw m$(),Error(te(418));for(;t;)h$(e,t),t=Ss(t.nextSibling)}if(dk(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){jn=Ss(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}jn=null}}else jn=Nn?Ss(e.stateNode.nextSibling):null;return!0}function m$(){for(var e=jn;e;)e=Ss(e.nextSibling)}function jc(){jn=Nn=null,Ct=!1}function E1(e){la===null?la=[e]:la.push(e)}var LW=Bi.ReactCurrentBatchConfig;function Ru(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(te(309));var n=r.stateNode}if(!n)throw Error(te(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(te(284));if(!r._owner)throw Error(te(290,e))}return e}function Wh(e,t){throw e=Object.prototype.toString.call(t),Error(te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fk(e){var t=e._init;return t(e._payload)}function p$(e){function t(v,b){if(e){var y=v.deletions;y===null?(v.deletions=[b],v.flags|=16):y.push(b)}}function r(v,b){if(!e)return null;for(;b!==null;)t(v,b),b=b.sibling;return null}function n(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function a(v,b){return v=_s(v,b),v.index=0,v.sibling=null,v}function i(v,b,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<b?(v.flags|=2,b):y):(v.flags|=2,b)):(v.flags|=1048576,b)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,b,y,S){return b===null||b.tag!==6?(b=e0(y,v.mode,S),b.return=v,b):(b=a(b,y),b.return=v,b)}function c(v,b,y,S){var w=y.type;return w===Nl?d(v,b,y.props.children,S,y.key):b!==null&&(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ji&&fk(w)===b.type)?(S=a(b,y.props),S.ref=Ru(v,b,y),S.return=v,S):(S=Em(y.type,y.key,y.props,null,v.mode,S),S.ref=Ru(v,b,y),S.return=v,S)}function u(v,b,y,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==y.containerInfo||b.stateNode.implementation!==y.implementation?(b=t0(y,v.mode,S),b.return=v,b):(b=a(b,y.children||[]),b.return=v,b)}function d(v,b,y,S,w){return b===null||b.tag!==7?(b=Eo(y,v.mode,S,w),b.return=v,b):(b=a(b,y),b.return=v,b)}function f(v,b,y){if(typeof b=="string"&&b!==""||typeof b=="number")return b=e0(""+b,v.mode,y),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Eh:return y=Em(b.type,b.key,b.props,null,v.mode,y),y.ref=Ru(v,null,b),y.return=v,y;case jl:return b=t0(b,v.mode,y),b.return=v,b;case Ji:var S=b._init;return f(v,S(b._payload),y)}if(id(b)||Tu(b))return b=Eo(b,v.mode,y,null),b.return=v,b;Wh(v,b)}return null}function h(v,b,y,S){var w=b!==null?b.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:l(v,b,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Eh:return y.key===w?c(v,b,y,S):null;case jl:return y.key===w?u(v,b,y,S):null;case Ji:return w=y._init,h(v,b,w(y._payload),S)}if(id(y)||Tu(y))return w!==null?null:d(v,b,y,S,null);Wh(v,y)}return null}function p(v,b,y,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(y)||null,l(b,v,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Eh:return v=v.get(S.key===null?y:S.key)||null,c(b,v,S,w);case jl:return v=v.get(S.key===null?y:S.key)||null,u(b,v,S,w);case Ji:var N=S._init;return p(v,b,y,N(S._payload),w)}if(id(S)||Tu(S))return v=v.get(y)||null,d(b,v,S,w,null);Wh(b,S)}return null}function g(v,b,y,S){for(var w=null,N=null,k=b,P=b=0,C=null;k!==null&&P<y.length;P++){k.index>P?(C=k,k=null):C=k.sibling;var M=h(v,k,y[P],S);if(M===null){k===null&&(k=C);break}e&&k&&M.alternate===null&&t(v,k),b=i(M,b,P),N===null?w=M:N.sibling=M,N=M,k=C}if(P===y.length)return r(v,k),Ct&&so(v,P),w;if(k===null){for(;P<y.length;P++)k=f(v,y[P],S),k!==null&&(b=i(k,b,P),N===null?w=k:N.sibling=k,N=k);return Ct&&so(v,P),w}for(k=n(v,k);P<y.length;P++)C=p(k,v,P,y[P],S),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?P:C.key),b=i(C,b,P),N===null?w=C:N.sibling=C,N=C);return e&&k.forEach(function(A){return t(v,A)}),Ct&&so(v,P),w}function m(v,b,y,S){var w=Tu(y);if(typeof w!="function")throw Error(te(150));if(y=w.call(y),y==null)throw Error(te(151));for(var N=w=null,k=b,P=b=0,C=null,M=y.next();k!==null&&!M.done;P++,M=y.next()){k.index>P?(C=k,k=null):C=k.sibling;var A=h(v,k,M.value,S);if(A===null){k===null&&(k=C);break}e&&k&&A.alternate===null&&t(v,k),b=i(A,b,P),N===null?w=A:N.sibling=A,N=A,k=C}if(M.done)return r(v,k),Ct&&so(v,P),w;if(k===null){for(;!M.done;P++,M=y.next())M=f(v,M.value,S),M!==null&&(b=i(M,b,P),N===null?w=M:N.sibling=M,N=M);return Ct&&so(v,P),w}for(k=n(v,k);!M.done;P++,M=y.next())M=p(k,v,P,M.value,S),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?P:M.key),b=i(M,b,P),N===null?w=M:N.sibling=M,N=M);return e&&k.forEach(function(_){return t(v,_)}),Ct&&so(v,P),w}function x(v,b,y,S){if(typeof y=="object"&&y!==null&&y.type===Nl&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Eh:e:{for(var w=y.key,N=b;N!==null;){if(N.key===w){if(w=y.type,w===Nl){if(N.tag===7){r(v,N.sibling),b=a(N,y.props.children),b.return=v,v=b;break e}}else if(N.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ji&&fk(w)===N.type){r(v,N.sibling),b=a(N,y.props),b.ref=Ru(v,N,y),b.return=v,v=b;break e}r(v,N);break}else t(v,N);N=N.sibling}y.type===Nl?(b=Eo(y.props.children,v.mode,S,y.key),b.return=v,v=b):(S=Em(y.type,y.key,y.props,null,v.mode,S),S.ref=Ru(v,b,y),S.return=v,v=S)}return o(v);case jl:e:{for(N=y.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===y.containerInfo&&b.stateNode.implementation===y.implementation){r(v,b.sibling),b=a(b,y.children||[]),b.return=v,v=b;break e}else{r(v,b);break}else t(v,b);b=b.sibling}b=t0(y,v.mode,S),b.return=v,v=b}return o(v);case Ji:return N=y._init,x(v,b,N(y._payload),S)}if(id(y))return g(v,b,y,S);if(Tu(y))return m(v,b,y,S);Wh(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,b!==null&&b.tag===6?(r(v,b.sibling),b=a(b,y),b.return=v,v=b):(r(v,b),b=e0(y,v.mode,S),b.return=v,v=b),o(v)):r(v,b)}return x}var Nc=p$(!0),g$=p$(!1),rp=qs(null),np=null,El=null,T1=null;function M1(){T1=El=np=null}function $1(e){var t=rp.current;Pt(rp),e._currentValue=t}function Mx(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Vl(e,t){np=e,T1=El=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(on=!0),e.firstContext=null)}function Kn(e){var t=e._currentValue;if(T1!==e)if(e={context:e,memoizedValue:t,next:null},El===null){if(np===null)throw Error(te(308));El=e,np.dependencies={lanes:0,firstContext:e}}else El=El.next=e;return t}var go=null;function D1(e){go===null?go=[e]:go.push(e)}function y$(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,D1(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ei(e,n)}function Ei(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var es=!1;function I1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function v$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ni(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ks(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,nt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ei(e,r)}return a=n.interleaved,a===null?(t.next=t,D1(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ei(e,r)}function km(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,w1(e,r)}}function hk(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ap(e,t,r,n){var a=e.updateQueue;es=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,m=l;switch(h=t,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=Rt({},f,h);break e;case 2:es=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Lo|=o,e.lanes=o,e.memoizedState=f}}function mk(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(te(191,a));a.call(n)}}}var ih={},qa=qs(ih),Vd=qs(ih),qd=qs(ih);function yo(e){if(e===ih)throw Error(te(174));return e}function R1(e,t){switch(wt(qd,t),wt(Vd,e),wt(qa,ih),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hx(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hx(t,e)}Pt(qa),wt(qa,t)}function Sc(){Pt(qa),Pt(Vd),Pt(qd)}function x$(e){yo(qd.current);var t=yo(qa.current),r=hx(t,e.type);t!==r&&(wt(Vd,e),wt(qa,r))}function F1(e){Vd.current===e&&(Pt(qa),Pt(Vd))}var Mt=qs(0);function ip(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kv=[];function L1(){for(var e=0;e<Kv.length;e++)Kv[e]._workInProgressVersionPrimary=null;Kv.length=0}var Pm=Bi.ReactCurrentDispatcher,Yv=Bi.ReactCurrentBatchConfig,Fo=0,Dt=null,ar=null,fr=null,sp=!1,xd=!1,Hd=0,zW=0;function kr(){throw Error(te(321))}function z1(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Sa(e[r],t[r]))return!1;return!0}function B1(e,t,r,n,a,i){if(Fo=i,Dt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pm.current=e===null||e.memoizedState===null?VW:qW,e=r(n,a),xd){i=0;do{if(xd=!1,Hd=0,25<=i)throw Error(te(301));i+=1,fr=ar=null,t.updateQueue=null,Pm.current=HW,e=r(n,a)}while(xd)}if(Pm.current=op,t=ar!==null&&ar.next!==null,Fo=0,fr=ar=Dt=null,sp=!1,t)throw Error(te(300));return e}function W1(){var e=Hd!==0;return Hd=0,e}function Ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fr===null?Dt.memoizedState=fr=e:fr=fr.next=e,fr}function Yn(){if(ar===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=ar.next;var t=fr===null?Dt.memoizedState:fr.next;if(t!==null)fr=t,ar=e;else{if(e===null)throw Error(te(310));ar=e,e={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},fr===null?Dt.memoizedState=fr=e:fr=fr.next=e}return fr}function Gd(e,t){return typeof t=="function"?t(e):t}function Qv(e){var t=Yn(),r=t.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=e;var n=ar,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Fo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Dt.lanes|=d,Lo|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Sa(n,t.memoizedState)||(on=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Dt.lanes|=i,Lo|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Xv(e){var t=Yn(),r=t.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Sa(i,t.memoizedState)||(on=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function b$(){}function w$(e,t){var r=Dt,n=Yn(),a=t(),i=!Sa(n.memoizedState,a);if(i&&(n.memoizedState=a,on=!0),n=n.queue,U1(S$.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||fr!==null&&fr.memoizedState.tag&1){if(r.flags|=2048,Kd(9,N$.bind(null,r,n,a,t),void 0,null),hr===null)throw Error(te(349));Fo&30||j$(r,t,a)}return a}function j$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Dt.updateQueue,t===null?(t={lastEffect:null,stores:null},Dt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function N$(e,t,r,n){t.value=r,t.getSnapshot=n,k$(t)&&P$(e)}function S$(e,t,r){return r(function(){k$(t)&&P$(e)})}function k$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Sa(e,r)}catch{return!0}}function P$(e){var t=Ei(e,1);t!==null&&wa(t,e,1,-1)}function pk(e){var t=Ea();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gd,lastRenderedState:e},t.queue=e,e=e.dispatch=UW.bind(null,Dt,e),[t.memoizedState,e]}function Kd(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Dt.updateQueue,t===null?(t={lastEffect:null,stores:null},Dt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function C$(){return Yn().memoizedState}function Cm(e,t,r,n){var a=Ea();Dt.flags|=e,a.memoizedState=Kd(1|t,r,void 0,n===void 0?null:n)}function ry(e,t,r,n){var a=Yn();n=n===void 0?null:n;var i=void 0;if(ar!==null){var o=ar.memoizedState;if(i=o.destroy,n!==null&&z1(n,o.deps)){a.memoizedState=Kd(t,r,i,n);return}}Dt.flags|=e,a.memoizedState=Kd(1|t,r,i,n)}function gk(e,t){return Cm(8390656,8,e,t)}function U1(e,t){return ry(2048,8,e,t)}function _$(e,t){return ry(4,2,e,t)}function A$(e,t){return ry(4,4,e,t)}function O$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function E$(e,t,r){return r=r!=null?r.concat([e]):null,ry(4,4,O$.bind(null,t,e),r)}function V1(){}function T$(e,t){var r=Yn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&z1(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function M$(e,t){var r=Yn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&z1(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function $$(e,t,r){return Fo&21?(Sa(r,t)||(r=L4(),Dt.lanes|=r,Lo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,on=!0),e.memoizedState=r)}function BW(e,t){var r=mt;mt=r!==0&&4>r?r:4,e(!0);var n=Yv.transition;Yv.transition={};try{e(!1),t()}finally{mt=r,Yv.transition=n}}function D$(){return Yn().memoizedState}function WW(e,t,r){var n=Cs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},I$(e))R$(t,r);else if(r=y$(e,t,r,n),r!==null){var a=Yr();wa(r,e,n,a),F$(r,t,n)}}function UW(e,t,r){var n=Cs(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(I$(e))R$(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,Sa(l,o)){var c=t.interleaved;c===null?(a.next=a,D1(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=y$(e,t,a,n),r!==null&&(a=Yr(),wa(r,e,n,a),F$(r,t,n))}}function I$(e){var t=e.alternate;return e===Dt||t!==null&&t===Dt}function R$(e,t){xd=sp=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function F$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,w1(e,r)}}var op={readContext:Kn,useCallback:kr,useContext:kr,useEffect:kr,useImperativeHandle:kr,useInsertionEffect:kr,useLayoutEffect:kr,useMemo:kr,useReducer:kr,useRef:kr,useState:kr,useDebugValue:kr,useDeferredValue:kr,useTransition:kr,useMutableSource:kr,useSyncExternalStore:kr,useId:kr,unstable_isNewReconciler:!1},VW={readContext:Kn,useCallback:function(e,t){return Ea().memoizedState=[e,t===void 0?null:t],e},useContext:Kn,useEffect:gk,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Cm(4194308,4,O$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Cm(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cm(4,2,e,t)},useMemo:function(e,t){var r=Ea();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ea();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=WW.bind(null,Dt,e),[n.memoizedState,e]},useRef:function(e){var t=Ea();return e={current:e},t.memoizedState=e},useState:pk,useDebugValue:V1,useDeferredValue:function(e){return Ea().memoizedState=e},useTransition:function(){var e=pk(!1),t=e[0];return e=BW.bind(null,e[1]),Ea().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Dt,a=Ea();if(Ct){if(r===void 0)throw Error(te(407));r=r()}else{if(r=t(),hr===null)throw Error(te(349));Fo&30||j$(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,gk(S$.bind(null,n,i,e),[e]),n.flags|=2048,Kd(9,N$.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ea(),t=hr.identifierPrefix;if(Ct){var r=xi,n=vi;r=(n&~(1<<32-ba(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Hd++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=zW++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qW={readContext:Kn,useCallback:T$,useContext:Kn,useEffect:U1,useImperativeHandle:E$,useInsertionEffect:_$,useLayoutEffect:A$,useMemo:M$,useReducer:Qv,useRef:C$,useState:function(){return Qv(Gd)},useDebugValue:V1,useDeferredValue:function(e){var t=Yn();return $$(t,ar.memoizedState,e)},useTransition:function(){var e=Qv(Gd)[0],t=Yn().memoizedState;return[e,t]},useMutableSource:b$,useSyncExternalStore:w$,useId:D$,unstable_isNewReconciler:!1},HW={readContext:Kn,useCallback:T$,useContext:Kn,useEffect:U1,useImperativeHandle:E$,useInsertionEffect:_$,useLayoutEffect:A$,useMemo:M$,useReducer:Xv,useRef:C$,useState:function(){return Xv(Gd)},useDebugValue:V1,useDeferredValue:function(e){var t=Yn();return ar===null?t.memoizedState=e:$$(t,ar.memoizedState,e)},useTransition:function(){var e=Xv(Gd)[0],t=Yn().memoizedState;return[e,t]},useMutableSource:b$,useSyncExternalStore:w$,useId:D$,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){t=Rt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function $x(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Rt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ny={isMounted:function(e){return(e=e._reactInternals)?il(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Yr(),a=Cs(e),i=Ni(n,a);i.payload=t,r!=null&&(i.callback=r),t=ks(e,i,a),t!==null&&(wa(t,e,a,n),km(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Yr(),a=Cs(e),i=Ni(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ks(e,i,a),t!==null&&(wa(t,e,a,n),km(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Yr(),n=Cs(e),a=Ni(r,n);a.tag=2,t!=null&&(a.callback=t),t=ks(e,a,n),t!==null&&(wa(t,e,n,r),km(t,e,n))}};function yk(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!zd(r,n)||!zd(a,i):!0}function L$(e,t,r){var n=!1,a=Ms,i=t.contextType;return typeof i=="object"&&i!==null?i=Kn(i):(a=un(t)?Io:Mr.current,n=t.contextTypes,i=(n=n!=null)?wc(e,a):Ms),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ny,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function vk(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ny.enqueueReplaceState(t,t.state,null)}function Dx(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},I1(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Kn(i):(i=un(t)?Io:Mr.current,a.context=wc(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&($x(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ny.enqueueReplaceState(a,a.state,null),ap(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function kc(e,t){try{var r="",n=t;do r+=b9(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Zv(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ix(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var GW=typeof WeakMap=="function"?WeakMap:Map;function z$(e,t,r){r=Ni(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){cp||(cp=!0,Hx=n),Ix(e,t)},r}function B$(e,t,r){r=Ni(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Ix(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ix(e,t),typeof n!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function xk(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new GW;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=oU.bind(null,e,t,r),t.then(e,e))}function bk(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wk(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ni(-1,1),t.tag=2,ks(r,t,1))),r.lanes|=1),e)}var KW=Bi.ReactCurrentOwner,on=!1;function Br(e,t,r,n){t.child=e===null?g$(t,null,r,n):Nc(t,e.child,r,n)}function jk(e,t,r,n,a){r=r.render;var i=t.ref;return Vl(t,a),n=B1(e,t,r,n,i,a),r=W1(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ti(e,t,a)):(Ct&&r&&A1(t),t.flags|=1,Br(e,t,n,a),t.child)}function Nk(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Z1(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,W$(e,t,i,n,a)):(e=Em(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:zd,r(o,n)&&e.ref===t.ref)return Ti(e,t,a)}return t.flags|=1,e=_s(i,n),e.ref=t.ref,e.return=t,t.child=e}function W$(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(zd(i,n)&&e.ref===t.ref)if(on=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(on=!0);else return t.lanes=e.lanes,Ti(e,t,a)}return Rx(e,t,r,n,a)}function U$(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Ml,gn),gn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,wt(Ml,gn),gn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,wt(Ml,gn),gn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,wt(Ml,gn),gn|=n;return Br(e,t,a,r),t.child}function V$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Rx(e,t,r,n,a){var i=un(r)?Io:Mr.current;return i=wc(t,i),Vl(t,a),r=B1(e,t,r,n,i,a),n=W1(),e!==null&&!on?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ti(e,t,a)):(Ct&&n&&A1(t),t.flags|=1,Br(e,t,r,a),t.child)}function Sk(e,t,r,n,a){if(un(r)){var i=!0;Jm(t)}else i=!1;if(Vl(t,a),t.stateNode===null)_m(e,t),L$(t,r,n),Dx(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Kn(u):(u=un(r)?Io:Mr.current,u=wc(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&vk(t,o,n,u),es=!1;var h=t.memoizedState;o.state=h,ap(t,n,o,a),c=t.memoizedState,l!==n||h!==c||cn.current||es?(typeof d=="function"&&($x(t,r,d,n),c=t.memoizedState),(l=es||yk(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,v$(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:na(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Kn(c):(c=un(r)?Io:Mr.current,c=wc(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&vk(t,o,n,c),es=!1,h=t.memoizedState,o.state=h,ap(t,n,o,a);var g=t.memoizedState;l!==f||h!==g||cn.current||es?(typeof p=="function"&&($x(t,r,p,n),g=t.memoizedState),(u=es||yk(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Fx(e,t,r,n,i,a)}function Fx(e,t,r,n,a,i){V$(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&ck(t,r,!1),Ti(e,t,i);n=t.stateNode,KW.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Nc(t,e.child,null,i),t.child=Nc(t,null,l,i)):Br(e,t,l,i),t.memoizedState=n.state,a&&ck(t,r,!0),t.child}function q$(e){var t=e.stateNode;t.pendingContext?lk(e,t.pendingContext,t.pendingContext!==t.context):t.context&&lk(e,t.context,!1),R1(e,t.containerInfo)}function kk(e,t,r,n,a){return jc(),E1(a),t.flags|=256,Br(e,t,r,n),t.child}var Lx={dehydrated:null,treeContext:null,retryLane:0};function zx(e){return{baseLanes:e,cachePool:null,transitions:null}}function H$(e,t,r){var n=t.pendingProps,a=Mt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),wt(Mt,a&1),e===null)return Tx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=sy(o,n,0,null),e=Eo(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=zx(r),t.memoizedState=Lx,e):q1(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return YW(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=_s(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=_s(l,i):(i=Eo(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?zx(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Lx,n}return i=e.child,e=i.sibling,n=_s(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function q1(e,t){return t=sy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Uh(e,t,r,n){return n!==null&&E1(n),Nc(t,e.child,null,r),e=q1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function YW(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Zv(Error(te(422))),Uh(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=sy({mode:"visible",children:n.children},a,0,null),i=Eo(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Nc(t,e.child,null,o),t.child.memoizedState=zx(o),t.memoizedState=Lx,i);if(!(t.mode&1))return Uh(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(te(419)),n=Zv(i,n,void 0),Uh(e,t,o,n)}if(l=(o&e.childLanes)!==0,on||l){if(n=hr,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Ei(e,a),wa(n,e,a,-1))}return X1(),n=Zv(Error(te(421))),Uh(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=lU.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,jn=Ss(a.nextSibling),Nn=t,Ct=!0,la=null,e!==null&&(Fn[Ln++]=vi,Fn[Ln++]=xi,Fn[Ln++]=Ro,vi=e.id,xi=e.overflow,Ro=t),t=q1(t,n.children),t.flags|=4096,t)}function Pk(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Mx(e.return,t,r)}function Jv(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function G$(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Br(e,t,n.children,r),n=Mt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pk(e,r,t);else if(e.tag===19)Pk(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(wt(Mt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&ip(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Jv(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ip(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Jv(t,!0,r,null,i);break;case"together":Jv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _m(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ti(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Lo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(te(153));if(t.child!==null){for(e=t.child,r=_s(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=_s(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function QW(e,t,r){switch(t.tag){case 3:q$(t),jc();break;case 5:x$(t);break;case 1:un(t.type)&&Jm(t);break;case 4:R1(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;wt(rp,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(wt(Mt,Mt.current&1),t.flags|=128,null):r&t.child.childLanes?H$(e,t,r):(wt(Mt,Mt.current&1),e=Ti(e,t,r),e!==null?e.sibling:null);wt(Mt,Mt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return G$(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),wt(Mt,Mt.current),n)break;return null;case 22:case 23:return t.lanes=0,U$(e,t,r)}return Ti(e,t,r)}var K$,Bx,Y$,Q$;K$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Bx=function(){};Y$=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,yo(qa.current);var i=null;switch(r){case"input":a=cx(e,a),n=cx(e,n),i=[];break;case"select":a=Rt({},a,{value:void 0}),n=Rt({},n,{value:void 0}),i=[];break;case"textarea":a=fx(e,a),n=fx(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Xm)}mx(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Md.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Md.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Nt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Q$=function(e,t,r,n){r!==n&&(t.flags|=4)};function Fu(e,t){if(!Ct)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Pr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function XW(e,t,r){var n=t.pendingProps;switch(O1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(t),null;case 1:return un(t.type)&&Zm(),Pr(t),null;case 3:return n=t.stateNode,Sc(),Pt(cn),Pt(Mr),L1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Bh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,la!==null&&(Yx(la),la=null))),Bx(e,t),Pr(t),null;case 5:F1(t);var a=yo(qd.current);if(r=t.type,e!==null&&t.stateNode!=null)Y$(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(te(166));return Pr(t),null}if(e=yo(qa.current),Bh(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ra]=t,n[Ud]=i,e=(t.mode&1)!==0,r){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(a=0;a<od.length;a++)Nt(od[a],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":DS(n,i),Nt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Nt("invalid",n);break;case"textarea":RS(n,i),Nt("invalid",n)}mx(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&zh(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&zh(n.textContent,l,e),a=["children",""+l]):Md.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Nt("scroll",n)}switch(r){case"input":Th(n),IS(n,i,!0);break;case"textarea":Th(n),FS(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Xm)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=S4(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ra]=t,e[Ud]=n,K$(e,t,!1,!1),t.stateNode=e;e:{switch(o=px(r,n),r){case"dialog":Nt("cancel",e),Nt("close",e),a=n;break;case"iframe":case"object":case"embed":Nt("load",e),a=n;break;case"video":case"audio":for(a=0;a<od.length;a++)Nt(od[a],e);a=n;break;case"source":Nt("error",e),a=n;break;case"img":case"image":case"link":Nt("error",e),Nt("load",e),a=n;break;case"details":Nt("toggle",e),a=n;break;case"input":DS(e,n),a=cx(e,n),Nt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Rt({},n,{value:void 0}),Nt("invalid",e);break;case"textarea":RS(e,n),a=fx(e,n),Nt("invalid",e);break;default:a=n}mx(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?C4(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&k4(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&$d(e,c):typeof c=="number"&&$d(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Md.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Nt("scroll",e):c!=null&&p1(e,i,c,o))}switch(r){case"input":Th(e),IS(e,n,!1);break;case"textarea":Th(e),FS(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ts(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?zl(e,!!n.multiple,i,!1):n.defaultValue!=null&&zl(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Xm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pr(t),null;case 6:if(e&&t.stateNode!=null)Q$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(te(166));if(r=yo(qd.current),yo(qa.current),Bh(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ra]=t,(i=n.nodeValue!==r)&&(e=Nn,e!==null))switch(e.tag){case 3:zh(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zh(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ra]=t,t.stateNode=n}return Pr(t),null;case 13:if(Pt(Mt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ct&&jn!==null&&t.mode&1&&!(t.flags&128))m$(),jc(),t.flags|=98560,i=!1;else if(i=Bh(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(te(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(te(317));i[Ra]=t}else jc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pr(t),i=!1}else la!==null&&(Yx(la),la=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Mt.current&1?sr===0&&(sr=3):X1())),t.updateQueue!==null&&(t.flags|=4),Pr(t),null);case 4:return Sc(),Bx(e,t),e===null&&Bd(t.stateNode.containerInfo),Pr(t),null;case 10:return $1(t.type._context),Pr(t),null;case 17:return un(t.type)&&Zm(),Pr(t),null;case 19:if(Pt(Mt),i=t.memoizedState,i===null)return Pr(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Fu(i,!1);else{if(sr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ip(e),o!==null){for(t.flags|=128,Fu(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return wt(Mt,Mt.current&1|2),t.child}e=e.sibling}i.tail!==null&&qt()>Pc&&(t.flags|=128,n=!0,Fu(i,!1),t.lanes=4194304)}else{if(!n)if(e=ip(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Fu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ct)return Pr(t),null}else 2*qt()-i.renderingStartTime>Pc&&r!==1073741824&&(t.flags|=128,n=!0,Fu(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=qt(),t.sibling=null,r=Mt.current,wt(Mt,n?r&1|2:r&1),t):(Pr(t),null);case 22:case 23:return Q1(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?gn&1073741824&&(Pr(t),t.subtreeFlags&6&&(t.flags|=8192)):Pr(t),null;case 24:return null;case 25:return null}throw Error(te(156,t.tag))}function ZW(e,t){switch(O1(t),t.tag){case 1:return un(t.type)&&Zm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sc(),Pt(cn),Pt(Mr),L1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return F1(t),null;case 13:if(Pt(Mt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(te(340));jc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pt(Mt),null;case 4:return Sc(),null;case 10:return $1(t.type._context),null;case 22:case 23:return Q1(),null;case 24:return null;default:return null}}var Vh=!1,Ar=!1,JW=typeof WeakSet=="function"?WeakSet:Set,be=null;function Tl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){zt(e,t,n)}else r.current=null}function Wx(e,t,r){try{r()}catch(n){zt(e,t,n)}}var Ck=!1;function eU(e,t){if(kx=Km,e=t$(),_1(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Px={focusedElem:e,selectionRange:r},Km=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){t=be;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,x=g.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:na(t.type,m),x);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(S){zt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}return g=Ck,Ck=!1,g}function bd(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Wx(t,r,i)}a=a.next}while(a!==n)}}function ay(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ux(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function X$(e){var t=e.alternate;t!==null&&(e.alternate=null,X$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ra],delete t[Ud],delete t[Ax],delete t[IW],delete t[RW])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Z$(e){return e.tag===5||e.tag===3||e.tag===4}function _k(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Z$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Xm));else if(n!==4&&(e=e.child,e!==null))for(Vx(e,t,r),e=e.sibling;e!==null;)Vx(e,t,r),e=e.sibling}function qx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(qx(e,t,r),e=e.sibling;e!==null;)qx(e,t,r),e=e.sibling}var xr=null,ia=!1;function Hi(e,t,r){for(r=r.child;r!==null;)J$(e,t,r),r=r.sibling}function J$(e,t,r){if(Va&&typeof Va.onCommitFiberUnmount=="function")try{Va.onCommitFiberUnmount(Qg,r)}catch{}switch(r.tag){case 5:Ar||Tl(r,t);case 6:var n=xr,a=ia;xr=null,Hi(e,t,r),xr=n,ia=a,xr!==null&&(ia?(e=xr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):xr.removeChild(r.stateNode));break;case 18:xr!==null&&(ia?(e=xr,r=r.stateNode,e.nodeType===8?Hv(e.parentNode,r):e.nodeType===1&&Hv(e,r),Fd(e)):Hv(xr,r.stateNode));break;case 4:n=xr,a=ia,xr=r.stateNode.containerInfo,ia=!0,Hi(e,t,r),xr=n,ia=a;break;case 0:case 11:case 14:case 15:if(!Ar&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Wx(r,t,o),a=a.next}while(a!==n)}Hi(e,t,r);break;case 1:if(!Ar&&(Tl(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){zt(r,t,l)}Hi(e,t,r);break;case 21:Hi(e,t,r);break;case 22:r.mode&1?(Ar=(n=Ar)||r.memoizedState!==null,Hi(e,t,r),Ar=n):Hi(e,t,r);break;default:Hi(e,t,r)}}function Ak(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new JW),t.forEach(function(n){var a=cU.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ea(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:xr=l.stateNode,ia=!1;break e;case 3:xr=l.stateNode.containerInfo,ia=!0;break e;case 4:xr=l.stateNode.containerInfo,ia=!0;break e}l=l.return}if(xr===null)throw Error(te(160));J$(i,o,a),xr=null,ia=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){zt(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)eD(t,e),t=t.sibling}function eD(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ea(t,e),Oa(e),n&4){try{bd(3,e,e.return),ay(3,e)}catch(m){zt(e,e.return,m)}try{bd(5,e,e.return)}catch(m){zt(e,e.return,m)}}break;case 1:ea(t,e),Oa(e),n&512&&r!==null&&Tl(r,r.return);break;case 5:if(ea(t,e),Oa(e),n&512&&r!==null&&Tl(r,r.return),e.flags&32){var a=e.stateNode;try{$d(a,"")}catch(m){zt(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&j4(a,i),px(l,o);var u=px(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?C4(a,f):d==="dangerouslySetInnerHTML"?k4(a,f):d==="children"?$d(a,f):p1(a,d,f,u)}switch(l){case"input":ux(a,i);break;case"textarea":N4(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?zl(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?zl(a,!!i.multiple,i.defaultValue,!0):zl(a,!!i.multiple,i.multiple?[]:"",!1))}a[Ud]=i}catch(m){zt(e,e.return,m)}}break;case 6:if(ea(t,e),Oa(e),n&4){if(e.stateNode===null)throw Error(te(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){zt(e,e.return,m)}}break;case 3:if(ea(t,e),Oa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Fd(t.containerInfo)}catch(m){zt(e,e.return,m)}break;case 4:ea(t,e),Oa(e);break;case 13:ea(t,e),Oa(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(K1=qt())),n&4&&Ak(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ar=(u=Ar)||d,ea(t,e),Ar=u):ea(t,e),Oa(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(be=e,d=e.child;d!==null;){for(f=be=d;be!==null;){switch(h=be,p=h.child,h.tag){case 0:case 11:case 14:case 15:bd(4,h,h.return);break;case 1:Tl(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){zt(n,r,m)}}break;case 5:Tl(h,h.return);break;case 22:if(h.memoizedState!==null){Ek(f);continue}}p!==null?(p.return=h,be=p):Ek(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=P4("display",o))}catch(m){zt(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){zt(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ea(t,e),Oa(e),n&4&&Ak(e);break;case 21:break;default:ea(t,e),Oa(e)}}function Oa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Z$(r)){var n=r;break e}r=r.return}throw Error(te(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&($d(a,""),n.flags&=-33);var i=_k(e);qx(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=_k(e);Vx(e,l,o);break;default:throw Error(te(161))}}catch(c){zt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tU(e,t,r){be=e,tD(e)}function tD(e,t,r){for(var n=(e.mode&1)!==0;be!==null;){var a=be,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Vh;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Ar;l=Vh;var u=Ar;if(Vh=o,(Ar=c)&&!u)for(be=a;be!==null;)o=be,c=o.child,o.tag===22&&o.memoizedState!==null?Tk(a):c!==null?(c.return=o,be=c):Tk(a);for(;i!==null;)be=i,tD(i),i=i.sibling;be=a,Vh=l,Ar=u}Ok(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,be=i):Ok(e)}}function Ok(e){for(;be!==null;){var t=be;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ar||ay(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ar)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:na(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&mk(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}mk(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Fd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}Ar||t.flags&512&&Ux(t)}catch(h){zt(t,t.return,h)}}if(t===e){be=null;break}if(r=t.sibling,r!==null){r.return=t.return,be=r;break}be=t.return}}function Ek(e){for(;be!==null;){var t=be;if(t===e){be=null;break}var r=t.sibling;if(r!==null){r.return=t.return,be=r;break}be=t.return}}function Tk(e){for(;be!==null;){var t=be;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ay(4,t)}catch(c){zt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){zt(t,a,c)}}var i=t.return;try{Ux(t)}catch(c){zt(t,i,c)}break;case 5:var o=t.return;try{Ux(t)}catch(c){zt(t,o,c)}}}catch(c){zt(t,t.return,c)}if(t===e){be=null;break}var l=t.sibling;if(l!==null){l.return=t.return,be=l;break}be=t.return}}var rU=Math.ceil,lp=Bi.ReactCurrentDispatcher,H1=Bi.ReactCurrentOwner,Vn=Bi.ReactCurrentBatchConfig,nt=0,hr=null,Zt=null,jr=0,gn=0,Ml=qs(0),sr=0,Yd=null,Lo=0,iy=0,G1=0,wd=null,nn=null,K1=0,Pc=1/0,mi=null,cp=!1,Hx=null,Ps=null,qh=!1,ys=null,up=0,jd=0,Gx=null,Am=-1,Om=0;function Yr(){return nt&6?qt():Am!==-1?Am:Am=qt()}function Cs(e){return e.mode&1?nt&2&&jr!==0?jr&-jr:LW.transition!==null?(Om===0&&(Om=L4()),Om):(e=mt,e!==0||(e=window.event,e=e===void 0?16:H4(e.type)),e):1}function wa(e,t,r,n){if(50<jd)throw jd=0,Gx=null,Error(te(185));rh(e,r,n),(!(nt&2)||e!==hr)&&(e===hr&&(!(nt&2)&&(iy|=r),sr===4&&ns(e,jr)),dn(e,n),r===1&&nt===0&&!(t.mode&1)&&(Pc=qt()+500,ty&&Hs()))}function dn(e,t){var r=e.callbackNode;L9(e,t);var n=Gm(e,e===hr?jr:0);if(n===0)r!==null&&BS(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&BS(r),t===1)e.tag===0?FW(Mk.bind(null,e)):d$(Mk.bind(null,e)),$W(function(){!(nt&6)&&Hs()}),r=null;else{switch(z4(n)){case 1:r=b1;break;case 4:r=R4;break;case 16:r=Hm;break;case 536870912:r=F4;break;default:r=Hm}r=cD(r,rD.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function rD(e,t){if(Am=-1,Om=0,nt&6)throw Error(te(327));var r=e.callbackNode;if(ql()&&e.callbackNode!==r)return null;var n=Gm(e,e===hr?jr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=dp(e,n);else{t=n;var a=nt;nt|=2;var i=aD();(hr!==e||jr!==t)&&(mi=null,Pc=qt()+500,Oo(e,t));do try{iU();break}catch(l){nD(e,l)}while(!0);M1(),lp.current=i,nt=a,Zt!==null?t=0:(hr=null,jr=0,t=sr)}if(t!==0){if(t===2&&(a=bx(e),a!==0&&(n=a,t=Kx(e,a))),t===1)throw r=Yd,Oo(e,0),ns(e,n),dn(e,qt()),r;if(t===6)ns(e,n);else{if(a=e.current.alternate,!(n&30)&&!nU(a)&&(t=dp(e,n),t===2&&(i=bx(e),i!==0&&(n=i,t=Kx(e,i))),t===1))throw r=Yd,Oo(e,0),ns(e,n),dn(e,qt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(te(345));case 2:oo(e,nn,mi);break;case 3:if(ns(e,n),(n&130023424)===n&&(t=K1+500-qt(),10<t)){if(Gm(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Yr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=_x(oo.bind(null,e,nn,mi),t);break}oo(e,nn,mi);break;case 4:if(ns(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-ba(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=qt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*rU(n/1960))-n,10<n){e.timeoutHandle=_x(oo.bind(null,e,nn,mi),n);break}oo(e,nn,mi);break;case 5:oo(e,nn,mi);break;default:throw Error(te(329))}}}return dn(e,qt()),e.callbackNode===r?rD.bind(null,e):null}function Kx(e,t){var r=wd;return e.current.memoizedState.isDehydrated&&(Oo(e,t).flags|=256),e=dp(e,t),e!==2&&(t=nn,nn=r,t!==null&&Yx(t)),e}function Yx(e){nn===null?nn=e:nn.push.apply(nn,e)}function nU(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Sa(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ns(e,t){for(t&=~G1,t&=~iy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ba(t),n=1<<r;e[r]=-1,t&=~n}}function Mk(e){if(nt&6)throw Error(te(327));ql();var t=Gm(e,0);if(!(t&1))return dn(e,qt()),null;var r=dp(e,t);if(e.tag!==0&&r===2){var n=bx(e);n!==0&&(t=n,r=Kx(e,n))}if(r===1)throw r=Yd,Oo(e,0),ns(e,t),dn(e,qt()),r;if(r===6)throw Error(te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,oo(e,nn,mi),dn(e,qt()),null}function Y1(e,t){var r=nt;nt|=1;try{return e(t)}finally{nt=r,nt===0&&(Pc=qt()+500,ty&&Hs())}}function zo(e){ys!==null&&ys.tag===0&&!(nt&6)&&ql();var t=nt;nt|=1;var r=Vn.transition,n=mt;try{if(Vn.transition=null,mt=1,e)return e()}finally{mt=n,Vn.transition=r,nt=t,!(nt&6)&&Hs()}}function Q1(){gn=Ml.current,Pt(Ml)}function Oo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,MW(r)),Zt!==null)for(r=Zt.return;r!==null;){var n=r;switch(O1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Zm();break;case 3:Sc(),Pt(cn),Pt(Mr),L1();break;case 5:F1(n);break;case 4:Sc();break;case 13:Pt(Mt);break;case 19:Pt(Mt);break;case 10:$1(n.type._context);break;case 22:case 23:Q1()}r=r.return}if(hr=e,Zt=e=_s(e.current,null),jr=gn=t,sr=0,Yd=null,G1=iy=Lo=0,nn=wd=null,go!==null){for(t=0;t<go.length;t++)if(r=go[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}go=null}return e}function nD(e,t){do{var r=Zt;try{if(M1(),Pm.current=op,sp){for(var n=Dt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}sp=!1}if(Fo=0,fr=ar=Dt=null,xd=!1,Hd=0,H1.current=null,r===null||r.return===null){sr=1,Yd=t,Zt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=jr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=bk(o);if(p!==null){p.flags&=-257,wk(p,o,l,i,t),p.mode&1&&xk(i,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}else{if(!(t&1)){xk(i,u,t),X1();break e}c=Error(te(426))}}else if(Ct&&l.mode&1){var x=bk(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),wk(x,o,l,i,t),E1(kc(c,l));break e}}i=c=kc(c,l),sr!==4&&(sr=2),wd===null?wd=[i]:wd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=z$(i,c,t);hk(i,v);break e;case 1:l=c;var b=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ps===null||!Ps.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=B$(i,l,t);hk(i,S);break e}}i=i.return}while(i!==null)}sD(r)}catch(w){t=w,Zt===r&&r!==null&&(Zt=r=r.return);continue}break}while(!0)}function aD(){var e=lp.current;return lp.current=op,e===null?op:e}function X1(){(sr===0||sr===3||sr===2)&&(sr=4),hr===null||!(Lo&268435455)&&!(iy&268435455)||ns(hr,jr)}function dp(e,t){var r=nt;nt|=2;var n=aD();(hr!==e||jr!==t)&&(mi=null,Oo(e,t));do try{aU();break}catch(a){nD(e,a)}while(!0);if(M1(),nt=r,lp.current=n,Zt!==null)throw Error(te(261));return hr=null,jr=0,sr}function aU(){for(;Zt!==null;)iD(Zt)}function iU(){for(;Zt!==null&&!O9();)iD(Zt)}function iD(e){var t=lD(e.alternate,e,gn);e.memoizedProps=e.pendingProps,t===null?sD(e):Zt=t,H1.current=null}function sD(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=ZW(r,t),r!==null){r.flags&=32767,Zt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{sr=6,Zt=null;return}}else if(r=XW(r,t,gn),r!==null){Zt=r;return}if(t=t.sibling,t!==null){Zt=t;return}Zt=t=e}while(t!==null);sr===0&&(sr=5)}function oo(e,t,r){var n=mt,a=Vn.transition;try{Vn.transition=null,mt=1,sU(e,t,r,n)}finally{Vn.transition=a,mt=n}return null}function sU(e,t,r,n){do ql();while(ys!==null);if(nt&6)throw Error(te(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(te(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(z9(e,i),e===hr&&(Zt=hr=null,jr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||qh||(qh=!0,cD(Hm,function(){return ql(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Vn.transition,Vn.transition=null;var o=mt;mt=1;var l=nt;nt|=4,H1.current=null,eU(e,r),eD(r,e),PW(Px),Km=!!kx,Px=kx=null,e.current=r,tU(r),E9(),nt=l,mt=o,Vn.transition=i}else e.current=r;if(qh&&(qh=!1,ys=e,up=a),i=e.pendingLanes,i===0&&(Ps=null),$9(r.stateNode),dn(e,qt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(cp)throw cp=!1,e=Hx,Hx=null,e;return up&1&&e.tag!==0&&ql(),i=e.pendingLanes,i&1?e===Gx?jd++:(jd=0,Gx=e):jd=0,Hs(),null}function ql(){if(ys!==null){var e=z4(up),t=Vn.transition,r=mt;try{if(Vn.transition=null,mt=16>e?16:e,ys===null)var n=!1;else{if(e=ys,ys=null,up=0,nt&6)throw Error(te(331));var a=nt;for(nt|=4,be=e.current;be!==null;){var i=be,o=i.child;if(be.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(be=u;be!==null;){var d=be;switch(d.tag){case 0:case 11:case 15:bd(8,d,i)}var f=d.child;if(f!==null)f.return=d,be=f;else for(;be!==null;){d=be;var h=d.sibling,p=d.return;if(X$(d),d===u){be=null;break}if(h!==null){h.return=p,be=h;break}be=p}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}be=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,be=o;else e:for(;be!==null;){if(i=be,i.flags&2048)switch(i.tag){case 0:case 11:case 15:bd(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,be=v;break e}be=i.return}}var b=e.current;for(be=b;be!==null;){o=be;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,be=y;else e:for(o=b;be!==null;){if(l=be,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ay(9,l)}}catch(w){zt(l,l.return,w)}if(l===o){be=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,be=S;break e}be=l.return}}if(nt=a,Hs(),Va&&typeof Va.onPostCommitFiberRoot=="function")try{Va.onPostCommitFiberRoot(Qg,e)}catch{}n=!0}return n}finally{mt=r,Vn.transition=t}}return!1}function $k(e,t,r){t=kc(r,t),t=z$(e,t,1),e=ks(e,t,1),t=Yr(),e!==null&&(rh(e,1,t),dn(e,t))}function zt(e,t,r){if(e.tag===3)$k(e,e,r);else for(;t!==null;){if(t.tag===3){$k(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ps===null||!Ps.has(n))){e=kc(r,e),e=B$(t,e,1),t=ks(t,e,1),e=Yr(),t!==null&&(rh(t,1,e),dn(t,e));break}}t=t.return}}function oU(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Yr(),e.pingedLanes|=e.suspendedLanes&r,hr===e&&(jr&r)===r&&(sr===4||sr===3&&(jr&130023424)===jr&&500>qt()-K1?Oo(e,0):G1|=r),dn(e,t)}function oD(e,t){t===0&&(e.mode&1?(t=Dh,Dh<<=1,!(Dh&130023424)&&(Dh=4194304)):t=1);var r=Yr();e=Ei(e,t),e!==null&&(rh(e,t,r),dn(e,r))}function lU(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),oD(e,r)}function cU(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(te(314))}n!==null&&n.delete(t),oD(e,r)}var lD;lD=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||cn.current)on=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return on=!1,QW(e,t,r);on=!!(e.flags&131072)}else on=!1,Ct&&t.flags&1048576&&f$(t,tp,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;_m(e,t),e=t.pendingProps;var a=wc(t,Mr.current);Vl(t,r),a=B1(null,t,n,e,a,r);var i=W1();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,un(n)?(i=!0,Jm(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,I1(t),a.updater=ny,t.stateNode=a,a._reactInternals=t,Dx(t,n,e,r),t=Fx(null,t,n,!0,i,r)):(t.tag=0,Ct&&i&&A1(t),Br(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(_m(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=dU(n),e=na(n,e),a){case 0:t=Rx(null,t,n,e,r);break e;case 1:t=Sk(null,t,n,e,r);break e;case 11:t=jk(null,t,n,e,r);break e;case 14:t=Nk(null,t,n,na(n.type,e),r);break e}throw Error(te(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:na(n,a),Rx(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:na(n,a),Sk(e,t,n,a,r);case 3:e:{if(q$(t),e===null)throw Error(te(387));n=t.pendingProps,i=t.memoizedState,a=i.element,v$(e,t),ap(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=kc(Error(te(423)),t),t=kk(e,t,n,r,a);break e}else if(n!==a){a=kc(Error(te(424)),t),t=kk(e,t,n,r,a);break e}else for(jn=Ss(t.stateNode.containerInfo.firstChild),Nn=t,Ct=!0,la=null,r=g$(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(jc(),n===a){t=Ti(e,t,r);break e}Br(e,t,n,r)}t=t.child}return t;case 5:return x$(t),e===null&&Tx(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Cx(n,a)?o=null:i!==null&&Cx(n,i)&&(t.flags|=32),V$(e,t),Br(e,t,o,r),t.child;case 6:return e===null&&Tx(t),null;case 13:return H$(e,t,r);case 4:return R1(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Nc(t,null,n,r):Br(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:na(n,a),jk(e,t,n,a,r);case 7:return Br(e,t,t.pendingProps,r),t.child;case 8:return Br(e,t,t.pendingProps.children,r),t.child;case 12:return Br(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,wt(rp,n._currentValue),n._currentValue=o,i!==null)if(Sa(i.value,o)){if(i.children===a.children&&!cn.current){t=Ti(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Ni(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Mx(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(te(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Mx(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Br(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Vl(t,r),a=Kn(a),n=n(a),t.flags|=1,Br(e,t,n,r),t.child;case 14:return n=t.type,a=na(n,t.pendingProps),a=na(n.type,a),Nk(e,t,n,a,r);case 15:return W$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:na(n,a),_m(e,t),t.tag=1,un(n)?(e=!0,Jm(t)):e=!1,Vl(t,r),L$(t,n,a),Dx(t,n,a,r),Fx(null,t,n,!0,e,r);case 19:return G$(e,t,r);case 22:return U$(e,t,r)}throw Error(te(156,t.tag))};function cD(e,t){return I4(e,t)}function uU(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,t,r,n){return new uU(e,t,r,n)}function Z1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dU(e){if(typeof e=="function")return Z1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===y1)return 11;if(e===v1)return 14}return 2}function _s(e,t){var r=e.alternate;return r===null?(r=zn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Em(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")Z1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Nl:return Eo(r.children,a,i,t);case g1:o=8,a|=8;break;case ix:return e=zn(12,r,t,a|2),e.elementType=ix,e.lanes=i,e;case sx:return e=zn(13,r,t,a),e.elementType=sx,e.lanes=i,e;case ox:return e=zn(19,r,t,a),e.elementType=ox,e.lanes=i,e;case x4:return sy(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case y4:o=10;break e;case v4:o=9;break e;case y1:o=11;break e;case v1:o=14;break e;case Ji:o=16,n=null;break e}throw Error(te(130,e==null?e:typeof e,""))}return t=zn(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Eo(e,t,r,n){return e=zn(7,e,n,t),e.lanes=r,e}function sy(e,t,r,n){return e=zn(22,e,n,t),e.elementType=x4,e.lanes=r,e.stateNode={isHidden:!1},e}function e0(e,t,r){return e=zn(6,e,null,t),e.lanes=r,e}function t0(e,t,r){return t=zn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fU(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dv(0),this.expirationTimes=Dv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dv(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function J1(e,t,r,n,a,i,o,l,c){return e=new fU(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=zn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},I1(i),e}function hU(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jl,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function uD(e){if(!e)return Ms;e=e._reactInternals;e:{if(il(e)!==e||e.tag!==1)throw Error(te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(un(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(te(171))}if(e.tag===1){var r=e.type;if(un(r))return u$(e,r,t)}return t}function dD(e,t,r,n,a,i,o,l,c){return e=J1(r,n,!0,e,a,i,o,l,c),e.context=uD(null),r=e.current,n=Yr(),a=Cs(r),i=Ni(n,a),i.callback=t??null,ks(r,i,a),e.current.lanes=a,rh(e,a,n),dn(e,n),e}function oy(e,t,r,n){var a=t.current,i=Yr(),o=Cs(a);return r=uD(r),t.context===null?t.context=r:t.pendingContext=r,t=Ni(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ks(a,t,o),e!==null&&(wa(e,a,o,i),km(e,a,o)),o}function fp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Dk(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ej(e,t){Dk(e,t),(e=e.alternate)&&Dk(e,t)}function mU(){return null}var fD=typeof reportError=="function"?reportError:function(e){console.error(e)};function tj(e){this._internalRoot=e}ly.prototype.render=tj.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(te(409));oy(e,t,null,null)};ly.prototype.unmount=tj.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zo(function(){oy(null,e,null,null)}),t[Oi]=null}};function ly(e){this._internalRoot=e}ly.prototype.unstable_scheduleHydration=function(e){if(e){var t=U4();e={blockedOn:null,target:e,priority:t};for(var r=0;r<rs.length&&t!==0&&t<rs[r].priority;r++);rs.splice(r,0,e),r===0&&q4(e)}};function rj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ik(){}function pU(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=fp(o);i.call(u)}}var o=dD(t,n,e,0,null,!1,!1,"",Ik);return e._reactRootContainer=o,e[Oi]=o.current,Bd(e.nodeType===8?e.parentNode:e),zo(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=fp(c);l.call(u)}}var c=J1(e,0,!1,null,null,!1,!1,"",Ik);return e._reactRootContainer=c,e[Oi]=c.current,Bd(e.nodeType===8?e.parentNode:e),zo(function(){oy(t,c,r,n)}),c}function uy(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=fp(o);l.call(c)}}oy(t,o,e,a)}else o=pU(r,t,e,a,n);return fp(o)}B4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=sd(t.pendingLanes);r!==0&&(w1(t,r|1),dn(t,qt()),!(nt&6)&&(Pc=qt()+500,Hs()))}break;case 13:zo(function(){var n=Ei(e,1);if(n!==null){var a=Yr();wa(n,e,1,a)}}),ej(e,1)}};j1=function(e){if(e.tag===13){var t=Ei(e,134217728);if(t!==null){var r=Yr();wa(t,e,134217728,r)}ej(e,134217728)}};W4=function(e){if(e.tag===13){var t=Cs(e),r=Ei(e,t);if(r!==null){var n=Yr();wa(r,e,t,n)}ej(e,t)}};U4=function(){return mt};V4=function(e,t){var r=mt;try{return mt=e,t()}finally{mt=r}};yx=function(e,t,r){switch(t){case"input":if(ux(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=ey(n);if(!a)throw Error(te(90));w4(n),ux(n,a)}}}break;case"textarea":N4(e,r);break;case"select":t=r.value,t!=null&&zl(e,!!r.multiple,t,!1)}};O4=Y1;E4=zo;var gU={usingClientEntryPoint:!1,Events:[ah,Cl,ey,_4,A4,Y1]},Lu={findFiberByHostInstance:po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yU={bundleType:Lu.bundleType,version:Lu.version,rendererPackageName:Lu.rendererPackageName,rendererConfig:Lu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$4(e),e===null?null:e.stateNode},findFiberByHostInstance:Lu.findFiberByHostInstance||mU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hh.isDisabled&&Hh.supportsFiber)try{Qg=Hh.inject(yU),Va=Hh}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gU;An.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rj(t))throw Error(te(200));return hU(e,t,null,r)};An.createRoot=function(e,t){if(!rj(e))throw Error(te(299));var r=!1,n="",a=fD;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=J1(e,1,!1,null,null,r,!1,n,a),e[Oi]=t.current,Bd(e.nodeType===8?e.parentNode:e),new tj(t)};An.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(te(188)):(e=Object.keys(e).join(","),Error(te(268,e)));return e=$4(t),e=e===null?null:e.stateNode,e};An.flushSync=function(e){return zo(e)};An.hydrate=function(e,t,r){if(!cy(t))throw Error(te(200));return uy(null,e,t,!0,r)};An.hydrateRoot=function(e,t,r){if(!rj(e))throw Error(te(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=fD;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=dD(t,null,e,1,r??null,a,!1,i,o),e[Oi]=t.current,Bd(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new ly(t)};An.render=function(e,t,r){if(!cy(t))throw Error(te(200));return uy(null,e,t,!1,r)};An.unmountComponentAtNode=function(e){if(!cy(e))throw Error(te(40));return e._reactRootContainer?(zo(function(){uy(null,null,e,!1,function(){e._reactRootContainer=null,e[Oi]=null})}),!0):!1};An.unstable_batchedUpdates=Y1;An.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!cy(r))throw Error(te(200));if(e==null||e._reactInternals===void 0)throw Error(te(38));return uy(e,t,r,!1,n)};An.version="18.3.1-next-f1338f8080-20240426";function hD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hD)}catch(e){console.error(e)}}hD(),h4.exports=An;var du=h4.exports;const vU=yt(du);var mD,Rk=du;mD=Rk.createRoot,Rk.hydrateRoot;var fu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Bo=typeof window>"u"||"Deno"in globalThis;function In(){}function xU(e,t){return typeof e=="function"?e(t):e}function Qx(e){return typeof e=="number"&&e>=0&&e!==1/0}function pD(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Hl(e,t){return typeof e=="function"?e(t):e}function ca(e,t){return typeof e=="function"?e(t):e}function Fk(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==nj(o,t.options))return!1}else if(!Qd(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function Lk(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Wo(t.options.mutationKey)!==Wo(i))return!1}else if(!Qd(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function nj(e,t){return((t==null?void 0:t.queryKeyHashFn)||Wo)(e)}function Wo(e){return JSON.stringify(e,(t,r)=>Xx(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Qd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Qd(e[r],t[r])):!1}function gD(e,t){if(e===t)return e;const r=zk(e)&&zk(t);if(r||Xx(e)&&Xx(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:i[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=gD(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function hp(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function zk(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Xx(e){if(!Bk(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Bk(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Bk(e){return Object.prototype.toString.call(e)==="[object Object]"}function bU(e){return new Promise(t=>{setTimeout(t,e)})}function Zx(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?gD(e,t):t}function wU(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function jU(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var aj=Symbol();function yD(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===aj?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var No,os,oc,iO,NU=(iO=class extends fu{constructor(){super();Oe(this,No);Oe(this,os);Oe(this,oc);pe(this,oc,t=>{if(!Bo&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){F(this,os)||this.setEventListener(F(this,oc))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,os))==null||t.call(this),pe(this,os,void 0))}setEventListener(t){var r;pe(this,oc,t),(r=F(this,os))==null||r.call(this),pe(this,os,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){F(this,No)!==t&&(pe(this,No,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof F(this,No)=="boolean"?F(this,No):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},No=new WeakMap,os=new WeakMap,oc=new WeakMap,iO),ij=new NU,lc,ls,cc,sO,SU=(sO=class extends fu{constructor(){super();Oe(this,lc,!0);Oe(this,ls);Oe(this,cc);pe(this,cc,t=>{if(!Bo&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){F(this,ls)||this.setEventListener(F(this,cc))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,ls))==null||t.call(this),pe(this,ls,void 0))}setEventListener(t){var r;pe(this,cc,t),(r=F(this,ls))==null||r.call(this),pe(this,ls,t(this.setOnline.bind(this)))}setOnline(t){F(this,lc)!==t&&(pe(this,lc,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return F(this,lc)}},lc=new WeakMap,ls=new WeakMap,cc=new WeakMap,sO),mp=new SU;function Jx(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function kU(e){return Math.min(1e3*2**e,3e4)}function vD(e){return(e??"online")==="online"?mp.isOnline():!0}var xD=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function r0(e){return e instanceof xD}function bD(e){let t=!1,r=0,n=!1,a;const i=Jx(),o=m=>{var x;n||(h(new xD(m)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>ij.isFocused()&&(e.networkMode==="always"||mp.isOnline())&&e.canRun(),d=()=>vD(e.networkMode)&&e.canRun(),f=m=>{var x;n||(n=!0,(x=e.onSuccess)==null||x.call(e,m),a==null||a(),i.resolve(m))},h=m=>{var x;n||(n=!0,(x=e.onError)==null||x.call(e,m),a==null||a(),i.reject(m))},p=()=>new Promise(m=>{var x;a=v=>{(n||u())&&m(v)},(x=e.onPause)==null||x.call(e)}).then(()=>{var m;a=void 0,n||(m=e.onContinue)==null||m.call(e)}),g=()=>{if(n)return;let m;const x=r===0?e.initialPromise:void 0;try{m=x??e.fn()}catch(v){m=Promise.reject(v)}Promise.resolve(m).then(f).catch(v=>{var N;if(n)return;const b=e.retry??(Bo?0:3),y=e.retryDelay??kU,S=typeof y=="function"?y(r,v):y,w=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,v);if(t||!w){h(v);return}r++,(N=e.onFail)==null||N.call(e,r,v),bU(S).then(()=>u()?void 0:p()).then(()=>{t?h(v):g()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():p().then(g),i)}}function PU(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var ir=PU(),So,oO,wD=(oO=class{constructor(){Oe(this,So)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Qx(this.gcTime)&&pe(this,So,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Bo?1/0:5*60*1e3))}clearGcTimeout(){F(this,So)&&(clearTimeout(F(this,So)),pe(this,So,void 0))}},So=new WeakMap,oO),uc,dc,Dn,Cr,Xf,ko,aa,fi,lO,CU=(lO=class extends wD{constructor(t){super();Oe(this,aa);Oe(this,uc);Oe(this,dc);Oe(this,Dn);Oe(this,Cr);Oe(this,Xf);Oe(this,ko);pe(this,ko,!1),pe(this,Xf,t.defaultOptions),this.setOptions(t.options),this.observers=[],pe(this,Dn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,pe(this,uc,_U(this.options)),this.state=t.state??F(this,uc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=F(this,Cr))==null?void 0:t.promise}setOptions(t){this.options={...F(this,Xf),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,Dn).remove(this)}setData(t,r){const n=Zx(this.state.data,t,this.options);return qe(this,aa,fi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){qe(this,aa,fi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=F(this,Cr))==null?void 0:n.promise;return(a=F(this,Cr))==null||a.cancel(t),r?r.then(In).catch(In):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,uc))}isActive(){return this.observers.some(t=>ca(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===aj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!pD(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=F(this,Cr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=F(this,Cr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),F(this,Dn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(F(this,Cr)&&(F(this,ko)?F(this,Cr).cancel({revert:!0}):F(this,Cr).cancelRetry()),this.scheduleGc()),F(this,Dn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||qe(this,aa,fi).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,Cr))return F(this,Cr).continueRetry(),F(this,Cr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(pe(this,ko,!0),n.signal)})},i=()=>{const f=yD(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return a(h),pe(this,ko,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),pe(this,dc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&qe(this,aa,fi).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,p,g,m;r0(f)&&f.silent||qe(this,aa,fi).call(this,{type:"error",error:f}),r0(f)||((p=(h=F(this,Dn).config).onError)==null||p.call(h,f,this),(m=(g=F(this,Dn).config).onSettled)==null||m.call(g,this.state.data,f,this)),this.scheduleGc()};return pe(this,Cr,bD({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,p,g,m;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){l(x);return}(p=(h=F(this,Dn).config).onSuccess)==null||p.call(h,f,this),(m=(g=F(this,Dn).config).onSettled)==null||m.call(g,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{qe(this,aa,fi).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{qe(this,aa,fi).call(this,{type:"pause"})},onContinue:()=>{qe(this,aa,fi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),F(this,Cr).start()}},uc=new WeakMap,dc=new WeakMap,Dn=new WeakMap,Cr=new WeakMap,Xf=new WeakMap,ko=new WeakMap,aa=new WeakSet,fi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...jD(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return r0(a)&&a.revert&&F(this,dc)?{...F(this,dc),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ir.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),F(this,Dn).notify({query:this,type:"updated",action:t})})},lO);function jD(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vD(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function _U(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ma,cO,AU=(cO=class extends fu{constructor(t={}){super();Oe(this,Ma);this.config=t,pe(this,Ma,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??nj(a,r);let o=this.get(i);return o||(o=new CU({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){F(this,Ma).has(t.queryHash)||(F(this,Ma).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=F(this,Ma).get(t.queryHash);r&&(t.destroy(),r===t&&F(this,Ma).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ir.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return F(this,Ma).get(t)}getAll(){return[...F(this,Ma).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Fk(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Fk(t,n)):r}notify(t){ir.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ir.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ir.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ma=new WeakMap,cO),$a,Fr,Po,Da,Xi,uO,OU=(uO=class extends wD{constructor(t){super();Oe(this,Da);Oe(this,$a);Oe(this,Fr);Oe(this,Po);this.mutationId=t.mutationId,pe(this,Fr,t.mutationCache),pe(this,$a,[]),this.state=t.state||ND(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){F(this,$a).includes(t)||(F(this,$a).push(t),this.clearGcTimeout(),F(this,Fr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){pe(this,$a,F(this,$a).filter(r=>r!==t)),this.scheduleGc(),F(this,Fr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){F(this,$a).length||(this.state.status==="pending"?this.scheduleGc():F(this,Fr).remove(this))}continue(){var t;return((t=F(this,Po))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,u,d,f,h,p,g,m,x,v,b,y,S,w,N,k;pe(this,Po,bD({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,C)=>{qe(this,Da,Xi).call(this,{type:"failed",failureCount:P,error:C})},onPause:()=>{qe(this,Da,Xi).call(this,{type:"pause"})},onContinue:()=>{qe(this,Da,Xi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,Fr).canRun(this)}));const r=this.state.status==="pending",n=!F(this,Po).canStart();try{if(!r){qe(this,Da,Xi).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(a=F(this,Fr).config).onMutate)==null?void 0:i.call(a,t,this));const C=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));C!==this.state.context&&qe(this,Da,Xi).call(this,{type:"pending",context:C,variables:t,isPaused:n})}const P=await F(this,Po).start();return await((u=(c=F(this,Fr).config).onSuccess)==null?void 0:u.call(c,P,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,P,t,this.state.context)),await((p=(h=F(this,Fr).config).onSettled)==null?void 0:p.call(h,P,null,this.state.variables,this.state.context,this)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,P,null,t,this.state.context)),qe(this,Da,Xi).call(this,{type:"success",data:P}),P}catch(P){try{throw await((v=(x=F(this,Fr).config).onError)==null?void 0:v.call(x,P,t,this.state.context,this)),await((y=(b=this.options).onError)==null?void 0:y.call(b,P,t,this.state.context)),await((w=(S=F(this,Fr).config).onSettled)==null?void 0:w.call(S,void 0,P,this.state.variables,this.state.context,this)),await((k=(N=this.options).onSettled)==null?void 0:k.call(N,void 0,P,t,this.state.context)),P}finally{qe(this,Da,Xi).call(this,{type:"error",error:P})}}finally{F(this,Fr).runNext(this)}}},$a=new WeakMap,Fr=new WeakMap,Po=new WeakMap,Da=new WeakSet,Xi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ir.batch(()=>{F(this,$a).forEach(n=>{n.onMutationUpdate(t)}),F(this,Fr).notify({mutation:this,type:"updated",action:t})})},uO);function ND(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pn,Zf,dO,EU=(dO=class extends fu{constructor(t={}){super();Oe(this,pn);Oe(this,Zf);this.config=t,pe(this,pn,new Map),pe(this,Zf,Date.now())}build(t,r,n){const a=new OU({mutationCache:this,mutationId:++_h(this,Zf)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){const r=Gh(t),n=F(this,pn).get(r)??[];n.push(t),F(this,pn).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Gh(t);if(F(this,pn).has(r)){const a=(n=F(this,pn).get(r))==null?void 0:n.filter(i=>i!==t);a&&(a.length===0?F(this,pn).delete(r):F(this,pn).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=F(this,pn).get(Gh(t)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=F(this,pn).get(Gh(t)))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){ir.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...F(this,pn).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Lk(r,n))}findAll(t={}){return this.getAll().filter(r=>Lk(t,r))}notify(t){ir.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ir.batch(()=>Promise.all(t.map(r=>r.continue().catch(In))))}},pn=new WeakMap,Zf=new WeakMap,dO);function Gh(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Wk(e){return{onFetch:(t,r)=>{var d,f,h,p,g;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const x=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},v=yD(t.options,t.fetchOptions),b=async(y,S,w)=>{if(m)return Promise.reject();if(S==null&&y.pages.length)return Promise.resolve(y);const N={queryKey:t.queryKey,pageParam:S,direction:w?"backward":"forward",meta:t.options.meta};x(N);const k=await v(N),{maxPages:P}=t.options,C=w?jU:wU;return{pages:C(y.pages,k,P),pageParams:C(y.pageParams,S,P)}};if(a&&i.length){const y=a==="backward",S=y?TU:Uk,w={pages:i,pageParams:o},N=S(n,w);l=await b(w,N,y)}else{const y=e??i.length;do{const S=c===0?o[0]??n.initialPageParam:Uk(n,l);if(c>0&&S==null)break;l=await b(l,S),c++}while(c<y)}return l};t.options.persister?t.fetchFn=()=>{var m,x;return(x=(m=t.options).persister)==null?void 0:x.call(m,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Uk(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function TU(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ft,cs,us,fc,hc,ds,mc,pc,fO,MU=(fO=class{constructor(e={}){Oe(this,Ft);Oe(this,cs);Oe(this,us);Oe(this,fc);Oe(this,hc);Oe(this,ds);Oe(this,mc);Oe(this,pc);pe(this,Ft,e.queryCache||new AU),pe(this,cs,e.mutationCache||new EU),pe(this,us,e.defaultOptions||{}),pe(this,fc,new Map),pe(this,hc,new Map),pe(this,ds,0)}mount(){_h(this,ds)._++,F(this,ds)===1&&(pe(this,mc,ij.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,Ft).onFocus())})),pe(this,pc,mp.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,Ft).onOnline())})))}unmount(){var e,t;_h(this,ds)._--,F(this,ds)===0&&((e=F(this,mc))==null||e.call(this),pe(this,mc,void 0),(t=F(this,pc))==null||t.call(this),pe(this,pc,void 0))}isFetching(e){return F(this,Ft).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return F(this,cs).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=F(this,Ft).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=F(this,Ft).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Hl(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return F(this,Ft).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=F(this,Ft).get(n.queryHash),i=a==null?void 0:a.state.data,o=xU(t,i);if(o!==void 0)return F(this,Ft).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return ir.batch(()=>F(this,Ft).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=F(this,Ft).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=F(this,Ft);ir.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=F(this,Ft),n={type:"active",...e};return ir.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=ir.batch(()=>F(this,Ft).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(In).catch(In)}invalidateQueries(e={},t={}){return ir.batch(()=>{if(F(this,Ft).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=ir.batch(()=>F(this,Ft).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(In)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(In)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=F(this,Ft).build(this,t);return r.isStaleByTime(Hl(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(In).catch(In)}fetchInfiniteQuery(e){return e.behavior=Wk(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(In).catch(In)}ensureInfiniteQueryData(e){return e.behavior=Wk(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return mp.isOnline()?F(this,cs).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,Ft)}getMutationCache(){return F(this,cs)}getDefaultOptions(){return F(this,us)}setDefaultOptions(e){pe(this,us,e)}setQueryDefaults(e,t){F(this,fc).set(Wo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...F(this,fc).values()];let r={};return t.forEach(n=>{Qd(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){F(this,hc).set(Wo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...F(this,hc).values()];let r={};return t.forEach(n=>{Qd(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...F(this,us).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=nj(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===aj&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...F(this,us).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){F(this,Ft).clear(),F(this,cs).clear()}},Ft=new WeakMap,cs=new WeakMap,us=new WeakMap,fc=new WeakMap,hc=new WeakMap,ds=new WeakMap,mc=new WeakMap,pc=new WeakMap,fO),en,Ze,Jf,Lr,Co,gc,fs,Ia,eh,yc,vc,_o,Ao,hs,xc,ft,ld,eb,tb,rb,nb,ab,ib,sb,SD,hO,$U=(hO=class extends fu{constructor(t,r){super();Oe(this,ft);Oe(this,en);Oe(this,Ze);Oe(this,Jf);Oe(this,Lr);Oe(this,Co);Oe(this,gc);Oe(this,fs);Oe(this,Ia);Oe(this,eh);Oe(this,yc);Oe(this,vc);Oe(this,_o);Oe(this,Ao);Oe(this,hs);Oe(this,xc,new Set);this.options=r,pe(this,en,t),pe(this,Ia,null),pe(this,fs,Jx()),this.options.experimental_prefetchInRender||F(this,fs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,Ze).addObserver(this),Vk(F(this,Ze),this.options)?qe(this,ft,ld).call(this):this.updateResult(),qe(this,ft,nb).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ob(F(this,Ze),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ob(F(this,Ze),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,qe(this,ft,ab).call(this),qe(this,ft,ib).call(this),F(this,Ze).removeObserver(this)}setOptions(t,r){const n=this.options,a=F(this,Ze);if(this.options=F(this,en).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ca(this.options.enabled,F(this,Ze))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");qe(this,ft,sb).call(this),F(this,Ze).setOptions(this.options),n._defaulted&&!hp(this.options,n)&&F(this,en).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,Ze),observer:this});const i=this.hasListeners();i&&qk(F(this,Ze),a,this.options,n)&&qe(this,ft,ld).call(this),this.updateResult(r),i&&(F(this,Ze)!==a||ca(this.options.enabled,F(this,Ze))!==ca(n.enabled,F(this,Ze))||Hl(this.options.staleTime,F(this,Ze))!==Hl(n.staleTime,F(this,Ze)))&&qe(this,ft,eb).call(this);const o=qe(this,ft,tb).call(this);i&&(F(this,Ze)!==a||ca(this.options.enabled,F(this,Ze))!==ca(n.enabled,F(this,Ze))||o!==F(this,hs))&&qe(this,ft,rb).call(this,o)}getOptimisticResult(t){const r=F(this,en).getQueryCache().build(F(this,en),t),n=this.createResult(r,t);return IU(this,n)&&(pe(this,Lr,n),pe(this,gc,this.options),pe(this,Co,F(this,Ze).state)),n}getCurrentResult(){return F(this,Lr)}trackResult(t,r){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),n}trackProp(t){F(this,xc).add(t)}getCurrentQuery(){return F(this,Ze)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=F(this,en).defaultQueryOptions(t),n=F(this,en).getQueryCache().build(F(this,en),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return qe(this,ft,ld).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,Lr)))}createResult(t,r){var P;const n=F(this,Ze),a=this.options,i=F(this,Lr),o=F(this,Co),l=F(this,gc),u=t!==n?t.state:F(this,Jf),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const C=this.hasListeners(),M=!C&&Vk(t,r),A=C&&qk(t,n,r,a);(M||A)&&(f={...f,...jD(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:m,status:x}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&r.select===F(this,eh))p=F(this,yc);else try{pe(this,eh,r.select),p=r.select(f.data),p=Zx(i==null?void 0:i.data,p,r),pe(this,yc,p),pe(this,Ia,null)}catch(C){pe(this,Ia,C)}else p=f.data;if(r.placeholderData!==void 0&&p===void 0&&x==="pending"){let C;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))C=i.data;else if(C=typeof r.placeholderData=="function"?r.placeholderData((P=F(this,vc))==null?void 0:P.state.data,F(this,vc)):r.placeholderData,r.select&&C!==void 0)try{C=r.select(C),pe(this,Ia,null)}catch(M){pe(this,Ia,M)}C!==void 0&&(x="success",p=Zx(i==null?void 0:i.data,C,r),h=!0)}F(this,Ia)&&(g=F(this,Ia),p=F(this,yc),m=Date.now(),x="error");const v=f.fetchStatus==="fetching",b=x==="pending",y=x==="error",S=b&&v,w=p!==void 0,k={status:x,fetchStatus:f.fetchStatus,isPending:b,isSuccess:x==="success",isError:y,isInitialLoading:S,isLoading:S,data:p,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!b,isLoadingError:y&&!w,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:y&&w,isStale:sj(t,r),refetch:this.refetch,promise:F(this,fs)};if(this.options.experimental_prefetchInRender){const C=_=>{k.status==="error"?_.reject(k.error):k.data!==void 0&&_.resolve(k.data)},M=()=>{const _=pe(this,fs,k.promise=Jx());C(_)},A=F(this,fs);switch(A.status){case"pending":t.queryHash===n.queryHash&&C(A);break;case"fulfilled":(k.status==="error"||k.data!==A.value)&&M();break;case"rejected":(k.status!=="error"||k.error!==A.reason)&&M();break}}return k}updateResult(t){const r=F(this,Lr),n=this.createResult(F(this,Ze),this.options);if(pe(this,Co,F(this,Ze).state),pe(this,gc,this.options),F(this,Co).data!==void 0&&pe(this,vc,F(this,Ze)),hp(n,r))return;pe(this,Lr,n);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!F(this,xc).size)return!0;const c=new Set(l??F(this,xc));return this.options.throwOnError&&c.add("error"),Object.keys(F(this,Lr)).some(u=>{const d=u;return F(this,Lr)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),qe(this,ft,SD).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&qe(this,ft,nb).call(this)}},en=new WeakMap,Ze=new WeakMap,Jf=new WeakMap,Lr=new WeakMap,Co=new WeakMap,gc=new WeakMap,fs=new WeakMap,Ia=new WeakMap,eh=new WeakMap,yc=new WeakMap,vc=new WeakMap,_o=new WeakMap,Ao=new WeakMap,hs=new WeakMap,xc=new WeakMap,ft=new WeakSet,ld=function(t){qe(this,ft,sb).call(this);let r=F(this,Ze).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(In)),r},eb=function(){qe(this,ft,ab).call(this);const t=Hl(this.options.staleTime,F(this,Ze));if(Bo||F(this,Lr).isStale||!Qx(t))return;const n=pD(F(this,Lr).dataUpdatedAt,t)+1;pe(this,_o,setTimeout(()=>{F(this,Lr).isStale||this.updateResult()},n))},tb=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,Ze)):this.options.refetchInterval)??!1},rb=function(t){qe(this,ft,ib).call(this),pe(this,hs,t),!(Bo||ca(this.options.enabled,F(this,Ze))===!1||!Qx(F(this,hs))||F(this,hs)===0)&&pe(this,Ao,setInterval(()=>{(this.options.refetchIntervalInBackground||ij.isFocused())&&qe(this,ft,ld).call(this)},F(this,hs)))},nb=function(){qe(this,ft,eb).call(this),qe(this,ft,rb).call(this,qe(this,ft,tb).call(this))},ab=function(){F(this,_o)&&(clearTimeout(F(this,_o)),pe(this,_o,void 0))},ib=function(){F(this,Ao)&&(clearInterval(F(this,Ao)),pe(this,Ao,void 0))},sb=function(){const t=F(this,en).getQueryCache().build(F(this,en),this.options);if(t===F(this,Ze))return;const r=F(this,Ze);pe(this,Ze,t),pe(this,Jf,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},SD=function(t){ir.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(F(this,Lr))}),F(this,en).getQueryCache().notify({query:F(this,Ze),type:"observerResultsUpdated"})})},hO);function DU(e,t){return ca(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Vk(e,t){return DU(e,t)||e.state.data!==void 0&&ob(e,t,t.refetchOnMount)}function ob(e,t,r){if(ca(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&sj(e,t)}return!1}function qk(e,t,r,n){return(e!==t||ca(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&sj(e,r)}function sj(e,t){return ca(t.enabled,e)!==!1&&e.isStaleByTime(Hl(t.staleTime,e))}function IU(e,t){return!hp(e.getCurrentResult(),t)}var ms,ps,tn,yi,_i,Tm,lb,mO,RU=(mO=class extends fu{constructor(r,n){super();Oe(this,_i);Oe(this,ms);Oe(this,ps);Oe(this,tn);Oe(this,yi);pe(this,ms,r),this.setOptions(n),this.bindMethods(),qe(this,_i,Tm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=F(this,ms).defaultMutationOptions(r),hp(this.options,n)||F(this,ms).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,tn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Wo(n.mutationKey)!==Wo(this.options.mutationKey)?this.reset():((a=F(this,tn))==null?void 0:a.state.status)==="pending"&&F(this,tn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=F(this,tn))==null||r.removeObserver(this)}onMutationUpdate(r){qe(this,_i,Tm).call(this),qe(this,_i,lb).call(this,r)}getCurrentResult(){return F(this,ps)}reset(){var r;(r=F(this,tn))==null||r.removeObserver(this),pe(this,tn,void 0),qe(this,_i,Tm).call(this),qe(this,_i,lb).call(this)}mutate(r,n){var a;return pe(this,yi,n),(a=F(this,tn))==null||a.removeObserver(this),pe(this,tn,F(this,ms).getMutationCache().build(F(this,ms),this.options)),F(this,tn).addObserver(this),F(this,tn).execute(r)}},ms=new WeakMap,ps=new WeakMap,tn=new WeakMap,yi=new WeakMap,_i=new WeakSet,Tm=function(){var n;const r=((n=F(this,tn))==null?void 0:n.state)??ND();pe(this,ps,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},lb=function(r){ir.batch(()=>{var n,a,i,o,l,c,u,d;if(F(this,yi)&&this.hasListeners()){const f=F(this,ps).variables,h=F(this,ps).context;(r==null?void 0:r.type)==="success"?((a=(n=F(this,yi)).onSuccess)==null||a.call(n,r.data,f,h),(o=(i=F(this,yi)).onSettled)==null||o.call(i,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=F(this,yi)).onError)==null||c.call(l,r.error,f,h),(d=(u=F(this,yi)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(F(this,ps))})})},mO),kD=j.createContext(void 0),En=e=>{const t=j.useContext(kD);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},FU=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(kD.Provider,{value:e,children:t})),PD=j.createContext(!1),LU=()=>j.useContext(PD);PD.Provider;function zU(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var BU=j.createContext(zU()),WU=()=>j.useContext(BU);function CD(e,t){return typeof e=="function"?e(...t):!!e}function cb(){}var UU=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},VU=e=>{j.useEffect(()=>{e.clearReset()},[e])},qU=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&CD(r,[e.error,n]),HU=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},GU=(e,t)=>e.isLoading&&e.isFetching&&!t,KU=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Hk=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function YU(e,t,r){var d,f,h,p,g;const n=En(),a=LU(),i=WU(),o=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=a?"isRestoring":"optimistic",HU(o),UU(o,i),VU(i);const l=!n.getQueryCache().get(o.queryHash),[c]=j.useState(()=>new t(n,o)),u=c.getOptimisticResult(o);if(j.useSyncExternalStore(j.useCallback(m=>{const x=a?cb:c.subscribe(ir.batchCalls(m));return c.updateResult(),x},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),KU(o,u))throw Hk(o,c,i);if(qU({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((p=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,o,u),o.experimental_prefetchInRender&&!Bo&&GU(u,a)){const m=l?Hk(o,c,i):(g=n.getQueryCache().get(o.queryHash))==null?void 0:g.promise;m==null||m.catch(cb).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function It(e,t){return YU(e,$U)}function Jt(e,t){const r=En(),[n]=j.useState(()=>new RU(r,e));j.useEffect(()=>{n.setOptions(e)},[n,e]);const a=j.useSyncExternalStore(j.useCallback(o=>n.subscribe(ir.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=j.useCallback((o,l)=>{n.mutate(o,l).catch(cb)},[n]);if(a.error&&CD(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}function _D(e){const r=QU()||void 0||"";return r&&!e.startsWith("http")?new URL(e,r).toString():e}async function AD(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}function OD(){return typeof window<"u"?localStorage.getItem("platemate_mobile_token"):null}function QU(){return typeof window<"u"?localStorage.getItem("platemate_api_base"):null}async function $t(e,t,r){const n=_D(t),a=r?{"Content-Type":"application/json"}:{},i=OD();i&&(a.Authorization=`Bearer ${i}`);const o=await fetch(n,{method:e,headers:a,body:r?JSON.stringify(r):void 0,credentials:"include"});return await AD(o),o}const XU=({on401:e})=>async({queryKey:t})=>{const r=t.join("/"),n=_D(r),a={},i=OD();i&&(a.Authorization=`Bearer ${i}`);const o=await fetch(n,{headers:a,credentials:"include"});return e==="returnNull"&&o.status===401?null:(await AD(o),await o.json())},ZU=new MU({defaultOptions:{queries:{queryFn:XU({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});function JU(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,a,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(o.push(r),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~n?n:~i?i:a.length)),l+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~n?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var ED={exports:{}},TD={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cc=j;function eV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tV=typeof Object.is=="function"?Object.is:eV,rV=Cc.useState,nV=Cc.useEffect,aV=Cc.useLayoutEffect,iV=Cc.useDebugValue;function sV(e,t){var r=t(),n=rV({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return aV(function(){a.value=r,a.getSnapshot=t,n0(a)&&i({inst:a})},[e,r,t]),nV(function(){return n0(a)&&i({inst:a}),e(function(){n0(a)&&i({inst:a})})},[e]),iV(r),r}function n0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tV(e,r)}catch{return!0}}function oV(e,t){return t()}var lV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?oV:sV;TD.useSyncExternalStore=Cc.useSyncExternalStore!==void 0?Cc.useSyncExternalStore:lV;ED.exports=TD;var cV=ED.exports;const uV=d4.useInsertionEffect,dV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fV=dV?j.useLayoutEffect:j.useEffect,hV=uV||fV,MD=e=>{const t=j.useRef([e,(...r)=>t[0](...r)]).current;return hV(()=>{t[0]=e}),t[1]},mV="popstate",oj="pushState",lj="replaceState",pV="hashchange",Gk=[mV,oj,lj,pV],gV=e=>{for(const t of Gk)addEventListener(t,e);return()=>{for(const t of Gk)removeEventListener(t,e)}},$D=(e,t)=>cV.useSyncExternalStore(gV,e,t),yV=()=>location.search,vV=({ssrSearch:e=""}={})=>$D(yV,()=>e),Kk=()=>location.pathname,xV=({ssrPath:e}={})=>$D(Kk,e?()=>e:Kk),bV=(e,{replace:t=!1,state:r=null}={})=>history[t?lj:oj](r,"",e),wV=(e={})=>[xV(e),bV],Yk=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Yk]>"u"){for(const e of[oj,lj]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,Yk,{value:!0})}const jV=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",DD=(e="")=>e==="/"?"":e,NV=(e,t)=>e[0]==="~"?e.slice(1):DD(t)+e,SV=(e="",t)=>jV(Qk(DD(e)),Qk(t)),Qk=e=>{try{return decodeURI(e)}catch{return e}},ID={hook:wV,searchHook:vV,parser:JU,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},RD=j.createContext(ID),sh=()=>j.useContext(RD),FD={},LD=j.createContext(FD),kV=()=>j.useContext(LD),dy=e=>{const[t,r]=e.hook(e);return[SV(e.base,t),MD((n,a)=>r(NV(n,e.base),a))]},cj=()=>dy(sh()),zD=(e,t,r,n)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=a.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[l]:[]]:[!1,null]},PV=({children:e,...t})=>{var d,f;const r=sh(),n=t.hook?ID:r;let a=n;const[i,o]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=j.useRef({}),c=l.current,u=c;for(let h in n){const p=h==="base"?n[h]+(t[h]||""):t[h]||n[h];c===u&&p!==u[h]&&(l.current=u={...u}),u[h]=p,p!==n[h]&&(a=u)}return j.createElement(RD.Provider,{value:a,children:e})},Xk=({children:e,component:t},r)=>t?j.createElement(t,{params:r}):typeof e=="function"?e(r):e,CV=e=>{let t=j.useRef(FD),r=t.current;for(const n in e)e[n]!==r[n]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},tr=({path:e,nest:t,match:r,...n})=>{const a=sh(),[i]=dy(a),[o,l,c]=r??zD(a.parser,e,i,t),u=CV({...kV(),...l});if(!o)return null;const d=c?j.createElement(PV,{base:c},Xk(n,u)):Xk(n,u);return j.createElement(LD.Provider,{value:u,children:d})},vt=j.forwardRef((e,t)=>{const r=sh(),[n,a]=dy(r),{to:i="",href:o=i,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,...p}=e,g=MD(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(l==null||l(x),x.defaultPrevented||(x.preventDefault(),a(o,e)))}),m=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&j.isValidElement(u)?j.cloneElement(u,{onClick:g,href:m}):j.createElement("a",{...p,onClick:g,href:m,className:d!=null&&d.call?d(n===o):d,children:u,ref:t})}),BD=e=>Array.isArray(e)?e.flatMap(t=>BD(t&&t.type===j.Fragment?t.props.children:t)):[e],_V=({children:e,location:t})=>{const r=sh(),[n]=dy(r);for(const a of BD(e)){let i=0;if(j.isValidElement(a)&&(i=zD(r.parser,a.props.path,t||n,a.props.nest))[0])return j.cloneElement(a,{match:i})}return null};/*! Capacitor: https://capacitorjs.com/ - MIT License */var _c;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(_c||(_c={}));class Gl extends Error{constructor(t,r,n){super(t),this.message=t,this.code=r,this.data=n}}const AV=e=>{var t,r;return e!=null&&e.androidBridge?"android":!((r=(t=e==null?void 0:e.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},OV=e=>{const t=e.CapacitorCustomPlatform||null,r=e.Capacitor||{},n=r.Plugins=r.Plugins||{},a=()=>t!==null?t.name:AV(e),i=()=>a()!=="web",o=f=>{const h=u.get(f);return!!(h!=null&&h.platforms.has(a())||l(f))},l=f=>{var h;return(h=r.PluginHeaders)===null||h===void 0?void 0:h.find(p=>p.name===f)},c=f=>e.console.error(f),u=new Map,d=(f,h={})=>{const p=u.get(f);if(p)return console.warn(`Capacitor plugin "${f}" already registered. Cannot register plugins twice.`),p.proxy;const g=a(),m=l(f);let x;const v=async()=>(!x&&g in h?x=typeof h[g]=="function"?x=await h[g]():x=h[g]:t!==null&&!x&&"web"in h&&(x=typeof h.web=="function"?x=await h.web():x=h.web),x),b=(P,C)=>{var M,A;if(m){const _=m==null?void 0:m.methods.find(R=>C===R.name);if(_)return _.rtype==="promise"?R=>r.nativePromise(f,C.toString(),R):(R,L)=>r.nativeCallback(f,C.toString(),R,L);if(P)return(M=P[C])===null||M===void 0?void 0:M.bind(P)}else{if(P)return(A=P[C])===null||A===void 0?void 0:A.bind(P);throw new Gl(`"${f}" plugin is not implemented on ${g}`,_c.Unimplemented)}},y=P=>{let C;const M=(...A)=>{const _=v().then(R=>{const L=b(R,P);if(L){const D=L(...A);return C=D==null?void 0:D.remove,D}else throw new Gl(`"${f}.${P}()" is not implemented on ${g}`,_c.Unimplemented)});return P==="addListener"&&(_.remove=async()=>C()),_};return M.toString=()=>`${P.toString()}() { [capacitor code] }`,Object.defineProperty(M,"name",{value:P,writable:!1,configurable:!1}),M},S=y("addListener"),w=y("removeListener"),N=(P,C)=>{const M=S({eventName:P},C),A=async()=>{const R=await M;w({eventName:P,callbackId:R},C)},_=new Promise(R=>M.then(()=>R({remove:A})));return _.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await A()},_},k=new Proxy({},{get(P,C){switch(C){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return m?N:S;case"removeListener":return w;default:return y(C)}}});return n[f]=k,u.set(f,{name:f,proxy:k,platforms:new Set([...Object.keys(h),...m?[g]:[]])}),k};return r.convertFileSrc||(r.convertFileSrc=f=>f),r.getPlatform=a,r.handleError=c,r.isNativePlatform=i,r.isPluginAvailable=o,r.registerPlugin=d,r.Exception=Gl,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},EV=e=>e.Capacitor=OV(e),Ht=EV(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),oh=Ht.registerPlugin;class uj{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(t,r){let n=!1;this.listeners[t]||(this.listeners[t]=[],n=!0),this.listeners[t].push(r);const i=this.windowListeners[t];i&&!i.registered&&this.addWindowListener(i),n&&this.sendRetainedArgumentsForEvent(t);const o=async()=>this.removeListener(t,r);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,r,n){const a=this.listeners[t];if(!a){if(n){let i=this.retainedEventArguments[t];i||(i=[]),i.push(r),this.retainedEventArguments[t]=i}return}a.forEach(i=>i(r))}hasListeners(t){var r;return!!(!((r=this.listeners[t])===null||r===void 0)&&r.length)}registerWindowListener(t,r){this.windowListeners[r]={registered:!1,windowEventName:t,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(t="not implemented"){return new Ht.Exception(t,_c.Unimplemented)}unavailable(t="not available"){return new Ht.Exception(t,_c.Unavailable)}async removeListener(t,r){const n=this.listeners[t];if(!n)return;const a=n.indexOf(r);this.listeners[t].splice(a,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}sendRetainedArgumentsForEvent(t){const r=this.retainedEventArguments[t];r&&(delete this.retainedEventArguments[t],r.forEach(n=>{this.notifyListeners(t,n)}))}}const Zk=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Jk=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class TV extends uj{async getCookies(){const t=document.cookie,r={};return t.split(";").forEach(n=>{if(n.length<=0)return;let[a,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=Jk(a).trim(),i=Jk(i).trim(),r[a]=i}),r}async setCookie(t){try{const r=Zk(t.key),n=Zk(t.value),a=`; expires=${(t.expires||"").replace("expires=","")}`,i=(t.path||"/").replace("path=",""),o=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${r}=${n||""}${a}; path=${i}; ${o};`}catch(r){return Promise.reject(r)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const r of t)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}oh("CapacitorCookies",{web:()=>new TV});const MV=async e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{const a=n.result;t(a.indexOf(",")>=0?a.split(",")[1]:a)},n.onerror=a=>r(a),n.readAsDataURL(e)}),$V=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(a=>a.toLocaleLowerCase()).reduce((a,i,o)=>(a[i]=e[t[o]],a),{})},DV=(e,t=!0)=>e?Object.entries(e).reduce((n,a)=>{const[i,o]=a;let l,c;return Array.isArray(o)?(c="",o.forEach(u=>{l=t?encodeURIComponent(u):u,c+=`${i}=${l}&`}),c.slice(0,-1)):(l=t?encodeURIComponent(o):o,c=`${i}=${l}`),`${n}&${c}`},"").substr(1):null,IV=(e,t={})=>{const r=Object.assign({method:e.method||"GET",headers:e.headers},t),a=$V(e.headers)["content-type"]||"";if(typeof e.data=="string")r.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,l]of Object.entries(e.data||{}))i.set(o,l);r.body=i.toString()}else if(a.includes("multipart/form-data")||e.data instanceof FormData){const i=new FormData;if(e.data instanceof FormData)e.data.forEach((l,c)=>{i.append(c,l)});else for(const l of Object.keys(e.data))i.append(l,e.data[l]);r.body=i;const o=new Headers(r.headers);o.delete("content-type"),r.headers=o}else(a.includes("application/json")||typeof e.data=="object")&&(r.body=JSON.stringify(e.data));return r};class RV extends uj{async request(t){const r=IV(t,t.webFetchExtra),n=DV(t.params,t.shouldEncodeUrlParams),a=n?`${t.url}?${n}`:t.url,i=await fetch(a,r),o=i.headers.get("content-type")||"";let{responseType:l="text"}=i.ok?t:{};o.includes("application/json")&&(l="json");let c,u;switch(l){case"arraybuffer":case"blob":u=await i.blob(),c=await MV(u);break;case"json":c=await i.json();break;case"document":case"text":default:c=await i.text()}const d={};return i.headers.forEach((f,h)=>{d[h]=f}),{data:c,headers:d,status:i.status,url:i.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}oh("CapacitorHttp",{web:()=>new RV});const Gg=class Gg{static async initialize(){try{console.log(" Platform check:",{isNative:Ht.isNativePlatform(),platform:Ht.getPlatform()});const t=window.location.search.includes("debug=mobile");if(!Ht.isNativePlatform()&&!t)return console.log(" Web platform - skipping mobile auth"),!0;console.log(" Native platform detected - setting up mobile auth");const r=this.getApiBaseUrl();localStorage.setItem(this.API_BASE_KEY,r);let n=localStorage.getItem(this.TOKEN_KEY);if(n)console.log(" Mobile token found in storage");else if(console.log(" No mobile token found, generating new one..."),n=await this.generateMobileToken(),n)localStorage.setItem(this.TOKEN_KEY,n),console.log(" Mobile token generated and stored");else return console.error(" Failed to generate mobile token"),!1;return!0}catch(t){return console.error(" Mobile auth initialization failed:",t),console.log(" Allowing app to continue without mobile auth"),!0}}static async testApiConnectivity(t){try{console.log(" Testing connectivity to:",t);const r=await fetch(`${t}/api/auth/user`,{method:"GET",headers:{"Content-Type":"application/json"}});return console.log(" Connectivity test result:",r.status),r.status===401||r.ok}catch(r){return console.error(" Connectivity test failed:",r),!1}}static async generateMobileToken(){try{const r=`${this.getApiBaseUrl()}/api/auth/mobile-token`;console.log(" Generating mobile token from:",r);const n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"}});if(console.log(" Token response status:",n.status,n.statusText),n.ok){const a=await n.json();return console.log(" Mobile token response:",a),a.token}else{const a=await n.text();return console.error(" Token generation failed:",n.status,n.statusText,a),null}}catch(t){return console.error(" Token generation error:",t),null}}static getApiBaseUrl(){const t="https://b3ef8bbc-4987-4bf0-84a0-21447c42de4e-00-d9egvcnatzxk.kirk.replit.dev";if(Ht.isNativePlatform())return console.log(" Native platform - using Replit URL:",t),t;const r=window.location.origin;return console.log(" Web platform - using current origin:",r),r}static getToken(){return localStorage.getItem(this.TOKEN_KEY)}static getApiBase(){return localStorage.getItem(this.API_BASE_KEY)}static clearAuth(){localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.API_BASE_KEY),console.log(" Mobile auth cleared")}static async refreshToken(){return this.clearAuth(),await this.initialize()}};Gg.TOKEN_KEY="platemate_mobile_token",Gg.API_BASE_KEY="platemate_api_base";let ub=Gg;const FV=1,LV=1e6;let a0=0;function zV(){return a0=(a0+1)%Number.MAX_SAFE_INTEGER,a0.toString()}const i0=new Map,e2=e=>{if(i0.has(e))return;const t=setTimeout(()=>{i0.delete(e),Nd({type:"REMOVE_TOAST",toastId:e})},LV);i0.set(e,t)},BV=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,FV)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?e2(r):e.toasts.forEach(n=>{e2(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Mm=[];let $m={toasts:[]};function Nd(e){$m=BV($m,e),Mm.forEach(t=>{t($m)})}function WV({...e}){const t=zV(),r=a=>Nd({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Nd({type:"DISMISS_TOAST",toastId:t});return Nd({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Ir(){const[e,t]=j.useState($m);return j.useEffect(()=>(Mm.push(t),()=>{const r=Mm.indexOf(t);r>-1&&Mm.splice(r,1)}),[e]),{...e,toast:WV,dismiss:r=>Nd({type:"DISMISS_TOAST",toastId:r})}}/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WD=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>j.createElement("svg",{ref:c,...VV,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:WD("lucide",a),...l},[...o.map(([u,d])=>j.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(e,t)=>{const r=j.forwardRef(({className:n,...a},i)=>j.createElement(qV,{ref:i,iconNode:t,className:WD(`lucide-${UV(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=ne("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=ne("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=ne("AudioLines",[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=ne("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=ne("Beef",[["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}],["path",{d:"M12.5 2a6.5 6.5 0 0 0-6.22 4.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3A6.5 6.5 0 0 0 12.5 2Z",key:"o0f6za"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1 .31 2 6.49 6.49 0 0 1-2.6 5.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"k7p6i0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=ne("Beer",[["path",{d:"M17 11h1a3 3 0 0 1 0 6h-1",key:"1yp76v"}],["path",{d:"M9 12v6",key:"1u1cab"}],["path",{d:"M13 12v6",key:"1sugkk"}],["path",{d:"M14 7.5c-1 0-1.44.5-3 .5s-2-.5-3-.5-1.72.5-2.5.5a2.5 2.5 0 0 1 0-5c.78 0 1.57.5 2.5.5S9.44 2 11 2s2 1.5 3 1.5 1.72-.5 2.5-.5a2.5 2.5 0 0 1 0 5c-.78 0-1.5-.5-2.5-.5Z",key:"1510fo"}],["path",{d:"M5 8v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V8",key:"19jb7n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=ne("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=ne("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=ne("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=ne("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=ne("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=ne("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=ne("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=ne("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=ne("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=ne("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=ne("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=ne("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=ne("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=ne("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=ne("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=ne("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=ne("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=ne("GlassWater",[["path",{d:"M15.2 22H8.8a2 2 0 0 1-2-1.79L5 3h14l-1.81 17.21A2 2 0 0 1 15.2 22Z",key:"48rfw3"}],["path",{d:"M6 12a5 5 0 0 1 6 0 5 5 0 0 0 6 0",key:"mjntcy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=ne("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=ne("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=ne("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=ne("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=ne("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=ne("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=ne("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=ne("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=ne("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=ne("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=ne("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=ne("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=ne("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=ne("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=ne("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=ne("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=ne("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=ne("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=ne("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=ne("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=ne("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=ne("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=ne("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=ne("TestTubeDiagonal",[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=ne("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=ne("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=ne("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=ne("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=ne("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=ne("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=ne("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=ne("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=ne("Wine",[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=ne("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function hy(){const{data:e,isLoading:t}=It({queryKey:["/api/auth/user"],retry:!1});return{user:e,isLoading:t,isAuthenticated:!!e}}const f7="/assets/platemate-logo-D4AL1-s7.png";function yj(){const{user:e,isAuthenticated:t}=hy(),[r,n]=j.useState(!1),a=j.useRef(null);return j.useEffect(()=>{const i=o=>{a.current&&!a.current.contains(o.target)&&n(!1)};return r&&document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}},[r]),s.jsx("header",{className:"modern-card glass-enhanced border-b border-border/50 p-4 backdrop-blur-md sticky top-0 z-50",children:s.jsxs("div",{className:"max-w-md mx-auto flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl overflow-hidden shadow-lg",children:s.jsx("img",{src:f7,alt:"PlateMate Logo",className:"w-full h-full object-contain","data-testid":"logo-platemate"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"PlateMate"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Voice-powered nutrition companion"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[t&&e?s.jsxs("div",{className:"relative mr-2",ref:a,children:[s.jsxs("button",{onClick:()=>n(!r),className:"flex items-center space-x-1 p-3 rounded-xl bg-gradient-to-br from-white/10 to-white/5 dark:from-gray-800/50 dark:to-gray-700/30 backdrop-blur-sm hover:scale-110 smooth-transition border border-white/10 dark:border-gray-700/30","data-testid":"button-profile",title:"Profile",children:[s.jsx(Zd,{className:"h-5 w-5 text-foreground/80"}),r?s.jsx(dj,{className:"h-3 w-3 text-foreground/60"}):s.jsx(vs,{className:"h-3 w-3 text-foreground/60"})]}),r&&s.jsxs("div",{className:"absolute top-full right-0 mt-2 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-3 min-w-[200px] backdrop-blur-md z-50",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Zd,{className:"h-4 w-4 text-foreground/80"}),s.jsx("span",{className:"text-sm font-medium text-foreground/90",children:(e==null?void 0:e.firstName)||(e==null?void 0:e.email)||"User"})]}),(e==null?void 0:e.email)&&(e==null?void 0:e.firstName)&&s.jsx("div",{className:"text-xs text-foreground/60 mt-1 ml-6",children:e==null?void 0:e.email})]})]}):null,s.jsx("button",{className:"p-3 rounded-xl bg-gradient-to-br from-white/10 to-white/5 dark:from-gray-800/50 dark:to-gray-700/30 backdrop-blur-sm hover:scale-110 smooth-transition border border-white/10 dark:border-gray-700/30","data-testid":"button-history",title:"View History",children:s.jsx(HD,{className:"h-5 w-5 text-foreground/80"})}),t&&s.jsx("a",{href:"/api/logout",children:s.jsx("button",{className:"p-3 rounded-xl bg-gradient-to-br from-red-100/50 to-red-200/30 dark:from-red-900/20 dark:to-red-800/10 backdrop-blur-sm hover:scale-110 smooth-transition border border-red-200/30 dark:border-red-700/20 hover:from-red-200/70 hover:to-red-300/50","data-testid":"button-logout",title:"Logout",children:s.jsx(KD,{className:"h-5 w-5 text-red-600 dark:text-red-400"})})})]})]})})}class h7{constructor(){this.audioContext=null,this.sounds=new Map,this.enabled=!0,this.loadSoundSettings()}loadSoundSettings(){const t=localStorage.getItem("platemate-sounds-enabled");this.enabled=t!=="false"}async initialize(){try{this.audioContext=new(window.AudioContext||window.webkitAudioContext),await this.generateSounds(),console.log(" Sound service initialized")}catch(t){console.warn("Sound initialization failed:",t)}}async generateSounds(){if(!this.audioContext)return;const t={notification:()=>this.generateTone(800,.3,"sine"),success:()=>this.generateChord([523,659,784],.4),error:()=>this.generateTone(200,.5,"square"),click:()=>this.generateTone(1e3,.1,"sine"),scan:()=>this.generateSweep(600,1200,.3),achievement:()=>this.generateMelody([523,659,784,1047],.6),reminder:()=>this.generateGentleTone(440,.5)};for(const[r,n]of Object.entries(t))try{const a=n();this.sounds.set(r,a)}catch(a){console.warn(`Failed to generate ${r} sound:`,a)}}generateTone(t,r,n="sine"){if(!this.audioContext)throw new Error("Audio context not initialized");const a=this.audioContext.sampleRate,i=a*r,o=this.audioContext.createBuffer(1,i,a),l=o.getChannelData(0);for(let c=0;c<i;c++){const u=c/a;let d=0;switch(n){case"sine":d=Math.sin(2*Math.PI*t*u);break;case"square":d=Math.sin(2*Math.PI*t*u)>0?1:-1;break;case"triangle":d=2/Math.PI*Math.asin(Math.sin(2*Math.PI*t*u));break}const f=Math.sin(Math.PI*c/i);l[c]=d*f*.3}return o}generateChord(t,r){if(!this.audioContext)throw new Error("Audio context not initialized");const n=this.audioContext.sampleRate,a=n*r,i=this.audioContext.createBuffer(1,a,n),o=i.getChannelData(0);for(let l=0;l<a;l++){const c=l/n;let u=0;for(const f of t)u+=Math.sin(2*Math.PI*f*c)/t.length;const d=Math.sin(Math.PI*l/a);o[l]=u*d*.3}return i}generateSweep(t,r,n){if(!this.audioContext)throw new Error("Audio context not initialized");const a=this.audioContext.sampleRate,i=a*n,o=this.audioContext.createBuffer(1,i,a),l=o.getChannelData(0);for(let c=0;c<i;c++){const u=c/i,d=t+(r-t)*u,f=c/a,h=Math.sin(2*Math.PI*d*f),p=Math.sin(Math.PI*c/i);l[c]=h*p*.2}return o}generateMelody(t,r){if(!this.audioContext)throw new Error("Audio context not initialized");const n=this.audioContext.sampleRate,a=n*r,i=a/t.length,o=this.audioContext.createBuffer(1,a,n),l=o.getChannelData(0);return t.forEach((c,u)=>{const d=Math.floor(u*i),f=Math.floor((u+1)*i);for(let h=d;h<f&&h<a;h++){const p=h-d,g=f-d,m=p/n,x=Math.sin(2*Math.PI*c*m),v=Math.sin(Math.PI*p/g);l[h]=x*v*.25}}),o}generateGentleTone(t,r){if(!this.audioContext)throw new Error("Audio context not initialized");const n=this.audioContext.sampleRate,a=n*r,i=this.audioContext.createBuffer(1,a,n),o=i.getChannelData(0);for(let l=0;l<a;l++){const c=l/n,u=Math.sin(2*Math.PI*t*c),d=Math.sin(2*Math.PI*t*2*c)*.3,f=Math.sin(2*Math.PI*t*3*c)*.1;let h=u+d+f;const p=Math.pow(Math.sin(Math.PI*l/a),2);o[l]=h*p*.2}return i}async play(t,r=1){if(!(!this.enabled||!this.audioContext||!this.sounds.has(t)))try{this.audioContext.state==="suspended"&&await this.audioContext.resume();const n=this.sounds.get(t),a=this.audioContext.createBufferSource(),i=this.audioContext.createGain();a.buffer=n,i.gain.value=Math.min(Math.max(r,0),1)*.5,a.connect(i),i.connect(this.audioContext.destination),a.start()}catch(n){console.warn(`Failed to play ${t} sound:`,n)}}setEnabled(t){this.enabled=t,localStorage.setItem("platemate-sounds-enabled",t.toString())}isEnabled(){return this.enabled}async playSuccess(){await this.play("success")}async playError(){await this.play("error")}async playClick(){await this.play("click",.3)}async playNotification(){await this.play("notification")}async playAchievement(){await this.play("achievement")}async playScan(){await this.play("scan")}async playReminder(){await this.play("reminder")}}const _t=new h7;var La;(function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"})(La||(La={}));var Sd;(function(e){e.Rear="REAR",e.Front="FRONT"})(Sd||(Sd={}));var Mc;(function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"})(Mc||(Mc={}));class m7 extends uj{async getPhoto(t){return new Promise(async(r,n)=>{if(t.webUseInput||t.source===La.Photos)this.fileInputExperience(t,r,n);else if(t.source===La.Prompt){let a=document.querySelector("pwa-action-sheet");a||(a=document.createElement("pwa-action-sheet"),document.body.appendChild(a)),a.header=t.promptLabelHeader||"Photo",a.cancelable=!1,a.options=[{title:t.promptLabelPhoto||"From Photos"},{title:t.promptLabelPicture||"Take Picture"}],a.addEventListener("onSelection",async i=>{i.detail===0?this.fileInputExperience(t,r,n):this.cameraExperience(t,r,n)})}else this.cameraExperience(t,r,n)})}async pickImages(t){return new Promise(async(r,n)=>{this.multipleFileInputExperience(r,n)})}async cameraExperience(t,r,n){if(customElements.get("pwa-camera-modal")){const a=document.createElement("pwa-camera-modal");a.facingMode=t.direction===Sd.Front?"user":"environment",document.body.appendChild(a);try{await a.componentOnReady(),a.addEventListener("onPhoto",async i=>{const o=i.detail;o===null?n(new Gl("User cancelled photos app")):o instanceof Error?n(o):r(await this._getCameraPhoto(o,t)),a.dismiss(),document.body.removeChild(a)}),a.present()}catch{this.fileInputExperience(t,r,n)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(t,r,n)}fileInputExperience(t,r,n){let a=document.querySelector("#_capacitor-camera-input");const i=()=>{var o;(o=a.parentNode)===null||o===void 0||o.removeChild(a)};a||(a=document.createElement("input"),a.id="_capacitor-camera-input",a.type="file",a.hidden=!0,document.body.appendChild(a),a.addEventListener("change",o=>{const l=a.files[0];let c="jpeg";if(l.type==="image/png"?c="png":l.type==="image/gif"&&(c="gif"),t.resultType==="dataUrl"||t.resultType==="base64"){const u=new FileReader;u.addEventListener("load",()=>{if(t.resultType==="dataUrl")r({dataUrl:u.result,format:c});else if(t.resultType==="base64"){const d=u.result.split(",")[1];r({base64String:d,format:c})}i()}),u.readAsDataURL(l)}else r({webPath:URL.createObjectURL(l),format:c}),i()}),a.addEventListener("cancel",o=>{n(new Gl("User cancelled photos app")),i()})),a.accept="image/*",a.capture=!0,t.source===La.Photos||t.source===La.Prompt?a.removeAttribute("capture"):t.direction===Sd.Front?a.capture="user":t.direction===Sd.Rear&&(a.capture="environment"),a.click()}multipleFileInputExperience(t,r){let n=document.querySelector("#_capacitor-camera-input-multiple");const a=()=>{var i;(i=n.parentNode)===null||i===void 0||i.removeChild(n)};n||(n=document.createElement("input"),n.id="_capacitor-camera-input-multiple",n.type="file",n.hidden=!0,n.multiple=!0,document.body.appendChild(n),n.addEventListener("change",i=>{const o=[];for(let l=0;l<n.files.length;l++){const c=n.files[l];let u="jpeg";c.type==="image/png"?u="png":c.type==="image/gif"&&(u="gif"),o.push({webPath:URL.createObjectURL(c),format:u})}t({photos:o}),a()}),n.addEventListener("cancel",i=>{r(new Gl("User cancelled photos app")),a()})),n.accept="image/*",n.click()}_getCameraPhoto(t,r){return new Promise((n,a)=>{const i=new FileReader,o=t.type.split("/")[1];r.resultType==="uri"?n({webPath:URL.createObjectURL(t),format:o,saved:!1}):(i.readAsDataURL(t),i.onloadend=()=>{const l=i.result;r.resultType==="dataUrl"?n({dataUrl:l,format:o,saved:!1}):n({base64String:l.split(",")[1],format:o,saved:!1})},i.onerror=l=>{a(l)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}const cd=oh("Camera",{web:()=>new m7}),p7="modulepreload",g7=function(e){return"/"+e},i2={},vj=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=g7(c),c in i2)return;i2[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":p7,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},ZD=oh("Device",{web:()=>vj(()=>import("./web-Z9vDUqJ7.js"),[]).then(e=>new e.DeviceWeb)});class Dl{constructor(){this.cameraStream=null,this.microphoneStream=null,this.mediaRecorder=null,this.recordingChunks=[],this.audioContext=null,this.isMediaRecorderSupported=!1,this.availableCameras=[],this.currentCameraIndex=0,this.isMediaRecorderSupported=this.checkMediaRecorderSupport()}static getInstance(){return Dl.instance||(Dl.instance=new Dl),Dl.instance}isMediaSupported(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}isSecureContext(){return window.isSecureContext||location.protocol==="https:"||location.hostname==="localhost"}checkMediaRecorderSupport(){if(typeof MediaRecorder>"u")return console.warn(" MediaRecorder not available in this browser"),!1;const r=["audio/webm;codecs=opus","audio/webm","audio/mp4","audio/ogg;codecs=opus","audio/wav"].find(n=>MediaRecorder.isTypeSupported(n));return r?(console.log(" MediaRecorder supported with type:",r),!0):(console.warn(" No supported MediaRecorder MIME types found"),!1)}async getAvailableCameras(){if(!this.isMediaSupported())return[];try{const t=await navigator.mediaDevices.enumerateDevices();return this.availableCameras=t.filter(r=>r.kind==="videoinput"),console.log(" Available cameras:",this.availableCameras.map(r=>({label:r.label||"Camera",deviceId:r.deviceId.substring(0,8)+"..."}))),this.availableCameras}catch(t){return console.error(" Failed to enumerate cameras:",t),[]}}async checkPermissions(){const t={camera:!1,microphone:!1};if(!this.isMediaSupported())return t;try{const r=await navigator.permissions.query({name:"camera"});t.camera=r.state==="granted"}catch(r){console.warn("Could not check camera permission:",r)}try{const r=await navigator.permissions.query({name:"microphone"});t.microphone=r.state==="granted"}catch(r){console.warn("Could not check microphone permission:",r)}return t}async startCamera(t,r={}){if(!this.isMediaSupported())throw new Error("Camera not supported in this browser");try{this.cameraStream&&this.stopCamera();const n={video:{width:{ideal:r.width||1280,max:1920},height:{ideal:r.height||720,max:1080},facingMode:r.facingMode||"environment",aspectRatio:r.aspectRatio||16/9},audio:!1};return console.log(" Requesting camera with constraints:",n),this.cameraStream=await navigator.mediaDevices.getUserMedia(n),console.log(" Camera stream started successfully:",{tracks:this.cameraStream.getTracks().length,videoTracks:this.cameraStream.getVideoTracks().length}),t.srcObject=this.cameraStream,t.playsInline=!0,t.muted=!0,await new Promise((a,i)=>{t.onloadedmetadata=()=>{console.log(" Video dimensions:",{videoWidth:t.videoWidth,videoHeight:t.videoHeight}),a(void 0)},t.onerror=i,t.play().catch(i)}),this.cameraStream}catch(n){throw console.error(" Camera access failed:",n),this.handleMediaError(n,"camera"),n}}stopCamera(){this.cameraStream&&(console.log(" Stopping camera stream"),this.cameraStream.getTracks().forEach(t=>{t.stop(),console.log(` Stopped ${t.kind} track`)}),this.cameraStream=null)}async capturePhotoFromStream(t,r=.9){if(!this.cameraStream||!t.videoWidth)throw console.error(" No active camera stream or video not ready"),new Error("No active camera stream or video not ready");try{const n=document.createElement("canvas"),a=n.getContext("2d");if(!a)throw new Error("Could not get canvas context");return n.width=t.videoWidth,n.height=t.videoHeight,a.drawImage(t,0,0,n.width,n.height),console.log(" Photo captured from stream:",{width:n.width,height:n.height,quality:r}),new Promise((i,o)=>{n.toBlob(l=>{l?i(l):o(new Error("Failed to create photo blob"))},"image/jpeg",r)})}catch(n){throw console.error(" Failed to capture photo:",n),n}}async switchCamera(t){if(!this.cameraStream)throw new Error("No active camera stream to switch");try{if(this.availableCameras.length===0&&await this.getAvailableCameras(),this.availableCameras.length<2)throw new Error("Only one camera available, cannot switch");this.currentCameraIndex=(this.currentCameraIndex+1)%this.availableCameras.length;const r=this.availableCameras[this.currentCameraIndex];console.log(" Switching to camera:",{index:this.currentCameraIndex,label:r.label||"Unknown Camera",deviceId:r.deviceId.substring(0,8)+"..."}),this.stopCamera(),await this.startCameraWithDeviceId(t,r.deviceId)}catch(r){console.error(" Failed to switch camera:",r),await this.fallbackSwitchCamera(t)}}async fallbackSwitchCamera(t){var o;const r=(o=this.cameraStream)==null?void 0:o.getVideoTracks()[0];if(!r)throw new Error("No video track found for fallback switch");const a=r.getConstraints().facingMode,i=a==="user"?"environment":"user";console.log(" Fallback camera switch from",a,"to",i),this.stopCamera(),await this.startCamera(t,{facingMode:i})}async startCameraWithDeviceId(t,r){const n={video:{deviceId:{exact:r},width:{ideal:1280,max:1920},height:{ideal:720,max:1080}},audio:!1};return console.log(" Starting camera with device ID:",r.substring(0,8)+"..."),this.cameraStream=await navigator.mediaDevices.getUserMedia(n),t.srcObject=this.cameraStream,t.playsInline=!0,t.muted=!0,await new Promise((a,i)=>{t.onloadedmetadata=a,t.onerror=i,t.play().catch(i)}),this.cameraStream}async startMicrophoneRecording(t={}){if(!this.isMediaSupported())throw new Error("Microphone not supported in this browser");try{this.microphoneStream&&this.stopMicrophone();const r={audio:{echoCancellation:t.echoCancellation??!0,noiseSuppression:t.noiseSuppression??!0,autoGainControl:t.autoGainControl??!0,sampleRate:t.sampleRate||44100},video:!1};return console.log(" Requesting microphone with constraints:",r),this.microphoneStream=await navigator.mediaDevices.getUserMedia(r),console.log(" Microphone stream started successfully:",{tracks:this.microphoneStream.getTracks().length,audioTracks:this.microphoneStream.getAudioTracks().length}),this.microphoneStream}catch(r){throw console.error(" Microphone access failed:",r),this.handleMediaError(r,"microphone"),r}}async startAudioRecording(){if(this.microphoneStream||await this.startMicrophoneRecording(),!this.microphoneStream)throw new Error("No microphone stream available");try{this.recordingChunks=[],this.isMediaRecorderSupported?await this.startMediaRecorderRecording():await this.startWebAudioRecording()}catch(t){throw console.error(" Failed to start audio recording:",t),t}}async startMediaRecorderRecording(){if(!this.microphoneStream)throw new Error("No microphone stream available");this.mediaRecorder=new MediaRecorder(this.microphoneStream,{mimeType:this.getSupportedMimeType()}),console.log(" Starting audio recording with MediaRecorder"),this.mediaRecorder.ondataavailable=t=>{t.data.size>0&&(this.recordingChunks.push(t.data),console.log(" Audio chunk received:",t.data.size,"bytes"))},this.mediaRecorder.start(100)}async startWebAudioRecording(){if(!this.microphoneStream)throw new Error("No microphone stream available");try{this.audioContext=new(window.AudioContext||window.webkitAudioContext),console.log(" Starting Web Audio API recording (iOS Safari fallback)");const t=this.audioContext.createMediaStreamSource(this.microphoneStream);this.audioContext.audioWorklet?await this.setupAudioWorkletRecording(t):this.setupScriptProcessorRecording(t)}catch(t){throw console.error(" Failed to start Web Audio recording:",t),t}}async setupAudioWorkletRecording(t){this.setupScriptProcessorRecording(t)}setupScriptProcessorRecording(t){if(!this.audioContext)return;const r=4096,n=this.audioContext.sampleRate,a=[],i=this.audioContext.createScriptProcessor(r,1,1);i.onaudioprocess=o=>{const c=o.inputBuffer.getChannelData(0);for(let u=0;u<c.length;u++)a.push(c[u])},t.connect(i),i.connect(this.audioContext.destination),this.scriptProcessor=i,this.recordedSamples=a,this.sampleRate=n,console.log(" ScriptProcessor recording setup complete")}async stopAudioRecording(){if(this.isMediaRecorderSupported&&this.mediaRecorder)return this.stopMediaRecorderRecording();if(this.audioContext)return this.stopWebAudioRecording();throw new Error("No active recording to stop")}stopMediaRecorderRecording(){return new Promise((t,r)=>{if(!this.mediaRecorder){r(new Error("No MediaRecorder active"));return}this.mediaRecorder.onstop=()=>{console.log(" MediaRecorder recording stopped, combining chunks...");const n=new Blob(this.recordingChunks,{type:this.getSupportedMimeType()});console.log(" Audio recording completed:",{size:n.size,type:n.type,chunks:this.recordingChunks.length}),t(n)},this.mediaRecorder.stop()})}stopWebAudioRecording(){return new Promise((t,r)=>{try{const n=this.scriptProcessor,a=this.recordedSamples,i=this.sampleRate;if(!n||!a||!i){r(new Error("Web Audio recording data not found"));return}console.log(" Web Audio recording stopped, converting to WAV...",{samples:a.length,sampleRate:i}),n.disconnect();const o=this.convertSamplesToWAV(a,i);console.log(" Web Audio recording converted to WAV:",{size:o.size,type:o.type}),delete this.scriptProcessor,delete this.recordedSamples,delete this.sampleRate,t(o)}catch(n){console.error(" Failed to stop Web Audio recording:",n),r(n)}})}convertSamplesToWAV(t,r){const n=t.length,a=new ArrayBuffer(44+n*2),i=new DataView(a),o=(c,u)=>{for(let d=0;d<u.length;d++)i.setUint8(c+d,u.charCodeAt(d))};o(0,"RIFF"),i.setUint32(4,36+n*2,!0),o(8,"WAVE"),o(12,"fmt "),i.setUint32(16,16,!0),i.setUint16(20,1,!0),i.setUint16(22,1,!0),i.setUint32(24,r,!0),i.setUint32(28,r*2,!0),i.setUint16(32,2,!0),i.setUint16(34,16,!0),o(36,"data"),i.setUint32(40,n*2,!0);let l=44;for(let c=0;c<n;c++){const u=Math.max(-1,Math.min(1,t[c]));i.setInt16(l,u*32767,!0),l+=2}return new Blob([a],{type:"audio/wav"})}stopMicrophone(){this.microphoneStream&&(console.log(" Stopping microphone stream"),this.microphoneStream.getTracks().forEach(t=>{t.stop(),console.log(` Stopped ${t.kind} track`)}),this.microphoneStream=null),this.mediaRecorder&&this.mediaRecorder.state!=="inactive"&&this.mediaRecorder.stop()}playAudio(t){const r=URL.createObjectURL(t),n=new Audio(r);return n.play().catch(a=>{console.error(" Failed to play audio:",a)}),n.addEventListener("ended",()=>{URL.revokeObjectURL(r)}),n}getSupportedMimeType(){const t=["audio/webm;codecs=opus","audio/webm","audio/mp4","audio/ogg;codecs=opus","audio/wav"];for(const r of t)if(MediaRecorder.isTypeSupported(r))return console.log(" Using MIME type:",r),r;return console.warn(" No supported MIME type found, using default"),"audio/webm"}handleMediaError(t,r){let n=`Unable to access ${r}`;t.name==="NotAllowedError"?n=`${r.charAt(0).toUpperCase()+r.slice(1)} access was denied. Please allow ${r} permissions in your browser settings.`:t.name==="NotFoundError"?n=`No ${r} found on this device.`:t.name==="NotSupportedError"?n=`${r.charAt(0).toUpperCase()+r.slice(1)} is not supported in this browser.`:t.name==="NotReadableError"?n=`${r.charAt(0).toUpperCase()+r.slice(1)} is being used by another application.`:t.name==="OverconstrainedError"?n=`${r.charAt(0).toUpperCase()+r.slice(1)} settings are not supported on this device.`:t.name==="SecurityError"&&(n=`${r.charAt(0).toUpperCase()+r.slice(1)} access blocked for security reasons. Please use HTTPS.`),console.error(` ${r} error:`,n,t)}async takePhoto(t={}){Ht.isNativePlatform()?console.log(" Native platform - using native camera"):console.log(" Web platform - using Capacitor Camera for web");const r={quality:t.quality||90,allowEditing:t.allowEditing||!1,resultType:t.resultType||Mc.Uri,source:t.source||La.Camera};try{const n=await cd.getPhoto(r);return console.log(" Photo captured successfully:",{format:n.format,webPath:n.webPath?"available":"none"}),n}catch(n){throw console.error(" Camera error:",n),new Error(`Failed to take photo: ${n}`)}}async selectFromGallery(t={}){console.log(" Selecting from photo gallery...");const r={quality:t.quality||90,allowEditing:t.allowEditing||!1,resultType:t.resultType||Mc.Uri,source:La.Photos};try{const n=await cd.getPhoto(r);return console.log(" Gallery photo selected successfully"),n}catch(n){throw console.error(" Gallery selection error:",n),new Error(`Failed to select from gallery: ${n}`)}}async checkCameraPermissions(){try{const t=await cd.checkPermissions();if(console.log(" Camera permissions status:",t),t.camera==="granted"&&t.photos==="granted")return!0;const r=await cd.requestPermissions();return console.log(" Permission request result:",r),r.camera==="granted"&&r.photos==="granted"}catch(t){return console.error(" Permission check error:",t),!1}}async getDeviceInfo(){try{const t=await ZD.getInfo();return console.log(" Device info:",{platform:t.platform,isVirtual:t.isVirtual,model:t.model}),t}catch(t){return console.error(" Device info error:",t),null}}isNativePlatform(){return Ht.isNativePlatform()}isPlatform(t){return Ht.getPlatform()===t}cleanup(){this.stopCamera(),this.stopMicrophone(),this.mediaRecorder&&(this.mediaRecorder=null),this.recordingChunks=[],console.log(" Media service cleaned up")}}const Lt=Dl.getInstance();function JD({onAnalysisStart:e,onAnalysisSuccess:t,onAnalysisError:r}){const{toast:n}=Ir(),[a,i]=j.useState(null),[o,l]=j.useState(""),[c,u]=j.useState(!1),d=j.useRef(null),f=j.useRef(null);j.useEffect(()=>(Lt.isMediaSupported()||n({title:"Camera Not Supported",description:"Camera requires a modern browser with HTTPS",variant:"destructive"}),()=>{Lt.cleanup()}),[n]);const h=Jt({mutationFn:async v=>{console.log(" Starting image analysis:",{fileName:v.name,fileSize:v.size,fileType:v.type});const b=new FormData;b.append("image",v),console.log(" Sending request to /api/analyze..."),console.log(" Platform:",Ht.getPlatform()),console.log(" FormData contents:",b.get("image"));let y;try{if(y=await fetch("/api/analyze",{method:"POST",body:b}),console.log(" Response received:",{status:y.status,statusText:y.statusText,ok:y.ok}),!y.ok){const w=await y.json();throw console.error(" API Error:",w),new Error(w.error||"Analysis failed")}}catch(w){console.error(" Network Error:",w);const N=w instanceof Error?w.message:"Unknown network error";throw new Error(`Network request failed: ${N}`)}const S=await y.json();return console.log(" Analysis successful:",S),S},onMutate:()=>{console.log(" Analysis mutation starting..."),e()},onSuccess:v=>{console.log(" Analysis success callback triggered:",v),t(v)},onError:v=>{console.error(" Analysis error callback triggered:",v),r(v.message)}}),p=v=>{var y;const b=(y=v.target.files)==null?void 0:y[0];if(b){i(b);const S=URL.createObjectURL(b);l(S)}},g=async()=>{var v,b,y;if(console.log(" Camera capture requested"),console.log(" Platform check:",{isNative:Ht.isNativePlatform(),platform:Ht.getPlatform()}),a){console.log(" Gallery image selected, starting analysis..."),h.mutate(a);return}if(Ht.isNativePlatform())try{console.log(" Using Capacitor camera...");const S=await cd.getPhoto({quality:90,allowEditing:!1,resultType:Mc.Base64,source:La.Camera});console.log(" Photo captured successfully:",{hasBase64:!!S.base64String,base64Length:((v=S.base64String)==null?void 0:v.length)||0});const N=await(await fetch(`data:image/jpeg;base64,${S.base64String}`)).blob(),k=new File([N],"camera-photo.jpg",{type:"image/jpeg"});console.log(" File created:",{fileName:k.name,fileSize:k.size,fileType:k.type}),i(k);const P=URL.createObjectURL(k);l(P),console.log(" Starting auto-analysis..."),h.mutate(k)}catch(S){console.error(" Error taking photo:",S),(b=f.current)==null||b.click()}else console.log(" Using web camera input..."),(y=f.current)==null||y.click()},m=()=>{u(!c),n({title:c?"Flash Disabled":"Flash Enabled",description:`Camera flash is now ${c?"off":"on"}`})},x=()=>{var v;(v=d.current)==null||v.click()};return s.jsxs("div",{className:"relative p-1",children:[s.jsxs("div",{className:"relative aspect-square overflow-hidden rounded-3xl shadow-2xl border border-slate-600/20 cursor-pointer transition-all duration-200 hover:scale-105 hover:shadow-3xl",style:{backgroundColor:"#1F2937"},onClick:g,"data-testid":"camera-panel-clickable",children:[o&&s.jsx("img",{src:o,alt:"Selected food image",className:"w-full h-full object-cover rounded-3xl","data-testid":"img-preview"}),!o&&s.jsx("div",{className:"w-full h-full flex items-center justify-center relative overflow-hidden",children:s.jsxs("div",{className:"relative z-10 text-center transition-all duration-200 hover:scale-110",children:[s.jsx("div",{className:"w-20 h-20 mx-auto bg-slate-600/60 rounded-2xl flex items-center justify-center transition-all duration-200 hover:bg-slate-500/70",children:s.jsx(ja,{className:"text-white h-10 w-10 transition-all duration-200 hover:scale-110"})}),s.jsx("p",{className:"text-white/90 text-base mt-4 font-medium transition-all duration-200 hover:text-white",children:"Tap to take photo"})]})}),o&&s.jsx("div",{className:"absolute inset-16 border border-white/30 rounded-full border-dashed"}),s.jsx("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2",children:s.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[s.jsx("button",{className:"w-12 h-12 bg-slate-700/80 rounded-xl flex items-center justify-center border border-slate-600/50 hover:bg-slate-600/80 transition-colors duration-200",onClick:x,"data-testid":"button-gallery",title:"Select from Gallery",children:s.jsx(XV,{className:"text-white h-5 w-5"})}),s.jsx("button",{className:"w-16 h-16 bg-blue-600 hover:bg-blue-500 rounded-full flex items-center justify-center border-2 border-white/20 transition-all duration-200",onClick:g,"data-testid":"button-capture",title:"Take Photo",children:s.jsx(ja,{className:"text-white h-8 w-8"})}),s.jsx("button",{className:`w-12 h-12 rounded-xl flex items-center justify-center border border-slate-600/50 transition-all duration-200 ${c?"bg-yellow-600 hover:bg-yellow-500":"bg-slate-700/80 hover:bg-slate-600/80"}`,onClick:m,"data-testid":"button-flash",title:c?"Flash On":"Flash Off",children:s.jsx(Jd,{className:"text-white h-5 w-5"})})]})})]}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx("p",{className:"text-sm text-white font-medium bg-slate-800/80 backdrop-blur-xl border border-slate-600/50 rounded-2xl px-4 py-3 inline-block","data-testid":"text-scale-advice",children:" For more precise portion analysis, place a fork or your hand in the photo."})}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(vt,{href:"/injection-advice",children:s.jsxs("button",{className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-3 px-6 rounded-2xl font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 flex items-center justify-center space-x-2 mx-auto border border-white/10 backdrop-blur-xl","data-testid":"button-injection-advice-quick",children:[s.jsx(bp,{className:"h-5 w-5"}),s.jsx("span",{children:"Weight Loss Injection Guide"})]})})}),s.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:p,className:"hidden","data-testid":"input-file"}),s.jsx("input",{ref:f,type:"file",accept:"image/*",capture:"environment",onChange:p,className:"hidden","data-testid":"input-camera"})]})}function eI(){return s.jsx("div",{className:"p-6 text-center",children:s.jsxs("div",{className:"bg-card rounded-xl shadow-lg p-8",children:[s.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Uo,{className:"text-primary h-8 w-8 animate-pulse"})}),s.jsx("h3",{className:"text-lg font-semibold mb-2","data-testid":"text-processing-title",children:"Analyzing your meal..."}),s.jsx("p",{className:"text-muted-foreground mb-4","data-testid":"text-processing-description",children:"Our AI is identifying food items and calculating nutrition"}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2 mb-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full animate-pulse transition-all duration-1000",style:{width:"65%"},"data-testid":"progress-analysis"})}),s.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-processing-status",children:"Processing image..."})]})})}function tI(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=tI(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function tt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=tI(e))&&(n&&(n+=" "),n+=t);return n}const s2=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,o2=tt,my=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return o2(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=s2(d)||s2(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(g=>{let[m,x]=g;return Array.isArray(x)?x.includes({...i,...l}[m]):{...i,...l}[m]===x})?[...u,f,h]:u},[]);return o2(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},xj="-",y7=e=>{const t=x7(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(xj);return l[0]===""&&l.length!==1&&l.shift(),rI(l,t)||v7(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},rI=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?rI(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(xj);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},l2=/^\[(.+)\]$/,v7=e=>{if(l2.test(e)){const t=l2.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},x7=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return w7(Object.entries(e.classGroups),r).forEach(([i,o])=>{gb(o,n,i,t)}),n},gb=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:c2(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(b7(a)){gb(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{gb(o,c2(t,i),r,n)})})},c2=(e,t)=>{let r=e;return t.split(xj).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},b7=e=>e.isThemeGetter,w7=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,j7=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},nI="!",N7=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let v=l[x];if(u===0){if(v===a&&(n||l.slice(x,x+i)===t)){c.push(l.slice(d,x)),d=x+i;continue}if(v==="/"){f=x;continue}}v==="["?u++:v==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(nI),g=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},S7=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},k7=e=>({cache:j7(e.cacheSize),parseClassName:N7(e),...y7(e)}),P7=/\s+/,C7=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(P7);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let g=!!p,m=n(g?h.substring(0,p):h);if(!m){if(!g){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}g=!1}const x=S7(d).join(":"),v=f?x+nI:x,b=v+m;if(i.includes(b))continue;i.push(b);const y=a(m,g);for(let S=0;S<y.length;++S){const w=y[S];i.push(v+w)}l=u+(l.length>0?" "+l:l)}return l};function _7(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=aI(t))&&(n&&(n+=" "),n+=r);return n}const aI=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=aI(e[n]))&&(r&&(r+=" "),r+=t);return r};function A7(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=k7(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=C7(c,r);return a(c,d),d}return function(){return i(_7.apply(null,arguments))}}const jt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},iI=/^\[(?:([a-z-]+):)?(.+)\]$/i,O7=/^\d+\/\d+$/,E7=new Set(["px","full","screen"]),T7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,M7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,D7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,I7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ci=e=>Yl(e)||E7.has(e)||O7.test(e),Gi=e=>mu(e,"length",V7),Yl=e=>!!e&&!Number.isNaN(Number(e)),l0=e=>mu(e,"number",Yl),zu=e=>!!e&&Number.isInteger(Number(e)),R7=e=>e.endsWith("%")&&Yl(e.slice(0,-1)),Ue=e=>iI.test(e),Ki=e=>T7.test(e),F7=new Set(["length","size","percentage"]),L7=e=>mu(e,F7,sI),z7=e=>mu(e,"position",sI),B7=new Set(["image","url"]),W7=e=>mu(e,B7,H7),U7=e=>mu(e,"",q7),Bu=()=>!0,mu=(e,t,r)=>{const n=iI.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},V7=e=>M7.test(e)&&!$7.test(e),sI=()=>!1,q7=e=>D7.test(e),H7=e=>I7.test(e),G7=()=>{const e=jt("colors"),t=jt("spacing"),r=jt("blur"),n=jt("brightness"),a=jt("borderColor"),i=jt("borderRadius"),o=jt("borderSpacing"),l=jt("borderWidth"),c=jt("contrast"),u=jt("grayscale"),d=jt("hueRotate"),f=jt("invert"),h=jt("gap"),p=jt("gradientColorStops"),g=jt("gradientColorStopPositions"),m=jt("inset"),x=jt("margin"),v=jt("opacity"),b=jt("padding"),y=jt("saturate"),S=jt("scale"),w=jt("sepia"),N=jt("skew"),k=jt("space"),P=jt("translate"),C=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Ue,t],_=()=>[Ue,t],R=()=>["",ci,Gi],L=()=>["auto",Yl,Ue],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],E=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",Ue],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Yl,Ue];return{cacheSize:500,separator:":",theme:{colors:[Bu],spacing:[ci,Gi],blur:["none","",Ki,Ue],brightness:Q(),borderColor:[e],borderRadius:["none","","full",Ki,Ue],borderSpacing:_(),borderWidth:R(),contrast:Q(),grayscale:W(),hueRotate:Q(),invert:W(),gap:_(),gradientColorStops:[e],gradientColorStopPositions:[R7,Gi],inset:A(),margin:A(),opacity:Q(),padding:_(),saturate:Q(),scale:Q(),sepia:W(),skew:Q(),space:_(),translate:_()},classGroups:{aspect:[{aspect:["auto","square","video",Ue]}],container:["container"],columns:[{columns:[Ki]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),Ue]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zu,Ue]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ue]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",zu,Ue]}],"grid-cols":[{"grid-cols":[Bu]}],"col-start-end":[{col:["auto",{span:["full",zu,Ue]},Ue]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Bu]}],"row-start-end":[{row:["auto",{span:[zu,Ue]},Ue]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ue]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...E()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...E(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...E(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ue,t]}],"min-w":[{"min-w":[Ue,t,"min","max","fit"]}],"max-w":[{"max-w":[Ue,t,"none","full","min","max","fit","prose",{screen:[Ki]},Ki]}],h:[{h:[Ue,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ue,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ue,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ue,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ki,Gi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",l0]}],"font-family":[{font:[Bu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ue]}],"line-clamp":[{"line-clamp":["none",Yl,l0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ci,Ue]}],"list-image":[{"list-image":["none",Ue]}],"list-style-type":[{list:["none","disc","decimal",Ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ci,Gi]}],"underline-offset":[{"underline-offset":["auto",ci,Ue]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),z7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",L7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},W7]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:$()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[ci,Ue]}],"outline-w":[{outline:[ci,Gi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[ci,Gi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ki,U7]}],"shadow-color":[{shadow:[Bu]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...I(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ki,Ue]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[y]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ue]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",Ue]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[zu,Ue]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[N]}],"skew-y":[{"skew-y":[N]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ue]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ue]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ue]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ci,Gi,l0]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},K7=A7(G7);function Te(...e){return K7(tt(e))}const Y7=my("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"border-2 border-blue-300 bg-blue-50 dark:bg-blue-950/50 text-blue-900 dark:text-blue-100 [&>svg]:text-blue-600 dark:[&>svg]:text-blue-400",destructive:"border-2 border-red-300 bg-red-50 dark:bg-red-950/50 text-red-900 dark:text-red-100 [&>svg]:text-red-600 dark:[&>svg]:text-red-400"}},defaultVariants:{variant:"default"}}),bj=j.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:Te(Y7({variant:t}),e),...r}));bj.displayName="Alert";const Q7=j.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:Te("mb-1 font-medium leading-none tracking-tight",e),...t}));Q7.displayName="AlertTitle";const wj=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Te("text-sm [&_p]:leading-relaxed",e),...t}));wj.displayName="AlertDescription";function oI({data:e,onScanAnother:t}){const[r,n]=j.useState(!1),[a,i]=j.useState("lunch"),[o,l]=j.useState(new Date().toISOString().split("T")[0]),[c,u]=j.useState(new Date().toTimeString().slice(0,5)),[d,f]=j.useState(e.detectedFoods),[h,p]=j.useState(null),[g,m]=j.useState(!1),[x,v]=j.useState(!1),[b,y]=j.useState(""),[S,w]=j.useState(!1),[N,k]=j.useState(null),{toast:P}=Ir(),C=En();j.useEffect(()=>{(()=>{const z="SpeechRecognition"in window||"webkitSpeechRecognition"in window;v(z)})()},[]);const M=async()=>{if(!x){P({title:"Speech Not Supported",description:"Speech recognition is not supported in this browser",variant:"destructive"});return}if(g&&N){console.log(" User clicked stop - current state:",{isListening:g,hasRecognitionInstance:!!N,recognitionState:N});try{m(!1),k(null),N.abort(),console.log(" Recognition.abort() called and state cleared")}catch(V){console.warn("Error aborting recognition:",V);try{N.stop(),console.log(" Recognition.stop() called as fallback")}catch(z){console.warn("Error with stop() fallback:",z)}m(!1),k(null)}P({title:"Voice Recording Stopped",description:"Speech recognition has been stopped"});return}try{const V=new(window.SpeechRecognition||window.webkitSpeechRecognition);V.continuous=!1,V.interimResults=!1,V.lang="en-US",V.onstart=()=>{console.log(" Voice recording started"),m(!0),P({title:"Listening...",description:"Say your food item and quantity (e.g., '100g salmon')"})},V.onresult=z=>{const se=z.results[0][0].transcript;console.log(" Voice captured:",se),y(se),w(!0),P({title:"Voice captured!",description:`Heard: "${se}"`}),m(!1),k(null)},V.onerror=z=>{console.error("Speech recognition error:",z.error),z.error==="aborted"?console.log(" Voice recording stopped by user"):P({title:"Speech Error",description:"Could not recognize speech. Please try again.",variant:"destructive"}),m(!1),k(null)},V.onend=()=>{console.log(" Voice recording ended"),m(!1),k(null)},k(V),V.start()}catch{P({title:"Speech Error",description:"Failed to start speech recognition",variant:"destructive"}),m(!1),k(null)}},A=(V,z)=>{const se=[...d],H=d[V],ae=e.detectedFoods.find($e=>$e.name===H.name)||H,Ne=ae.portion,xe=(($e,Ve)=>{const Xe=$e.match(/\d+(\.\d+)?/),T=Ve.match(/\d+(\.\d+)?/);return Xe&&T?parseFloat(T[0])/parseFloat(Xe[0]):1})(Ne,z);se[V]={...H,portion:z,calories:Math.round(ae.calories*xe),protein:Math.round(ae.protein*xe*10)/10,carbs:Math.round(ae.carbs*xe*10)/10,fat:Math.round(ae.fat*xe*10)/10},f(se)},_=(V,z)=>{const se=[...d];se[V]={...se[V],name:z},f(se)},R=V=>{const z=d.filter((se,H)=>H!==V);f(z),p(null)},L=()=>{const V={name:"New Food Item",portion:"1 serving",calories:0,protein:0,carbs:0,fat:0,icon:"fas fa-utensils"},z=[...d,V];f(z),p(z.length-1)},D=()=>JSON.stringify(d)!==JSON.stringify(e.detectedFoods),$=Jt({mutationFn:async()=>await(await $t("PATCH",`/api/analyses/${e.id}`,{detectedFoods:d})).json(),onSuccess:V=>{e.detectedFoods=[...V.detectedFoods],e.totalCalories=V.totalCalories,e.totalProtein=V.totalProtein,e.totalCarbs=V.totalCarbs,e.totalFat=V.totalFat,f([...V.detectedFoods]),console.log(" Successfully saved changes to database. Server totals:",{calories:V.totalCalories,protein:V.totalProtein}),P({title:"Changes Saved",description:"Your food corrections have been saved to the database."}),C.invalidateQueries({queryKey:["/api/analyses"]}),C.invalidateQueries({queryKey:["/api/diary"]}),C.invalidateQueries({queryKey:["/api/analyses",e.id]})},onError:V=>{console.error(" Failed to save changes:",V),P({title:"Save Failed",description:"Could not save your changes. Please try again.",variant:"destructive"})}}),I=()=>{$.mutate()},E=()=>{f([...e.detectedFoods]),p(null),P({title:"Changes Reset",description:"All changes have been reset to original AI detection."})},W=(V,z,se)=>{const H=[...d];H[V]={...H[V],[z]:se},f(H)},Q=d.reduce((V,z)=>({calories:V.calories+z.calories,protein:V.protein+z.protein,carbs:V.carbs+z.carbs,fat:V.fat+z.fat}),{calories:0,protein:0,carbs:0,fat:0}),X=Jt({mutationFn:async({foodDescription:V})=>{const se=await(await $t("POST","/api/analyze-text",{foodDescription:V})).json(),H=se.detectedFoods[0];if(H){const ae=[...d,H];return f(ae),await(await $t("PATCH",`/api/analyses/${e.id}`,{detectedFoods:ae})).json()}return se},onSuccess:V=>{P({title:"Food Added!",description:"Voice food item has been added to your analysis."}),V&&V.detectedFoods&&(e.detectedFoods=[...V.detectedFoods],e.totalCalories=V.totalCalories,e.totalProtein=V.totalProtein,e.totalCarbs=V.totalCarbs,e.totalFat=V.totalFat,f([...V.detectedFoods])),C.invalidateQueries({queryKey:["/api/analyses"]}),C.invalidateQueries({queryKey:["/api/diary"]}),w(!1),y("")},onError:V=>{P({title:"Error",description:"Failed to add food from voice. Please try again.",variant:"destructive"}),console.error("Error adding voice food:",V)}}),fe=()=>{b.trim()&&X.mutate({foodDescription:b.trim()})},Ae=Jt({mutationFn:async()=>{const V=new Date(`${o}T${c}`),z={...e,detectedFoods:d,totalCalories:Q.calories,totalProtein:Q.protein,totalCarbs:Q.carbs,totalFat:Q.fat};return await(await $t("POST","/api/diary",{analysisId:e.id,mealType:a,mealDate:V.toISOString(),notes:"",modifiedAnalysis:z})).json()},onSuccess:()=>{P({title:"Added to Diary!",description:"Your meal has been saved to your food diary."}),C.invalidateQueries({queryKey:["/api/diary"]}),n(!1)},onError:V=>{P({title:"Error",description:"Failed to save meal to diary. Please try again.",variant:"destructive"}),console.error("Error adding to diary:",V)}}),ze=V=>{try{if(!V)return"Unknown time";const z=new Date;let se;if(typeof V=="string")se=new Date(V);else if(V instanceof Date)se=V;else return"Unknown time";if(isNaN(se.getTime()))return"Unknown time";const H=z.getTime()-se.getTime(),ae=Math.floor(H/6e4);if(ae<1)return"Just now";if(ae<60)return`${ae}m ago`;const Ne=Math.floor(ae/60);return Ne<24?`${Ne}h ago`:se.toLocaleDateString()}catch(z){return console.error("Error formatting time:",z),"Unknown time"}},Re=V=>{switch(V){case"egg":return"fas fa-egg";case"bacon":return"fas fa-bacon";case"bread-slice":return"fas fa-bread-slice";case"apple-alt":return"fas fa-apple-alt";default:return"fas fa-utensils"}},ve=e.totalProtein*4+e.totalCarbs*4+e.totalFat*9,ke=Math.round(e.totalProtein*4/ve*100),J=Math.round(e.totalCarbs*4/ve*100),ie=Math.round(e.totalFat*9/ve*100);return s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx("div",{className:"flex items-center mb-4",children:s.jsxs("button",{onClick:t,className:"flex items-center space-x-2 text-muted-foreground hover:text-foreground transition-colors p-2 hover:bg-muted/30 rounded-xl","data-testid":"button-back",children:[s.jsx(ai,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Back to Camera"})]})}),e.isAITemporarilyUnavailable&&s.jsxs(bj,{className:"border-amber-200 bg-amber-50 dark:bg-amber-950 dark:border-amber-800",children:[s.jsx(as,{className:"h-4 w-4 text-amber-600"}),s.jsxs(wj,{className:"text-amber-700 dark:text-amber-300",children:[s.jsx("strong",{children:"AI services temporarily unavailable"}),s.jsx("br",{}),"We've provided estimated values based on typical portions. You can still save this entry and edit the details later when our AI services are back online."]})]}),s.jsx("div",{className:"modern-card glass-card p-6",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"w-24 h-24 rounded-2xl overflow-hidden bg-muted relative",children:[e.imageUrl?s.jsx("img",{src:e.imageUrl.startsWith("/")?e.imageUrl:`/${e.imageUrl}`,alt:"Analyzed food plate thumbnail",className:"w-full h-full object-cover","data-testid":"img-thumbnail",onError:V=>{console.log("Image failed to load:",e.imageUrl),V.currentTarget.style.display="none"}}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900 dark:to-purple-900 flex items-center justify-center",children:s.jsx(ja,{className:"h-8 w-8 text-muted-foreground"})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-xl gradient-text","data-testid":"text-meal-title",children:"Food Analysis Complete"}),s.jsxs("p",{className:"text-muted-foreground text-sm space-x-2",children:[s.jsx("span",{"data-testid":"text-timestamp",children:ze(e.createdAt)})," ",s.jsx("span",{"data-testid":"text-confidence",className:`ml-1 px-2 py-1 rounded-full font-medium ${e.isAITemporarilyUnavailable?"bg-amber-100 dark:bg-amber-900/20 text-amber-700 dark:text-amber-400":"bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-400"}`,children:e.isAITemporarilyUnavailable?"Estimated values":`${e.confidence}% confidence`})]})]}),s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsx("button",{className:"p-2 text-muted-foreground hover:text-foreground transition-colors","data-testid":"button-share",children:s.jsx(s7,{className:"h-4 w-4"})}),s.jsx("button",{className:"p-2 text-muted-foreground hover:text-foreground transition-colors","data-testid":"button-bookmark",children:s.jsx(KV,{className:"h-4 w-4"})})]})]})}),s.jsxs("div",{className:"bg-card rounded-xl shadow-lg p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[s.jsx(Vo,{className:"text-primary mr-2 h-5 w-5"}),"Food Items Detected"]}),s.jsx("div",{className:"space-y-4",children:d.map((V,z)=>s.jsx("div",{className:`p-3 rounded-lg transition-all ${h===z?"bg-primary/10 border-2 border-primary/30":"bg-secondary/50 border border-transparent"}`,"data-testid":`card-food-${z}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[s.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center",children:s.jsx("i",{className:`${Re(V.icon)} text-primary`})}),s.jsxs("div",{className:"flex-1",children:[h===z?s.jsx("input",{type:"text",value:V.name,onChange:se=>_(z,se.target.value),className:"w-full px-2 py-1 text-sm border rounded focus:outline-none focus:ring-2 focus:ring-primary/50 bg-background font-medium",placeholder:"e.g., Jacket Potato with Ham and Cheese","data-testid":`input-food-name-${z}`}):s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"font-medium","data-testid":`text-food-name-${z}`,children:V.name}),s.jsx("button",{onClick:()=>p(z),className:"p-1 text-blue-600 hover:bg-blue-100 rounded opacity-70 hover:opacity-100 transition-opacity",title:"Edit food name","data-testid":`button-edit-name-${z}`,children:s.jsx(s0,{className:"h-3 w-3"})})]}),h===z?s.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[s.jsx("input",{type:"text",value:V.portion,onChange:se=>A(z,se.target.value),className:"px-2 py-1 text-sm border rounded focus:outline-none focus:ring-2 focus:ring-primary/50 bg-background",placeholder:"e.g., 200g, 1 cup","data-testid":`input-food-portion-${z}`}),s.jsx("button",{onClick:()=>p(null),className:"p-1 text-green-600 hover:bg-green-100 rounded","data-testid":`button-save-portion-${z}`,children:s.jsx($s,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>{f([...e.detectedFoods]),p(null)},className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Cancel changes","data-testid":`button-cancel-portion-${z}`,children:s.jsx(qo,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>R(z),className:"p-1 text-red-600 hover:bg-red-100 rounded",title:"Remove this food item","data-testid":`button-remove-food-${z}`,children:s.jsx(To,{className:"h-4 w-4"})})]}):s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`text-food-portion-${z}`,children:V.portion}),s.jsx("button",{onClick:()=>p(z),className:"p-1 text-blue-600 hover:bg-blue-100 rounded opacity-70 hover:opacity-100 transition-opacity",title:"Edit portion","data-testid":`button-edit-portion-${z}`,children:s.jsx(s0,{className:"h-3 w-3"})}),s.jsx("button",{onClick:()=>R(z),className:"p-1 text-red-600 hover:bg-red-100 rounded opacity-70 hover:opacity-100 transition-opacity",title:"Remove this food item","data-testid":`button-remove-food-${z}`,children:s.jsx(To,{className:"h-4 w-4"})})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-semibold","data-testid":`text-food-calories-${z}`,children:[V.calories," cal"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[V.protein,"g protein"]}),h===z&&s.jsxs("div",{className:"text-xs text-blue-600 mt-1 space-y-2",children:[s.jsxs("div",{children:[V.carbs,"g carbs  ",V.fat,"g fat"]}),V.name==="New Food Item"&&s.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Calories"}),s.jsx("input",{type:"number",value:V.calories,onChange:se=>W(z,"calories",parseFloat(se.target.value)||0),className:"w-full px-2 py-1 text-xs border rounded bg-background",placeholder:"0","data-testid":`input-calories-${z}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Protein (g)"}),s.jsx("input",{type:"number",value:V.protein,onChange:se=>W(z,"protein",parseFloat(se.target.value)||0),className:"w-full px-2 py-1 text-xs border rounded bg-background",placeholder:"0","data-testid":`input-protein-${z}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Carbs (g)"}),s.jsx("input",{type:"number",value:V.carbs,onChange:se=>W(z,"carbs",parseFloat(se.target.value)||0),className:"w-full px-2 py-1 text-xs border rounded bg-background",placeholder:"0","data-testid":`input-carbs-${z}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Fat (g)"}),s.jsx("input",{type:"number",value:V.fat,onChange:se=>W(z,"fat",parseFloat(se.target.value)||0),className:"w-full px-2 py-1 text-xs border rounded bg-background",placeholder:"0","data-testid":`input-fat-${z}`})]})]})]})]})]})},z))}),s.jsxs("div",{className:"mt-4 bg-gradient-to-br from-slate-800 via-gray-800 to-slate-900 rounded-3xl p-6 shadow-2xl border border-slate-700/50",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h3",{className:"text-white text-lg font-semibold mb-2",children:"Add Missing Foods"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"AI might miss some items in your meal"})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("button",{onClick:M,disabled:!x,className:`flex-1 py-4 px-6 rounded-2xl flex items-center justify-center space-x-3 backdrop-blur-xl border transition-all duration-300 shadow-xl hover:scale-105 font-semibold ${g?"bg-red-500 text-white border-red-400 animate-pulse hover:shadow-red-500/25":x?"bg-gradient-to-br from-slate-700/90 to-slate-800/90 text-white border-white/10 hover:from-slate-600/90 hover:to-slate-700/90 hover:shadow-purple-500/25":"bg-gray-400 text-gray-600 cursor-not-allowed border-gray-300"}`,"data-testid":"button-add-voice",children:[g?s.jsx(hu,{className:"h-5 w-5"}):s.jsx(Tr,{className:"h-5 w-5 text-purple-400"}),s.jsx("span",{children:g?"Stop Listening":"Voice Add"})]}),s.jsxs("button",{onClick:()=>L(),className:"flex-1 bg-gradient-to-br from-white to-gray-100 text-slate-800 py-4 px-6 rounded-2xl flex items-center justify-center space-x-3 shadow-xl hover:scale-105 transition-all duration-300 hover:shadow-green-500/25 border border-gray-200","data-testid":"button-add-type",children:[s.jsx(an,{className:"h-5 w-5 text-green-500"}),s.jsx("span",{className:"font-semibold",children:"Type"})]})]})]}),D()&&s.jsxs("div",{className:"mt-4 flex space-x-3",children:[s.jsx("button",{onClick:()=>I(),disabled:$.isPending,className:"flex-1 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 transform hover:scale-105 disabled:transform-none shadow-lg hover:shadow-xl disabled:shadow-none flex items-center justify-center space-x-2","data-testid":"button-save-changes",children:$.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),s.jsx("span",{children:"Saving..."})]}):s.jsxs(s.Fragment,{children:[s.jsx($s,{className:"h-5 w-5"}),s.jsx("span",{children:"Save All Changes"})]})}),s.jsx("button",{onClick:()=>E(),className:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 py-3 px-6 rounded-xl font-semibold hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-200","data-testid":"button-reset-changes",children:"Reset"})]}),s.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ec,{className:"h-4 w-4 text-blue-600"}),s.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[s.jsx("strong",{children:"Tip:"})," AI sometimes misidentifies foods. Click the ",s.jsx(s0,{className:"h-3 w-3 inline mx-1"})," icon to edit food names and portions, use the ",s.jsx(To,{className:"h-3 w-3 inline mx-1"}),' icon to remove incorrect items, or use "Add Missing Food Item" to add foods the AI missed. Remember to save your changes!']})]})}),e.isAITemporarilyUnavailable&&s.jsx("div",{className:"mt-3 p-3 bg-amber-50 dark:bg-amber-900/20 rounded-lg border border-amber-200 dark:border-amber-800",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ec,{className:"h-4 w-4 text-amber-600"}),s.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:[s.jsx("strong",{children:"AI Unavailable:"})," These are estimated values. Edit them above for more accuracy."]})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"modern-card bg-gradient-to-br from-red-50 to-orange-50 dark:from-red-900/10 dark:to-orange-900/10 p-5 border-0 relative overflow-hidden",children:[s.jsx("div",{className:"absolute -top-2 -right-2 w-16 h-16 bg-red-200/20 dark:bg-red-800/20 rounded-full"}),s.jsxs("div",{className:"flex items-center justify-between mb-3 relative z-10",children:[s.jsx("span",{className:"text-sm font-semibold text-red-700 dark:text-red-400",children:"Calories"}),s.jsx("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-900/30 rounded-lg flex items-center justify-center",children:s.jsx("i",{className:"fas fa-fire text-red-500 dark:text-red-400"})})]}),s.jsx("p",{className:"text-3xl font-bold text-red-600 dark:text-red-400 mb-1","data-testid":"text-calories",children:Q.calories}),s.jsxs("p",{className:"text-xs text-red-600/70 dark:text-red-400/70 font-medium",children:[Math.round(Q.calories/2e3*100),"% daily value"]})]}),s.jsxs("div",{className:"modern-card bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/10 dark:to-indigo-900/10 p-5 border-0 relative overflow-hidden",children:[s.jsx("div",{className:"absolute -top-2 -right-2 w-16 h-16 bg-blue-200/20 dark:bg-blue-800/20 rounded-full"}),s.jsxs("div",{className:"flex items-center justify-between mb-3 relative z-10",children:[s.jsx("span",{className:"text-sm font-semibold text-blue-700 dark:text-blue-400",children:"Protein"}),s.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:s.jsx("i",{className:"fas fa-dumbbell text-blue-500 dark:text-blue-400"})})]}),s.jsxs("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 mb-1","data-testid":"text-protein",children:[Q.protein,"g"]}),s.jsxs("p",{className:"text-xs text-blue-600/70 dark:text-blue-400/70 font-medium",children:[Math.round(Q.protein/50*100),"% daily value"]})]}),s.jsxs("div",{className:"modern-card bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-900/10 dark:to-amber-900/10 p-5 border-0 relative overflow-hidden",children:[s.jsx("div",{className:"absolute -top-2 -right-2 w-16 h-16 bg-orange-200/20 dark:bg-orange-800/20 rounded-full"}),s.jsxs("div",{className:"flex items-center justify-between mb-3 relative z-10",children:[s.jsx("span",{className:"text-sm font-semibold text-orange-700 dark:text-orange-400",children:"Carbs"}),s.jsx("div",{className:"w-8 h-8 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center",children:s.jsx("i",{className:"fas fa-bread-slice text-orange-500 dark:text-orange-400"})})]}),s.jsxs("p",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400 mb-1","data-testid":"text-carbs",children:[Q.carbs,"g"]}),s.jsxs("p",{className:"text-xs text-orange-600/70 dark:text-orange-400/70 font-medium",children:[Math.round(Q.carbs/300*100),"% daily value"]})]}),s.jsxs("div",{className:"modern-card bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-900/10 dark:to-amber-900/10 p-5 border-0 relative overflow-hidden",children:[s.jsx("div",{className:"absolute -top-2 -right-2 w-16 h-16 bg-yellow-200/20 dark:bg-yellow-800/20 rounded-full"}),s.jsxs("div",{className:"flex items-center justify-between mb-3 relative z-10",children:[s.jsx("span",{className:"text-sm font-semibold text-yellow-700 dark:text-yellow-400",children:"Fat"}),s.jsx("div",{className:"w-8 h-8 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg flex items-center justify-center",children:s.jsx("i",{className:"fas fa-tint text-yellow-500 dark:text-yellow-400"})})]}),s.jsxs("p",{className:"text-3xl font-bold text-yellow-600 dark:text-yellow-400 mb-1","data-testid":"text-fat",children:[Q.fat,"g"]}),s.jsxs("p",{className:"text-xs text-yellow-600/70 dark:text-yellow-400/70 font-medium",children:[Math.round(Q.fat/65*100),"% daily value"]})]})]}),s.jsxs("div",{className:"bg-card rounded-xl shadow-lg p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[s.jsx(YV,{className:"text-primary mr-2 h-5 w-5"}),"Macronutrient Breakdown"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full"}),s.jsx("span",{className:"font-medium",children:"Protein"})]}),s.jsxs("span",{className:"text-sm text-muted-foreground","data-testid":"text-protein-percent",children:[ke,"%"]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-1000",style:{width:`${ke}%`}})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded-full"}),s.jsx("span",{className:"font-medium",children:"Carbohydrates"})]}),s.jsxs("span",{className:"text-sm text-muted-foreground","data-testid":"text-carbs-percent",children:[J,"%"]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-orange-500 h-2 rounded-full transition-all duration-1000",style:{width:`${J}%`}})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded-full"}),s.jsx("span",{className:"font-medium",children:"Fat"})]}),s.jsxs("span",{className:"text-sm text-muted-foreground","data-testid":"text-fat-percent",children:[ie,"%"]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-yellow-500 h-2 rounded-full transition-all duration-1000",style:{width:`${ie}%`}})})]})]}),s.jsxs("div",{className:"flex space-x-4 pt-6",children:[s.jsxs("button",{className:"flex-1 gradient-button py-4 px-6 rounded-xl font-medium hover:scale-[1.02] flex items-center justify-center space-x-2",onClick:()=>n(!0),"data-testid":"button-add-diary",children:[s.jsx(an,{className:"h-5 w-5"}),s.jsx("span",{children:"Add to Diary"})]}),s.jsxs("button",{className:"flex-1 modern-card bg-gradient-to-br from-gray-50 to-slate-50 dark:from-gray-800/50 dark:to-slate-800/50 text-gray-700 dark:text-gray-300 py-4 px-6 rounded-xl font-medium hover:scale-[1.02] smooth-transition flex items-center justify-center space-x-2",onClick:t,"data-testid":"button-scan-another",children:[s.jsx(ja,{className:"h-5 w-5"}),s.jsx("span",{children:"Scan Another"})]})]}),r&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-300",children:s.jsxs("div",{className:"bg-gradient-to-br from-white via-slate-50 to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-blue-900/20 rounded-2xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl border border-white/20 dark:border-gray-700/50 animate-in slide-in-from-bottom-4 duration-300",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl shadow-lg mb-4",children:s.jsx(an,{className:"h-8 w-8 text-white"})}),s.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Add to Food Diary"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Track your delicious meal"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:" Meal Type"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{type:"breakfast",icon:"",gradient:"from-orange-400 to-yellow-400"},{type:"lunch",icon:"",gradient:"from-green-400 to-blue-400"},{type:"dinner",icon:"",gradient:"from-purple-400 to-pink-400"},{type:"snack",icon:"",gradient:"from-pink-400 to-red-400"}].map(V=>s.jsxs("button",{onClick:()=>i(V.type),className:`relative p-4 rounded-xl text-sm font-medium transition-all duration-300 transform hover:scale-105 hover:shadow-lg ${a===V.type?`bg-gradient-to-r ${V.gradient} text-white shadow-xl scale-105`:"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-600"}`,"data-testid":`button-meal-${V.type}`,children:[s.jsx("div",{className:"text-2xl mb-1",children:V.icon}),s.jsx("div",{className:"capitalize font-semibold",children:V.type}),a===V.type&&s.jsx("div",{className:"absolute inset-0 rounded-xl ring-2 ring-white ring-offset-2 ring-offset-transparent"})]},V.type))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:" Date"}),s.jsxs("div",{className:"relative",children:[s.jsx(pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"date",value:o,onChange:V=>l(V.target.value),className:"w-full pl-11 pr-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 shadow-sm hover:shadow-md","data-testid":"input-meal-date"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:" Time"}),s.jsxs("div",{className:"relative",children:[s.jsx(lh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"time",value:c,onChange:V=>u(V.target.value),className:"w-full pl-11 pr-4 py-3 border border-gray-200 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 shadow-sm hover:shadow-md","data-testid":"input-meal-time"})]})]})]}),s.jsxs("div",{className:"flex space-x-4 mt-6 pt-4 border-t border-gray-200 dark:border-gray-600 bg-white/50 dark:bg-gray-800/50 -mx-6 px-6 -mb-6 pb-6 rounded-b-2xl",children:[s.jsx("button",{onClick:()=>n(!1),className:"flex-1 py-3 px-6 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl font-semibold hover:bg-gray-200 dark:hover:bg-gray-600 transition-all duration-200 transform hover:scale-105 shadow-sm hover:shadow-md","data-testid":"button-cancel-diary",children:"Cancel"}),s.jsxs("button",{onClick:()=>Ae.mutate(),disabled:Ae.isPending,className:"flex-1 py-3 px-6 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-xl font-semibold transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none","data-testid":"button-save-diary",children:[s.jsx(an,{className:"h-5 w-5 mr-2 inline"}),Ae.isPending?s.jsxs("span",{className:"flex items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Adding..."]}):"Add to Diary"]})]})]})}),S&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-card rounded-2xl p-6 w-full max-w-md shadow-2xl border border-border/20",children:[s.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(Tr,{className:"h-6 w-6 text-primary"})}),"Voice Input Captured"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-muted-foreground mb-2",children:"What did I hear?"}),s.jsx("div",{className:"p-3 bg-muted rounded-lg border",children:s.jsxs("p",{className:"text-foreground font-medium",children:['"',b,'"']})})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:s.jsx("p",{children:"This will be added to your current meal analysis."})})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>{w(!1),y("")},className:"flex-1 py-2 px-4 bg-muted text-muted-foreground rounded-lg hover:bg-muted/80 transition-colors","data-testid":"button-cancel-voice",children:"Cancel"}),s.jsx("button",{onClick:fe,disabled:X.isPending,className:"flex-1 py-2 px-4 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2","data-testid":"button-confirm-voice",children:X.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Adding..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(an,{className:"h-4 w-4"}),s.jsx("span",{children:"Add Food"})]})})]})]})})]})}function lI({message:e,onRetry:t}){return s.jsx("div",{className:"p-6",children:s.jsxs("div",{className:"bg-card rounded-xl shadow-lg p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(as,{className:"text-red-500 h-8 w-8"})}),s.jsx("h3",{className:"text-lg font-semibold mb-2","data-testid":"text-error-title",children:"Unable to Analyze Image"}),s.jsx("p",{className:"text-muted-foreground mb-4","data-testid":"text-error-message",children:e||"We couldn't identify any food items in this image. Please try:"}),s.jsxs("ul",{className:"text-sm text-muted-foreground text-left mb-6 space-y-1",children:[s.jsx("li",{children:" Ensure good lighting"}),s.jsx("li",{children:" Position the plate clearly in frame"}),s.jsx("li",{children:" Remove any obstructions"}),s.jsx("li",{children:" Take photo from above the plate"})]}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsxs("button",{className:"flex items-center gap-2 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 px-6 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",onClick:t,"data-testid":"button-back",children:[s.jsx(ai,{className:"h-4 w-4"}),"Back"]}),s.jsx("button",{className:"bg-primary text-primary-foreground px-6 py-2 rounded-lg hover:bg-primary/90 transition-colors",onClick:t,"data-testid":"button-retry",children:"Try Again"})]})]})})}function u2(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function cI(...e){return t=>{let r=!1;const n=e.map(a=>{const i=u2(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():u2(e[a],null)}}}}function at(...e){return j.useCallback(cI(...e),e)}function Ho(e){const t=X7(e),r=j.forwardRef((n,a)=>{const{children:i,...o}=n,l=j.Children.toArray(i),c=l.find(J7);if(c){const u=c.props.children,d=l.map(f=>f===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:j.isValidElement(u)?j.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var uI=Ho("Slot");function X7(e){const t=j.forwardRef((r,n)=>{const{children:a,...i}=r;if(j.isValidElement(a)){const o=tq(a),l=eq(i,a.props);return a.type!==j.Fragment&&(l.ref=n?cI(n,o):o),j.cloneElement(a,l)}return j.Children.count(a)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var dI=Symbol("radix.slottable");function Z7(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=dI,t}function J7(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===dI}function eq(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function tq(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const jj=my("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),he=j.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?uI:"button";return s.jsx(o,{className:Te(jj({variant:t,size:r,className:e})),ref:i,...a})});he.displayName="Button";function Np(e,[t,r]){return Math.min(r,Math.max(t,e))}function De(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function rq(e,t){const r=j.createContext(t),n=i=>{const{children:o,...l}=i,c=j.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=j.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function Xn(e,t=[]){let r=[];function n(i,o){const l=j.createContext(o),c=r.length;r=[...r,o];const u=f=>{var v;const{scope:h,children:p,...g}=f,m=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,x=j.useMemo(()=>g,Object.values(g));return s.jsx(m.Provider,{value:x,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,g=j.useContext(p);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>j.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return j.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,nq(a,...t)]}function nq(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Nj(e){const t=e+"CollectionProvider",[r,n]=Xn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:x,children:v}=m,b=O.useRef(null),y=O.useRef(new Map).current;return s.jsx(a,{scope:x,itemMap:y,collectionRef:b,children:v})};o.displayName=t;const l=e+"CollectionSlot",c=Ho(l),u=O.forwardRef((m,x)=>{const{scope:v,children:b}=m,y=i(l,v),S=at(x,y.collectionRef);return s.jsx(c,{ref:S,children:b})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Ho(d),p=O.forwardRef((m,x)=>{const{scope:v,children:b,...y}=m,S=O.useRef(null),w=at(x,S),N=i(d,v);return O.useEffect(()=>(N.itemMap.set(S,{ref:S,...y}),()=>void N.itemMap.delete(S))),s.jsx(h,{[f]:"",ref:w,children:b})});p.displayName=d;function g(m){const x=i(e+"CollectionConsumer",m);return O.useCallback(()=>{const b=x.collectionRef.current;if(!b)return[];const y=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((N,k)=>y.indexOf(N.ref.current)-y.indexOf(k.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},g,n]}var aq=j.createContext(void 0);function py(e){const t=j.useContext(aq);return e||t||"ltr"}var iq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Fe=iq.reduce((e,t)=>{const r=Ho(`Primitive.${t}`),n=j.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function sq(e,t){e&&du.flushSync(()=>e.dispatchEvent(t))}function Za(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function oq(e,t=globalThis==null?void 0:globalThis.document){const r=Za(e);j.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var lq="DismissableLayer",yb="dismissableLayer.update",cq="dismissableLayer.pointerDownOutside",uq="dismissableLayer.focusOutside",d2,fI=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gy=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=j.useContext(fI),[d,f]=j.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=j.useState({}),g=at(t,k=>f(k)),m=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(x),b=d?m.indexOf(d):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,S=b>=v,w=hq(k=>{const P=k.target,C=[...u.branches].some(M=>M.contains(P));!S||C||(a==null||a(k),o==null||o(k),k.defaultPrevented||l==null||l())},h),N=mq(k=>{const P=k.target;[...u.branches].some(M=>M.contains(P))||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},h);return oq(k=>{b===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),j.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(d2=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),f2(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=d2)}},[d,h,r,u]),j.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),f2())},[d,u]),j.useEffect(()=>{const k=()=>p({});return document.addEventListener(yb,k),()=>document.removeEventListener(yb,k)},[]),s.jsx(Fe.div,{...c,ref:g,style:{pointerEvents:y?S?"auto":"none":void 0,...e.style},onFocusCapture:De(e.onFocusCapture,N.onFocusCapture),onBlurCapture:De(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:De(e.onPointerDownCapture,w.onPointerDownCapture)})});gy.displayName=lq;var dq="DismissableLayerBranch",fq=j.forwardRef((e,t)=>{const r=j.useContext(fI),n=j.useRef(null),a=at(t,n);return j.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Fe.div,{...e,ref:a})});fq.displayName=dq;function hq(e,t=globalThis==null?void 0:globalThis.document){const r=Za(e),n=j.useRef(!1),a=j.useRef(()=>{});return j.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){hI(cq,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function mq(e,t=globalThis==null?void 0:globalThis.document){const r=Za(e),n=j.useRef(!1);return j.useEffect(()=>{const a=i=>{i.target&&!n.current&&hI(uq,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function f2(){const e=new CustomEvent(yb);document.dispatchEvent(e)}function hI(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?sq(a,i):a.dispatchEvent(i)}var c0=0;function Sj(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??h2()),document.body.insertAdjacentElement("beforeend",e[1]??h2()),c0++,()=>{c0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),c0--}},[])}function h2(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var u0="focusScope.autoFocusOnMount",d0="focusScope.autoFocusOnUnmount",m2={bubbles:!1,cancelable:!0},pq="FocusScope",yy=j.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=j.useState(null),u=Za(a),d=Za(i),f=j.useRef(null),h=at(t,m=>c(m)),p=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(n){let m=function(y){if(p.paused||!l)return;const S=y.target;l.contains(S)?f.current=S:Zi(f.current,{select:!0})},x=function(y){if(p.paused||!l)return;const S=y.relatedTarget;S!==null&&(l.contains(S)||Zi(f.current,{select:!0}))},v=function(y){if(document.activeElement===document.body)for(const w of y)w.removedNodes.length>0&&Zi(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const b=new MutationObserver(v);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),b.disconnect()}}},[n,l,p.paused]),j.useEffect(()=>{if(l){g2.add(p);const m=document.activeElement;if(!l.contains(m)){const v=new CustomEvent(u0,m2);l.addEventListener(u0,u),l.dispatchEvent(v),v.defaultPrevented||(gq(wq(mI(l)),{select:!0}),document.activeElement===m&&Zi(l))}return()=>{l.removeEventListener(u0,u),setTimeout(()=>{const v=new CustomEvent(d0,m2);l.addEventListener(d0,d),l.dispatchEvent(v),v.defaultPrevented||Zi(m??document.body,{select:!0}),l.removeEventListener(d0,d),g2.remove(p)},0)}}},[l,u,d,p]);const g=j.useCallback(m=>{if(!r&&!n||p.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(x&&v){const b=m.currentTarget,[y,S]=yq(b);y&&S?!m.shiftKey&&v===S?(m.preventDefault(),r&&Zi(y,{select:!0})):m.shiftKey&&v===y&&(m.preventDefault(),r&&Zi(S,{select:!0})):v===b&&m.preventDefault()}},[r,n,p.paused]);return s.jsx(Fe.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});yy.displayName=pq;function gq(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Zi(n,{select:t}),document.activeElement!==r)return}function yq(e){const t=mI(e),r=p2(t,e),n=p2(t.reverse(),e);return[r,n]}function mI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function p2(e,t){for(const r of e)if(!vq(r,{upTo:t}))return r}function vq(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function xq(e){return e instanceof HTMLInputElement&&"select"in e}function Zi(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&xq(e)&&t&&e.select()}}var g2=bq();function bq(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=y2(e,t),e.unshift(t)},remove(t){var r;e=y2(e,t),(r=e[0])==null||r.resume()}}}function y2(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function wq(e){return e.filter(t=>t.tagName!=="A")}var $r=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},jq=d4[" useId ".trim().toString()]||(()=>{}),Nq=0;function Ga(e){const[t,r]=j.useState(jq());return $r(()=>{r(n=>n??String(Nq++))},[e]),t?`radix-${t}`:""}const Sq=["top","right","bottom","left"],Is=Math.min,bn=Math.max,Sp=Math.round,Yh=Math.floor,Ka=e=>({x:e,y:e}),kq={left:"right",right:"left",bottom:"top",top:"bottom"},Pq={start:"end",end:"start"};function vb(e,t,r){return bn(e,Is(t,r))}function Mi(e,t){return typeof e=="function"?e(t):e}function $i(e){return e.split("-")[0]}function pu(e){return e.split("-")[1]}function kj(e){return e==="x"?"y":"x"}function Pj(e){return e==="y"?"height":"width"}function Rs(e){return["top","bottom"].includes($i(e))?"y":"x"}function Cj(e){return kj(Rs(e))}function Cq(e,t,r){r===void 0&&(r=!1);const n=pu(e),a=Cj(e),i=Pj(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=kp(o)),[o,kp(o)]}function _q(e){const t=kp(e);return[xb(e),t,xb(t)]}function xb(e){return e.replace(/start|end/g,t=>Pq[t])}function Aq(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:o;default:return[]}}function Oq(e,t,r,n){const a=pu(e);let i=Aq($i(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(xb)))),i}function kp(e){return e.replace(/left|right|bottom|top/g,t=>kq[t])}function Eq(e){return{top:0,right:0,bottom:0,left:0,...e}}function pI(e){return typeof e!="number"?Eq(e):{top:e,right:e,bottom:e,left:e}}function Pp(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function v2(e,t,r){let{reference:n,floating:a}=e;const i=Rs(t),o=Cj(t),l=Pj(o),c=$i(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(pu(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const Tq=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=v2(u,n,c),h=n,p={},g=0;for(let m=0;m<l.length;m++){const{name:x,fn:v}=l[m],{x:b,y,data:S,reset:w}=await v({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=b??d,f=y??f,p={...p,[x]:{...p[x],...S}},w&&g<=50&&(g++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(u=w.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):w.rects),{x:d,y:f}=v2(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function ef(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Mi(t,e),g=pI(p),x=l[h?f==="floating"?"reference":"floating":f],v=Pp(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1},w=Pp(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:y,strategy:c}):b);return{top:(v.top-w.top+g.top)/S.y,bottom:(w.bottom-v.bottom+g.bottom)/S.y,left:(v.left-w.left+g.left)/S.x,right:(w.right-v.right+g.right)/S.x}}const Mq=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Mi(e,t)||{};if(u==null)return{};const f=pI(d),h={x:r,y:n},p=Cj(a),g=Pj(p),m=await o.getDimensions(u),x=p==="y",v=x?"top":"left",b=x?"bottom":"right",y=x?"clientHeight":"clientWidth",S=i.reference[g]+i.reference[p]-h[p]-i.floating[g],w=h[p]-i.reference[p],N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=N?N[y]:0;(!k||!await(o.isElement==null?void 0:o.isElement(N)))&&(k=l.floating[y]||i.floating[g]);const P=S/2-w/2,C=k/2-m[g]/2-1,M=Is(f[v],C),A=Is(f[b],C),_=M,R=k-m[g]-A,L=k/2-m[g]/2+P,D=vb(_,L,R),$=!c.arrow&&pu(a)!=null&&L!==D&&i.reference[g]/2-(L<_?M:A)-m[g]/2<0,I=$?L<_?L-_:L-R:0;return{[p]:h[p]+I,data:{[p]:D,centerOffset:L-D-I,...$&&{alignmentOffset:I}},reset:$}}}),$q=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...x}=Mi(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const v=$i(a),b=Rs(l),y=$i(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),w=h||(y||!m?[kp(l)]:_q(l)),N=g!=="none";!h&&N&&w.push(...Oq(l,m,g,S));const k=[l,...w],P=await ef(t,x),C=[];let M=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&C.push(P[v]),f){const L=Cq(a,o,S);C.push(P[L[0]],P[L[1]])}if(M=[...M,{placement:a,overflows:C}],!C.every(L=>L<=0)){var A,_;const L=(((A=i.flip)==null?void 0:A.index)||0)+1,D=k[L];if(D)return{data:{index:L,overflows:M},reset:{placement:D}};let $=(_=M.filter(I=>I.overflows[0]<=0).sort((I,E)=>I.overflows[1]-E.overflows[1])[0])==null?void 0:_.placement;if(!$)switch(p){case"bestFit":{var R;const I=(R=M.filter(E=>{if(N){const W=Rs(E.placement);return W===b||W==="y"}return!0}).map(E=>[E.placement,E.overflows.filter(W=>W>0).reduce((W,K)=>W+K,0)]).sort((E,W)=>E[1]-W[1])[0])==null?void 0:R[0];I&&($=I);break}case"initialPlacement":$=l;break}if(a!==$)return{reset:{placement:$}}}return{}}}};function x2(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function b2(e){return Sq.some(t=>e[t]>=0)}const Dq=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Mi(e,t);switch(n){case"referenceHidden":{const i=await ef(t,{...a,elementContext:"reference"}),o=x2(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:b2(o)}}}case"escaped":{const i=await ef(t,{...a,altBoundary:!0}),o=x2(i,r.floating);return{data:{escapedOffsets:o,escaped:b2(o)}}}default:return{}}}}};async function Iq(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=$i(r),l=pu(r),c=Rs(r)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,f=Mi(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(p=l==="end"?g*-1:g),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const Rq=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await Iq(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},Fq=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:v,y:b}=x;return{x:v,y:b}}},...c}=Mi(e,t),u={x:r,y:n},d=await ef(t,c),f=Rs($i(a)),h=kj(f);let p=u[h],g=u[f];if(i){const x=h==="y"?"top":"left",v=h==="y"?"bottom":"right",b=p+d[x],y=p-d[v];p=vb(b,p,y)}if(o){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",b=g+d[x],y=g-d[v];g=vb(b,g,y)}const m=l.fn({...t,[h]:p,[f]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[f]:o}}}}}},Lq=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Mi(e,t),d={x:r,y:n},f=Rs(a),h=kj(f);let p=d[h],g=d[f];const m=Mi(l,t),x=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const y=h==="y"?"height":"width",S=i.reference[h]-i.floating[y]+x.mainAxis,w=i.reference[h]+i.reference[y]-x.mainAxis;p<S?p=S:p>w&&(p=w)}if(u){var v,b;const y=h==="y"?"width":"height",S=["top","left"].includes($i(a)),w=i.reference[f]-i.floating[y]+(S&&((v=o.offset)==null?void 0:v[f])||0)+(S?0:x.crossAxis),N=i.reference[f]+i.reference[y]+(S?0:((b=o.offset)==null?void 0:b[f])||0)-(S?x.crossAxis:0);g<w?g=w:g>N&&(g=N)}return{[h]:p,[f]:g}}}},zq=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Mi(e,t),d=await ef(t,u),f=$i(a),h=pu(a),p=Rs(a)==="y",{width:g,height:m}=i.floating;let x,v;f==="top"||f==="bottom"?(x=f,v=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,x=h==="end"?"top":"bottom");const b=m-d.top-d.bottom,y=g-d.left-d.right,S=Is(m-d[x],b),w=Is(g-d[v],y),N=!t.middlewareData.shift;let k=S,P=w;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=y),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=b),N&&!h){const M=bn(d.left,0),A=bn(d.right,0),_=bn(d.top,0),R=bn(d.bottom,0);p?P=g-2*(M!==0||A!==0?M+A:bn(d.left,d.right)):k=m-2*(_!==0||R!==0?_+R:bn(d.top,d.bottom))}await c({...t,availableWidth:P,availableHeight:k});const C=await o.getDimensions(l.floating);return g!==C.width||m!==C.height?{reset:{rects:!0}}:{}}}};function vy(){return typeof window<"u"}function gu(e){return gI(e)?(e.nodeName||"").toLowerCase():"#document"}function Sn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ii(e){var t;return(t=(gI(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function gI(e){return vy()?e instanceof Node||e instanceof Sn(e).Node:!1}function ka(e){return vy()?e instanceof Element||e instanceof Sn(e).Element:!1}function Ja(e){return vy()?e instanceof HTMLElement||e instanceof Sn(e).HTMLElement:!1}function w2(e){return!vy()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Sn(e).ShadowRoot}function ch(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Pa(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function Bq(e){return["table","td","th"].includes(gu(e))}function xy(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function _j(e){const t=Aj(),r=ka(e)?Pa(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Wq(e){let t=Fs(e);for(;Ja(t)&&!$c(t);){if(_j(t))return t;if(xy(t))return null;t=Fs(t)}return null}function Aj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function $c(e){return["html","body","#document"].includes(gu(e))}function Pa(e){return Sn(e).getComputedStyle(e)}function by(e){return ka(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Fs(e){if(gu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||w2(e)&&e.host||ii(e);return w2(t)?t.host:t}function yI(e){const t=Fs(e);return $c(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ja(t)&&ch(t)?t:yI(t)}function tf(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=yI(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Sn(a);if(i){const l=bb(o);return t.concat(o,o.visualViewport||[],ch(a)?a:[],l&&r?tf(l):[])}return t.concat(a,tf(a,[],r))}function bb(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function vI(e){const t=Pa(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Ja(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=Sp(r)!==i||Sp(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function Oj(e){return ka(e)?e:e.contextElement}function Ql(e){const t=Oj(e);if(!Ja(t))return Ka(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=vI(t);let o=(i?Sp(r.width):r.width)/n,l=(i?Sp(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Uq=Ka(0);function xI(e){const t=Sn(e);return!Aj()||!t.visualViewport?Uq:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Vq(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Sn(e)?!1:t}function Go(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Oj(e);let o=Ka(1);t&&(n?ka(n)&&(o=Ql(n)):o=Ql(e));const l=Vq(i,r,n)?xI(i):Ka(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=Sn(i),p=n&&ka(n)?Sn(n):n;let g=h,m=bb(g);for(;m&&n&&p!==g;){const x=Ql(m),v=m.getBoundingClientRect(),b=Pa(m),y=v.left+(m.clientLeft+parseFloat(b.paddingLeft))*x.x,S=v.top+(m.clientTop+parseFloat(b.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=y,u+=S,g=Sn(m),m=bb(g)}}return Pp({width:d,height:f,x:c,y:u})}function Ej(e,t){const r=by(e).scrollLeft;return t?t.left+r:Go(ii(e)).left+r}function bI(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:Ej(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function qq(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=ii(n),l=t?xy(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Ka(1);const d=Ka(0),f=Ja(n);if((f||!f&&!i)&&((gu(n)!=="body"||ch(o))&&(c=by(n)),Ja(n))){const p=Go(n);u=Ql(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?bI(o,c,!0):Ka(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Hq(e){return Array.from(e.getClientRects())}function Gq(e){const t=ii(e),r=by(e),n=e.ownerDocument.body,a=bn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=bn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Ej(e);const l=-r.scrollTop;return Pa(n).direction==="rtl"&&(o+=bn(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function Kq(e,t){const r=Sn(e),n=ii(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=Aj();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function Yq(e,t){const r=Go(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Ja(e)?Ql(e):Ka(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function j2(e,t,r){let n;if(t==="viewport")n=Kq(e,r);else if(t==="document")n=Gq(ii(e));else if(ka(t))n=Yq(t,r);else{const a=xI(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Pp(n)}function wI(e,t){const r=Fs(e);return r===t||!ka(r)||$c(r)?!1:Pa(r).position==="fixed"||wI(r,t)}function Qq(e,t){const r=t.get(e);if(r)return r;let n=tf(e,[],!1).filter(l=>ka(l)&&gu(l)!=="body"),a=null;const i=Pa(e).position==="fixed";let o=i?Fs(e):e;for(;ka(o)&&!$c(o);){const l=Pa(o),c=_j(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||ch(o)&&!c&&wI(e,o))?n=n.filter(d=>d!==o):a=l,o=Fs(o)}return t.set(e,n),n}function Xq(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?xy(t)?[]:Qq(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=j2(t,d,a);return u.top=bn(f.top,u.top),u.right=Is(f.right,u.right),u.bottom=Is(f.bottom,u.bottom),u.left=bn(f.left,u.left),u},j2(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Zq(e){const{width:t,height:r}=vI(e);return{width:t,height:r}}function Jq(e,t,r){const n=Ja(t),a=ii(t),i=r==="fixed",o=Go(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ka(0);if(n||!n&&!i)if((gu(t)!=="body"||ch(a))&&(l=by(t)),n){const h=Go(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&(c.x=Ej(a));const u=a&&!n&&!i?bI(a,l):Ka(0),d=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function f0(e){return Pa(e).position==="static"}function N2(e,t){if(!Ja(e)||Pa(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ii(e)===r&&(r=r.ownerDocument.body),r}function jI(e,t){const r=Sn(e);if(xy(e))return r;if(!Ja(e)){let a=Fs(e);for(;a&&!$c(a);){if(ka(a)&&!f0(a))return a;a=Fs(a)}return r}let n=N2(e,t);for(;n&&Bq(n)&&f0(n);)n=N2(n,t);return n&&$c(n)&&f0(n)&&!_j(n)?r:n||Wq(e)||r}const eH=async function(e){const t=this.getOffsetParent||jI,r=this.getDimensions,n=await r(e.floating);return{reference:Jq(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function tH(e){return Pa(e).direction==="rtl"}const rH={convertOffsetParentRelativeRectToViewportRelativeRect:qq,getDocumentElement:ii,getClippingRect:Xq,getOffsetParent:jI,getElementRects:eH,getClientRects:Hq,getDimensions:Zq,getScale:Ql,isElement:ka,isRTL:tH};function NI(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nH(e,t){let r=null,n;const a=ii(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const g=Yh(f),m=Yh(a.clientWidth-(d+h)),x=Yh(a.clientHeight-(f+p)),v=Yh(d),y={rootMargin:-g+"px "+-m+"px "+-x+"px "+-v+"px",threshold:bn(0,Is(1,c))||1};let S=!0;function w(N){const k=N[0].intersectionRatio;if(k!==c){if(!S)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!NI(u,e.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(w,{...y,root:a.ownerDocument})}catch{r=new IntersectionObserver(w,y)}r.observe(e)}return o(!0),i}function aH(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Oj(e),d=a||i?[...u?tf(u):[],...tf(t)]:[];d.forEach(v=>{a&&v.addEventListener("scroll",r,{passive:!0}),i&&v.addEventListener("resize",r)});const f=u&&l?nH(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[b]=v;b&&b.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let g,m=c?Go(e):null;c&&x();function x(){const v=Go(e);m&&!NI(m,v)&&r(),m=v,g=requestAnimationFrame(x)}return r(),()=>{var v;d.forEach(b=>{a&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),f==null||f(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(g)}}const iH=Rq,sH=Fq,oH=$q,lH=zq,cH=Dq,S2=Mq,uH=Lq,dH=(e,t,r)=>{const n=new Map,a={platform:rH,...r},i={...a.platform,_c:n};return Tq(e,t,{...a,platform:i})};var Im=typeof document<"u"?j.useLayoutEffect:j.useEffect;function Cp(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Cp(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Cp(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function SI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function k2(e,t){const r=SI(e);return Math.round(t*r)/r}function h0(e){const t=j.useRef(e);return Im(()=>{t.current=e}),t}function fH(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=j.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=j.useState(n);Cp(h,n)||p(n);const[g,m]=j.useState(null),[x,v]=j.useState(null),b=j.useCallback(E=>{E!==N.current&&(N.current=E,m(E))},[]),y=j.useCallback(E=>{E!==k.current&&(k.current=E,v(E))},[]),S=i||g,w=o||x,N=j.useRef(null),k=j.useRef(null),P=j.useRef(d),C=c!=null,M=h0(c),A=h0(a),_=h0(u),R=j.useCallback(()=>{if(!N.current||!k.current)return;const E={placement:t,strategy:r,middleware:h};A.current&&(E.platform=A.current),dH(N.current,k.current,E).then(W=>{const K={...W,isPositioned:_.current!==!1};L.current&&!Cp(P.current,K)&&(P.current=K,du.flushSync(()=>{f(K)}))})},[h,t,r,A,_]);Im(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(E=>({...E,isPositioned:!1})))},[u]);const L=j.useRef(!1);Im(()=>(L.current=!0,()=>{L.current=!1}),[]),Im(()=>{if(S&&(N.current=S),w&&(k.current=w),S&&w){if(M.current)return M.current(S,w,R);R()}},[S,w,R,M,C]);const D=j.useMemo(()=>({reference:N,floating:k,setReference:b,setFloating:y}),[b,y]),$=j.useMemo(()=>({reference:S,floating:w}),[S,w]),I=j.useMemo(()=>{const E={position:r,left:0,top:0};if(!$.floating)return E;const W=k2($.floating,d.x),K=k2($.floating,d.y);return l?{...E,transform:"translate("+W+"px, "+K+"px)",...SI($.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:W,top:K}},[r,l,$.floating,d.x,d.y]);return j.useMemo(()=>({...d,update:R,refs:D,elements:$,floatingStyles:I}),[d,R,D,$,I])}const hH=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?S2({element:n.current,padding:a}).fn(r):{}:n?S2({element:n,padding:a}).fn(r):{}}}},mH=(e,t)=>({...iH(e),options:[e,t]}),pH=(e,t)=>({...sH(e),options:[e,t]}),gH=(e,t)=>({...uH(e),options:[e,t]}),yH=(e,t)=>({...oH(e),options:[e,t]}),vH=(e,t)=>({...lH(e),options:[e,t]}),xH=(e,t)=>({...cH(e),options:[e,t]}),bH=(e,t)=>({...hH(e),options:[e,t]});var wH="Arrow",kI=j.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Fe.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});kI.displayName=wH;var jH=kI;function Tj(e){const[t,r]=j.useState(void 0);return $r(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Mj="Popper",[PI,wy]=Xn(Mj),[NH,CI]=PI(Mj),_I=e=>{const{__scopePopper:t,children:r}=e,[n,a]=j.useState(null);return s.jsx(NH,{scope:t,anchor:n,onAnchorChange:a,children:r})};_I.displayName=Mj;var AI="PopperAnchor",OI=j.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=CI(AI,r),o=j.useRef(null),l=at(t,o);return j.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(Fe.div,{...a,ref:l})});OI.displayName=AI;var $j="PopperContent",[SH,kH]=PI($j),EI=j.forwardRef((e,t)=>{var ve,ke,J,ie,V,z;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=e,x=CI($j,r),[v,b]=j.useState(null),y=at(t,se=>b(se)),[S,w]=j.useState(null),N=Tj(S),k=(N==null?void 0:N.width)??0,P=(N==null?void 0:N.height)??0,C=n+(i!=="center"?"-"+i:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],_=A.length>0,R={padding:M,boundary:A.filter(CH),altBoundary:_},{refs:L,floatingStyles:D,placement:$,isPositioned:I,middlewareData:E}=fH({strategy:"fixed",placement:C,whileElementsMounted:(...se)=>aH(...se,{animationFrame:p==="always"}),elements:{reference:x.anchor},middleware:[mH({mainAxis:a+P,alignmentAxis:o}),c&&pH({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?gH():void 0,...R}),c&&yH({...R}),vH({...R,apply:({elements:se,rects:H,availableWidth:ae,availableHeight:Ne})=>{const{width:G,height:xe}=H.reference,$e=se.floating.style;$e.setProperty("--radix-popper-available-width",`${ae}px`),$e.setProperty("--radix-popper-available-height",`${Ne}px`),$e.setProperty("--radix-popper-anchor-width",`${G}px`),$e.setProperty("--radix-popper-anchor-height",`${xe}px`)}}),S&&bH({element:S,padding:l}),_H({arrowWidth:k,arrowHeight:P}),h&&xH({strategy:"referenceHidden",...R})]}),[W,K]=$I($),Q=Za(g);$r(()=>{I&&(Q==null||Q())},[I,Q]);const X=(ve=E.arrow)==null?void 0:ve.x,fe=(ke=E.arrow)==null?void 0:ke.y,Ae=((J=E.arrow)==null?void 0:J.centerOffset)!==0,[ze,Re]=j.useState();return $r(()=>{v&&Re(window.getComputedStyle(v).zIndex)},[v]),s.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:I?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ze,"--radix-popper-transform-origin":[(ie=E.transformOrigin)==null?void 0:ie.x,(V=E.transformOrigin)==null?void 0:V.y].join(" "),...((z=E.hide)==null?void 0:z.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(SH,{scope:r,placedSide:W,onArrowChange:w,arrowX:X,arrowY:fe,shouldHideArrow:Ae,children:s.jsx(Fe.div,{"data-side":W,"data-align":K,...m,ref:y,style:{...m.style,animation:I?void 0:"none"}})})})});EI.displayName=$j;var TI="PopperArrow",PH={top:"bottom",right:"left",bottom:"top",left:"right"},MI=j.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=kH(TI,n),o=PH[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(jH,{...a,ref:r,style:{...a.style,display:"block"}})})});MI.displayName=TI;function CH(e){return e!==null}var _H=e=>({name:"transformOrigin",options:e,fn(t){var x,v,b;const{placement:r,rects:n,middlewareData:a}=t,o=((x=a.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=$I(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((v=a.arrow)==null?void 0:v.x)??0)+l/2,p=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let g="",m="";return u==="bottom"?(g=o?f:`${h}px`,m=`${-c}px`):u==="top"?(g=o?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,m=o?f:`${p}px`):u==="left"&&(g=`${n.floating.width+c}px`,m=o?f:`${p}px`),{data:{x:g,y:m}}}});function $I(e){const[t,r="center"]=e.split("-");return[t,r]}var DI=_I,Dj=OI,II=EI,RI=MI,AH="Portal",jy=j.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=j.useState(!1);$r(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?vU.createPortal(s.jsx(Fe.div,{...n,ref:t}),o):null});jy.displayName=AH;function Di({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=OH({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=Za(r),c=j.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else a(u)},[i,e,a,l]);return[o,c]}function OH({defaultProp:e,onChange:t}){const r=j.useState(e),[n]=r,a=j.useRef(n),i=Za(t);return j.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}function Ij(e){const t=j.useRef({value:e,previous:e});return j.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var EH="VisuallyHidden",FI=j.forwardRef((e,t)=>s.jsx(Fe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));FI.displayName=EH;var TH=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},fl=new WeakMap,Qh=new WeakMap,Xh={},m0=0,LI=function(e){return e&&(e.host||LI(e.parentNode))},MH=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=LI(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},$H=function(e,t,r,n){var a=MH(t,Array.isArray(e)?e:[e]);Xh[r]||(Xh[r]=new WeakMap);var i=Xh[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),g=p!==null&&p!=="false",m=(fl.get(h)||0)+1,x=(i.get(h)||0)+1;fl.set(h,m),i.set(h,x),o.push(h),m===1&&g&&Qh.set(h,!0),x===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),l.clear(),m0++,function(){o.forEach(function(f){var h=fl.get(f)-1,p=i.get(f)-1;fl.set(f,h),i.set(f,p),h||(Qh.has(f)||f.removeAttribute(n),Qh.delete(f)),p||f.removeAttribute(r)}),m0--,m0||(fl=new WeakMap,fl=new WeakMap,Qh=new WeakMap,Xh={})}},Rj=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=TH(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),$H(n,a,r,"aria-hidden")):function(){return null}},Fa=function(){return Fa=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Fa.apply(this,arguments)};function zI(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function DH(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Rm="right-scroll-bar-position",Fm="width-before-scroll-bar",IH="with-scroll-bars-hidden",RH="--removed-body-scroll-bar-size";function p0(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function FH(e,t){var r=j.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var LH=typeof window<"u"?j.useLayoutEffect:j.useEffect,P2=new WeakMap;function zH(e,t){var r=FH(null,function(n){return e.forEach(function(a){return p0(a,n)})});return LH(function(){var n=P2.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||p0(l,null)}),i.forEach(function(l){a.has(l)||p0(l,o)})}P2.set(r,e)},[e]),r}function BH(e){return e}function WH(e,t){t===void 0&&(t=BH);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function UH(e){e===void 0&&(e={});var t=WH(null);return t.options=Fa({async:!0,ssr:!1},e),t}var BI=function(e){var t=e.sideCar,r=zI(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return j.createElement(n,Fa({},r))};BI.isSideCarExport=!0;function VH(e,t){return e.useMedium(t),BI}var WI=UH(),g0=function(){},Ny=j.forwardRef(function(e,t){var r=j.useRef(null),n=j.useState({onScrollCapture:g0,onWheelCapture:g0,onTouchMoveCapture:g0}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,g=e.inert,m=e.allowPinchZoom,x=e.as,v=x===void 0?"div":x,b=e.gapMode,y=zI(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,w=zH([r,t]),N=Fa(Fa({},y),a);return j.createElement(j.Fragment,null,d&&j.createElement(S,{sideCar:WI,removeScrollBar:u,shards:f,noIsolation:p,inert:g,setCallbacks:i,allowPinchZoom:!!m,lockRef:r,gapMode:b}),o?j.cloneElement(j.Children.only(l),Fa(Fa({},N),{ref:w})):j.createElement(v,Fa({},N,{className:c,ref:w}),l))});Ny.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ny.classNames={fullWidth:Fm,zeroRight:Rm};var qH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HH(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=qH();return t&&e.setAttribute("nonce",t),e}function GH(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function KH(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var YH=function(){var e=0,t=null;return{add:function(r){e==0&&(t=HH())&&(GH(t,r),KH(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},QH=function(){var e=YH();return function(t,r){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},UI=function(){var e=QH(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},XH={left:0,top:0,right:0,gap:0},y0=function(e){return parseInt(e||"",10)||0},ZH=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[y0(r),y0(n),y0(a)]},JH=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return XH;var t=ZH(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},eG=UI(),Xl="data-scroll-locked",tG=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(IH,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Xl,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Rm,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Fm,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Rm," .").concat(Rm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Fm," .").concat(Fm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Xl,`] {
    `).concat(RH,": ").concat(l,`px;
  }
`)},C2=function(){var e=parseInt(document.body.getAttribute(Xl)||"0",10);return isFinite(e)?e:0},rG=function(){j.useEffect(function(){return document.body.setAttribute(Xl,(C2()+1).toString()),function(){var e=C2()-1;e<=0?document.body.removeAttribute(Xl):document.body.setAttribute(Xl,e.toString())}},[])},nG=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;rG();var i=j.useMemo(function(){return JH(a)},[a]);return j.createElement(eG,{styles:tG(i,!t,a,r?"":"!important")})},wb=!1;if(typeof window<"u")try{var Zh=Object.defineProperty({},"passive",{get:function(){return wb=!0,!0}});window.addEventListener("test",Zh,Zh),window.removeEventListener("test",Zh,Zh)}catch{wb=!1}var hl=wb?{passive:!1}:!1,aG=function(e){return e.tagName==="TEXTAREA"},VI=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!aG(e)&&r[t]==="visible")},iG=function(e){return VI(e,"overflowY")},sG=function(e){return VI(e,"overflowX")},_2=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=qI(e,n);if(a){var i=HI(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},oG=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},lG=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},qI=function(e,t){return e==="v"?iG(t):sG(t)},HI=function(e,t){return e==="v"?oG(t):lG(t)},cG=function(e,t){return e==="h"&&t==="rtl"?-1:1},uG=function(e,t,r,n,a){var i=cG(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{var p=HI(e,l),g=p[0],m=p[1],x=p[2],v=m-x-i*g;(g||v)&&qI(e,l)&&(f+=v,h+=g),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!a)||!d&&(Math.abs(h)<1||!a))&&(u=!0),u},Jh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},A2=function(e){return[e.deltaX,e.deltaY]},O2=function(e){return e&&"current"in e?e.current:e},dG=function(e,t){return e[0]===t[0]&&e[1]===t[1]},fG=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},hG=0,ml=[];function mG(e){var t=j.useRef([]),r=j.useRef([0,0]),n=j.useRef(),a=j.useState(hG++)[0],i=j.useState(UI)[0],o=j.useRef(e);j.useEffect(function(){o.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=DH([e.lockRef.current],(e.shards||[]).map(O2),!0).filter(Boolean);return m.forEach(function(x){return x.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=j.useCallback(function(m,x){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var v=Jh(m),b=r.current,y="deltaX"in m?m.deltaX:b[0]-v[0],S="deltaY"in m?m.deltaY:b[1]-v[1],w,N=m.target,k=Math.abs(y)>Math.abs(S)?"h":"v";if("touches"in m&&k==="h"&&N.type==="range")return!1;var P=_2(k,N);if(!P)return!0;if(P?w=k:(w=k==="v"?"h":"v",P=_2(k,N)),!P)return!1;if(!n.current&&"changedTouches"in m&&(y||S)&&(n.current=w),!w)return!0;var C=n.current||w;return uG(C,x,m,C==="h"?y:S,!0)},[]),c=j.useCallback(function(m){var x=m;if(!(!ml.length||ml[ml.length-1]!==i)){var v="deltaY"in x?A2(x):Jh(x),b=t.current.filter(function(w){return w.name===x.type&&(w.target===x.target||x.target===w.shadowParent)&&dG(w.delta,v)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var y=(o.current.shards||[]).map(O2).filter(Boolean).filter(function(w){return w.contains(x.target)}),S=y.length>0?l(x,y[0]):!o.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),u=j.useCallback(function(m,x,v,b){var y={name:m,delta:x,target:v,should:b,shadowParent:pG(v)};t.current.push(y),setTimeout(function(){t.current=t.current.filter(function(S){return S!==y})},1)},[]),d=j.useCallback(function(m){r.current=Jh(m),n.current=void 0},[]),f=j.useCallback(function(m){u(m.type,A2(m),m.target,l(m,e.lockRef.current))},[]),h=j.useCallback(function(m){u(m.type,Jh(m),m.target,l(m,e.lockRef.current))},[]);j.useEffect(function(){return ml.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,hl),document.addEventListener("touchmove",c,hl),document.addEventListener("touchstart",d,hl),function(){ml=ml.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,hl),document.removeEventListener("touchmove",c,hl),document.removeEventListener("touchstart",d,hl)}},[]);var p=e.removeScrollBar,g=e.inert;return j.createElement(j.Fragment,null,g?j.createElement(i,{styles:fG(a)}):null,p?j.createElement(nG,{gapMode:e.gapMode}):null)}function pG(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const gG=VH(WI,mG);var Sy=j.forwardRef(function(e,t){return j.createElement(Ny,Fa({},e,{ref:t,sideCar:gG}))});Sy.classNames=Ny.classNames;var yG=[" ","Enter","ArrowUp","ArrowDown"],vG=[" ","Enter"],uh="Select",[ky,Py,xG]=Nj(uh),[yu,g2e]=Xn(uh,[xG,wy]),Cy=wy(),[bG,Gs]=yu(uh),[wG,jG]=yu(uh),GI=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:g}=e,m=Cy(t),[x,v]=j.useState(null),[b,y]=j.useState(null),[S,w]=j.useState(!1),N=py(u),[k=!1,P]=Di({prop:n,defaultProp:a,onChange:i}),[C,M]=Di({prop:o,defaultProp:l,onChange:c}),A=j.useRef(null),_=x?g||!!x.closest("form"):!0,[R,L]=j.useState(new Set),D=Array.from(R).map($=>$.props.value).join(";");return s.jsx(DI,{...m,children:s.jsxs(bG,{required:p,scope:t,trigger:x,onTriggerChange:v,valueNode:b,onValueNodeChange:y,valueNodeHasChildren:S,onValueNodeHasChildrenChange:w,contentId:Ga(),value:C,onValueChange:M,open:k,onOpenChange:P,dir:N,triggerPointerDownPosRef:A,disabled:h,children:[s.jsx(ky.Provider,{scope:t,children:s.jsx(wG,{scope:e.__scopeSelect,onNativeOptionAdd:j.useCallback($=>{L(I=>new Set(I).add($))},[]),onNativeOptionRemove:j.useCallback($=>{L(I=>{const E=new Set(I);return E.delete($),E})},[]),children:r})}),_?s.jsxs(v3,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:$=>M($.target.value),disabled:h,form:g,children:[C===void 0?s.jsx("option",{value:""}):null,Array.from(R)]},D):null]})})};GI.displayName=uh;var KI="SelectTrigger",YI=j.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Cy(r),o=Gs(KI,r),l=o.disabled||n,c=at(t,o.onTriggerChange),u=Py(r),d=j.useRef("touch"),[f,h,p]=x3(m=>{const x=u().filter(y=>!y.disabled),v=x.find(y=>y.value===o.value),b=b3(x,m,v);b!==void 0&&o.onValueChange(b.value)}),g=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return s.jsx(Dj,{asChild:!0,...i,children:s.jsx(Fe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":y3(o.value)?"":void 0,...a,ref:c,onClick:De(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:De(a.onPointerDown,m=>{d.current=m.pointerType;const x=m.target;x.hasPointerCapture(m.pointerId)&&x.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:De(a.onKeyDown,m=>{const x=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(x&&m.key===" ")&&yG.includes(m.key)&&(g(),m.preventDefault())})})})});YI.displayName=KI;var QI="SelectValue",XI=j.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=Gs(QI,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=at(t,c.onValueNodeChange);return $r(()=>{u(d)},[u,d]),s.jsx(Fe.span,{...l,ref:f,style:{pointerEvents:"none"},children:y3(c.value)?s.jsx(s.Fragment,{children:o}):i})});XI.displayName=QI;var NG="SelectIcon",ZI=j.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Fe.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});ZI.displayName=NG;var SG="SelectPortal",JI=e=>s.jsx(jy,{asChild:!0,...e});JI.displayName=SG;var Ko="SelectContent",e3=j.forwardRef((e,t)=>{const r=Gs(Ko,e.__scopeSelect),[n,a]=j.useState();if($r(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?du.createPortal(s.jsx(t3,{scope:e.__scopeSelect,children:s.jsx(ky.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(r3,{...e,ref:t})});e3.displayName=Ko;var ra=10,[t3,Ks]=yu(Ko),kG="SelectContentImpl",PG=Ho("SelectContent.RemoveScroll"),r3=j.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:x,...v}=e,b=Gs(Ko,r),[y,S]=j.useState(null),[w,N]=j.useState(null),k=at(t,ve=>S(ve)),[P,C]=j.useState(null),[M,A]=j.useState(null),_=Py(r),[R,L]=j.useState(!1),D=j.useRef(!1);j.useEffect(()=>{if(y)return Rj(y)},[y]),Sj();const $=j.useCallback(ve=>{const[ke,...J]=_().map(z=>z.ref.current),[ie]=J.slice(-1),V=document.activeElement;for(const z of ve)if(z===V||(z==null||z.scrollIntoView({block:"nearest"}),z===ke&&w&&(w.scrollTop=0),z===ie&&w&&(w.scrollTop=w.scrollHeight),z==null||z.focus(),document.activeElement!==V))return},[_,w]),I=j.useCallback(()=>$([P,y]),[$,P,y]);j.useEffect(()=>{R&&I()},[R,I]);const{onOpenChange:E,triggerPointerDownPosRef:W}=b;j.useEffect(()=>{if(y){let ve={x:0,y:0};const ke=ie=>{var V,z;ve={x:Math.abs(Math.round(ie.pageX)-(((V=W.current)==null?void 0:V.x)??0)),y:Math.abs(Math.round(ie.pageY)-(((z=W.current)==null?void 0:z.y)??0))}},J=ie=>{ve.x<=10&&ve.y<=10?ie.preventDefault():y.contains(ie.target)||E(!1),document.removeEventListener("pointermove",ke),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",ke),document.addEventListener("pointerup",J,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ke),document.removeEventListener("pointerup",J,{capture:!0})}}},[y,E,W]),j.useEffect(()=>{const ve=()=>E(!1);return window.addEventListener("blur",ve),window.addEventListener("resize",ve),()=>{window.removeEventListener("blur",ve),window.removeEventListener("resize",ve)}},[E]);const[K,Q]=x3(ve=>{const ke=_().filter(V=>!V.disabled),J=ke.find(V=>V.ref.current===document.activeElement),ie=b3(ke,ve,J);ie&&setTimeout(()=>ie.ref.current.focus())}),X=j.useCallback((ve,ke,J)=>{const ie=!D.current&&!J;(b.value!==void 0&&b.value===ke||ie)&&(C(ve),ie&&(D.current=!0))},[b.value]),fe=j.useCallback(()=>y==null?void 0:y.focus(),[y]),Ae=j.useCallback((ve,ke,J)=>{const ie=!D.current&&!J;(b.value!==void 0&&b.value===ke||ie)&&A(ve)},[b.value]),ze=n==="popper"?jb:n3,Re=ze===jb?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:x}:{};return s.jsx(t3,{scope:r,content:y,viewport:w,onViewportChange:N,itemRefCallback:X,selectedItem:P,onItemLeave:fe,itemTextRefCallback:Ae,focusSelectedItem:I,selectedItemText:M,position:n,isPositioned:R,searchRef:K,children:s.jsx(Sy,{as:PG,allowPinchZoom:!0,children:s.jsx(yy,{asChild:!0,trapped:b.open,onMountAutoFocus:ve=>{ve.preventDefault()},onUnmountAutoFocus:De(a,ve=>{var ke;(ke=b.trigger)==null||ke.focus({preventScroll:!0}),ve.preventDefault()}),children:s.jsx(gy,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ve=>ve.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(ze,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:ve=>ve.preventDefault(),...v,...Re,onPlaced:()=>L(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:De(v.onKeyDown,ve=>{const ke=ve.ctrlKey||ve.altKey||ve.metaKey;if(ve.key==="Tab"&&ve.preventDefault(),!ke&&ve.key.length===1&&Q(ve.key),["ArrowUp","ArrowDown","Home","End"].includes(ve.key)){let ie=_().filter(V=>!V.disabled).map(V=>V.ref.current);if(["ArrowUp","End"].includes(ve.key)&&(ie=ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(ve.key)){const V=ve.target,z=ie.indexOf(V);ie=ie.slice(z+1)}setTimeout(()=>$(ie)),ve.preventDefault()}})})})})})})});r3.displayName=kG;var CG="SelectItemAlignedPosition",n3=j.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Gs(Ko,r),o=Ks(Ko,r),[l,c]=j.useState(null),[u,d]=j.useState(null),f=at(t,k=>d(k)),h=Py(r),p=j.useRef(!1),g=j.useRef(!0),{viewport:m,selectedItem:x,selectedItemText:v,focusSelectedItem:b}=o,y=j.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&x&&v){const k=i.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),M=v.getBoundingClientRect();if(i.dir!=="rtl"){const V=M.left-P.left,z=C.left-V,se=k.left-z,H=k.width+se,ae=Math.max(H,P.width),Ne=window.innerWidth-ra,G=Np(z,[ra,Math.max(ra,Ne-ae)]);l.style.minWidth=H+"px",l.style.left=G+"px"}else{const V=P.right-M.right,z=window.innerWidth-C.right-V,se=window.innerWidth-k.right-z,H=k.width+se,ae=Math.max(H,P.width),Ne=window.innerWidth-ra,G=Np(z,[ra,Math.max(ra,Ne-ae)]);l.style.minWidth=H+"px",l.style.right=G+"px"}const A=h(),_=window.innerHeight-ra*2,R=m.scrollHeight,L=window.getComputedStyle(u),D=parseInt(L.borderTopWidth,10),$=parseInt(L.paddingTop,10),I=parseInt(L.borderBottomWidth,10),E=parseInt(L.paddingBottom,10),W=D+$+R+E+I,K=Math.min(x.offsetHeight*5,W),Q=window.getComputedStyle(m),X=parseInt(Q.paddingTop,10),fe=parseInt(Q.paddingBottom,10),Ae=k.top+k.height/2-ra,ze=_-Ae,Re=x.offsetHeight/2,ve=x.offsetTop+Re,ke=D+$+ve,J=W-ke;if(ke<=Ae){const V=A.length>0&&x===A[A.length-1].ref.current;l.style.bottom="0px";const z=u.clientHeight-m.offsetTop-m.offsetHeight,se=Math.max(ze,Re+(V?fe:0)+z+I),H=ke+se;l.style.height=H+"px"}else{const V=A.length>0&&x===A[0].ref.current;l.style.top="0px";const se=Math.max(Ae,D+m.offsetTop+(V?X:0)+Re)+J;l.style.height=se+"px",m.scrollTop=ke-Ae+m.offsetTop}l.style.margin=`${ra}px 0`,l.style.minHeight=K+"px",l.style.maxHeight=_+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,m,x,v,i.dir,n]);$r(()=>y(),[y]);const[S,w]=j.useState();$r(()=>{u&&w(window.getComputedStyle(u).zIndex)},[u]);const N=j.useCallback(k=>{k&&g.current===!0&&(y(),b==null||b(),g.current=!1)},[y,b]);return s.jsx(AG,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:N,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:s.jsx(Fe.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});n3.displayName=CG;var _G="SelectPopperPosition",jb=j.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=ra,...i}=e,o=Cy(r);return s.jsx(II,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});jb.displayName=_G;var[AG,Fj]=yu(Ko,{}),Nb="SelectViewport",a3=j.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Ks(Nb,r),o=Fj(Nb,r),l=at(t,i.onViewportChange),c=j.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(ky.Slot,{scope:r,children:s.jsx(Fe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:De(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const g=window.innerHeight-ra*2,m=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),v=Math.max(m,x);if(v<g){const b=v+p,y=Math.min(g,b),S=b-y;f.style.height=y+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});a3.displayName=Nb;var i3="SelectGroup",[OG,EG]=yu(i3),TG=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Ga();return s.jsx(OG,{scope:r,id:a,children:s.jsx(Fe.div,{role:"group","aria-labelledby":a,...n,ref:t})})});TG.displayName=i3;var s3="SelectLabel",o3=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=EG(s3,r);return s.jsx(Fe.div,{id:a.id,...n,ref:t})});o3.displayName=s3;var _p="SelectItem",[MG,l3]=yu(_p),c3=j.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=Gs(_p,r),c=Ks(_p,r),u=l.value===n,[d,f]=j.useState(i??""),[h,p]=j.useState(!1),g=at(t,b=>{var y;return(y=c.itemRefCallback)==null?void 0:y.call(c,b,n,a)}),m=Ga(),x=j.useRef("touch"),v=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(MG,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:j.useCallback(b=>{f(y=>y||((b==null?void 0:b.textContent)??"").trim())},[]),children:s.jsx(ky.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(Fe.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:De(o.onFocus,()=>p(!0)),onBlur:De(o.onBlur,()=>p(!1)),onClick:De(o.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:De(o.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:De(o.onPointerDown,b=>{x.current=b.pointerType}),onPointerMove:De(o.onPointerMove,b=>{var y;x.current=b.pointerType,a?(y=c.onItemLeave)==null||y.call(c):x.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:De(o.onPointerLeave,b=>{var y;b.currentTarget===document.activeElement&&((y=c.onItemLeave)==null||y.call(c))}),onKeyDown:De(o.onKeyDown,b=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&b.key===" "||(vG.includes(b.key)&&v(),b.key===" "&&b.preventDefault())})})})})});c3.displayName=_p;var ud="SelectItemText",u3=j.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Gs(ud,r),l=Ks(ud,r),c=l3(ud,r),u=jG(ud,r),[d,f]=j.useState(null),h=at(t,v=>f(v),c.onItemTextChange,v=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,v,c.value,c.disabled)}),p=d==null?void 0:d.textContent,g=j.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:x}=u;return $r(()=>(m(g),()=>x(g)),[m,x,g]),s.jsxs(s.Fragment,{children:[s.jsx(Fe.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?du.createPortal(i.children,o.valueNode):null]})});u3.displayName=ud;var d3="SelectItemIndicator",f3=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l3(d3,r).isSelected?s.jsx(Fe.span,{"aria-hidden":!0,...n,ref:t}):null});f3.displayName=d3;var Sb="SelectScrollUpButton",h3=j.forwardRef((e,t)=>{const r=Ks(Sb,e.__scopeSelect),n=Fj(Sb,e.__scopeSelect),[a,i]=j.useState(!1),o=at(t,n.onScrollButtonChange);return $r(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(p3,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});h3.displayName=Sb;var kb="SelectScrollDownButton",m3=j.forwardRef((e,t)=>{const r=Ks(kb,e.__scopeSelect),n=Fj(kb,e.__scopeSelect),[a,i]=j.useState(!1),o=at(t,n.onScrollButtonChange);return $r(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(p3,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});m3.displayName=kb;var p3=j.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Ks("SelectScrollButton",r),o=j.useRef(null),l=Py(r),c=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>c(),[c]),$r(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(Fe.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:De(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:De(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:De(a.onPointerLeave,()=>{c()})})}),$G="SelectSeparator",g3=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Fe.div,{"aria-hidden":!0,...n,ref:t})});g3.displayName=$G;var Pb="SelectArrow",DG=j.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Cy(r),i=Gs(Pb,r),o=Ks(Pb,r);return i.open&&o.position==="popper"?s.jsx(RI,{...a,...n,ref:t}):null});DG.displayName=Pb;function y3(e){return e===""||e===void 0}var v3=j.forwardRef((e,t)=>{const{value:r,...n}=e,a=j.useRef(null),i=at(t,a),o=Ij(r);return j.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[o,r]),s.jsx(FI,{asChild:!0,children:s.jsx("select",{...n,ref:i,defaultValue:r})})});v3.displayName="BubbleSelect";function x3(e){const t=Za(e),r=j.useRef(""),n=j.useRef(0),a=j.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=j.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function b3(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=IG(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function IG(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var RG=GI,w3=YI,FG=XI,LG=ZI,zG=JI,j3=e3,BG=a3,N3=o3,S3=c3,WG=u3,UG=f3,k3=h3,P3=m3,C3=g3;const ga=RG,ya=FG,Bn=j.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(w3,{ref:n,className:Te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(LG,{asChild:!0,children:s.jsx(vs,{className:"h-4 w-4 opacity-50"})})]}));Bn.displayName=w3.displayName;const _3=j.forwardRef(({className:e,...t},r)=>s.jsx(k3,{ref:r,className:Te("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(dj,{className:"h-4 w-4"})}));_3.displayName=k3.displayName;const A3=j.forwardRef(({className:e,...t},r)=>s.jsx(P3,{ref:r,className:Te("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(vs,{className:"h-4 w-4"})}));A3.displayName=P3.displayName;const Wn=j.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(zG,{children:s.jsxs(j3,{ref:a,className:Te("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(_3,{}),s.jsx(BG,{className:Te("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(A3,{})]})}));Wn.displayName=j3.displayName;const VG=j.forwardRef(({className:e,...t},r)=>s.jsx(N3,{ref:r,className:Te("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));VG.displayName=N3.displayName;const Le=j.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(S3,{ref:n,className:Te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(UG,{children:s.jsx($s,{className:"h-4 w-4"})})}),s.jsx(WG,{children:t})]}));Le.displayName=S3.displayName;const qG=j.forwardRef(({className:e,...t},r)=>s.jsx(C3,{ref:r,className:Te("-mx-1 my-1 h-px bg-muted",e),...t}));qG.displayName=C3.displayName;const lt=j.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:Te("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));lt.displayName="Input";const me=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Te("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));me.displayName="Card";const Se=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Te("flex flex-col space-y-1.5 p-6",e),...t}));Se.displayName="CardHeader";const Ce=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Te("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ce.displayName="CardTitle";const Ye=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Te("text-sm text-muted-foreground",e),...t}));Ye.displayName="CardDescription";const ye=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Te("p-6 pt-0",e),...t}));ye.displayName="CardContent";const HG=j.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Te("flex items-center p-6 pt-0",e),...t}));HG.displayName="CardFooter";const E2={water:{name:"Water",calories:0,caffeine:0,sugar:0,alcoholContent:0,icon:fb,defaultAmount:250},coffee:{name:"Coffee",calories:5,caffeine:95,sugar:0,alcoholContent:0,icon:Kl,defaultAmount:240},tea:{name:"Tea",calories:2,caffeine:40,sugar:0,alcoholContent:0,icon:Kl,defaultAmount:240},juice:{name:"Orange Juice",calories:112,caffeine:0,sugar:21,alcoholContent:0,icon:ua,defaultAmount:240},soda:{name:"Soda",calories:150,caffeine:34,sugar:39,alcoholContent:0,icon:ua,defaultAmount:355},sports_drink:{name:"Sports Drink",calories:80,caffeine:0,sugar:21,alcoholContent:0,icon:Ha,defaultAmount:355},beer:{name:"Beer",calories:150,caffeine:0,sugar:13,alcoholContent:5,icon:db,defaultAmount:355},wine:{name:"Wine",calories:125,caffeine:0,sugar:4,alcoholContent:12,icon:ua,defaultAmount:150},spirits:{name:"Spirits",calories:97,caffeine:0,sugar:0,alcoholContent:40,icon:ua,defaultAmount:44},cocktail:{name:"Cocktail",calories:200,caffeine:0,sugar:15,alcoholContent:15,icon:ua,defaultAmount:150},other:{name:"Custom Drink",calories:0,caffeine:0,sugar:0,alcoholContent:0,icon:an,defaultAmount:250}};function O3(){const[e,t]=j.useState(""),[r,n]=j.useState(""),[a,i]=j.useState(""),[o,l]=j.useState(!1),{toast:c}=Ir(),u=En(),{user:d,isAuthenticated:f,isLoading:h}=hy(),p=Jt({mutationFn:async v=>{await $t("POST","/api/drinks",v)},onSuccess:()=>{_t.playSuccess(),c({title:"Drink Logged!",description:"Your drink has been added to your records."}),u.invalidateQueries({queryKey:["/api/drinks"]}),t(""),n(""),i(""),l(!1)},onError:v=>{_t.playError(),c({title:"Error",description:"Failed to log drink. Please try again.",variant:"destructive"}),console.error("Error logging drink:",v)}}),g=(v,b)=>Math.round(v*b/1e3),m=v=>{if(!f||!(d!=null&&d.id)){c({title:"Authentication Required",description:"Please log in to record drinks.",variant:"destructive"});return}const b=E2[v],y=g(b.defaultAmount,b.alcoholContent),S={userId:d.id,drinkName:b.name,drinkType:v,amount:b.defaultAmount,calories:b.calories,caffeine:b.caffeine,sugar:b.sugar,alcoholContent:b.alcoholContent,alcoholUnits:y,loggedAt:new Date().toISOString()};p.mutate(S)},x=()=>{if(!f||!(d!=null&&d.id)){c({title:"Authentication Required",description:"Please log in to record drinks.",variant:"destructive"});return}if(!e||!a)return;const v=E2[e],b=parseInt(a),y=b/v.defaultAmount,S=g(b,v.alcoholContent),w={userId:d.id,drinkName:e==="other"?r:v.name,drinkType:e,amount:b,calories:Math.round(v.calories*y),caffeine:Math.round(v.caffeine*y),sugar:Math.round(v.sugar*y),alcoholContent:v.alcoholContent,alcoholUnits:S,loggedAt:new Date().toISOString()};p.mutate(w)};return o?s.jsxs(me,{className:"mx-4 mb-4 bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-950/50 dark:to-cyan-950/50 border-blue-200 dark:border-blue-800 shadow-lg",children:[s.jsx(Se,{className:"pb-4",children:s.jsxs(Ce,{className:"flex items-center justify-between text-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-blue-500 rounded-full shadow-md",children:s.jsx(Ha,{className:"h-5 w-5 text-white"})}),s.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent font-bold",children:"Log a Drink"})]}),s.jsx(he,{variant:"ghost",size:"sm",onClick:()=>l(!1),className:"hover:bg-red-100 dark:hover:bg-red-900/30 text-gray-500 hover:text-red-600 rounded-full h-8 w-8 p-0","data-testid":"button-collapse-drinks",children:""})]})}),s.jsxs(ye,{className:"space-y-5",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-semibold text-sm mb-3 text-blue-700 dark:text-blue-300 flex items-center space-x-2",children:[s.jsx(Ha,{className:"h-4 w-4"}),s.jsx("span",{children:"Non-Alcoholic"})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[s.jsxs(he,{variant:"outline",size:"sm",onClick:()=>m("water"),disabled:p.isPending,className:"flex flex-col items-center space-y-1 h-16 bg-gradient-to-br from-blue-100 to-cyan-100 dark:from-blue-900/30 dark:to-cyan-900/30 border-blue-300 hover:from-blue-200 hover:to-cyan-200 hover:shadow-md transition-all duration-200 text-blue-700 dark:text-blue-300","data-testid":"button-quick-water-expanded",children:[s.jsx(fb,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Water"})]}),s.jsxs(he,{variant:"outline",size:"sm",onClick:()=>m("coffee"),disabled:p.isPending,className:"flex flex-col items-center space-y-1 h-16 bg-gradient-to-br from-amber-100 to-orange-100 dark:from-amber-900/30 dark:to-orange-900/30 border-amber-300 hover:from-amber-200 hover:to-orange-200 hover:shadow-md transition-all duration-200 text-amber-700 dark:text-amber-300","data-testid":"button-quick-coffee-expanded",children:[s.jsx(Kl,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Coffee"})]}),s.jsxs(he,{variant:"outline",size:"sm",onClick:()=>m("tea"),disabled:p.isPending,className:"flex flex-col items-center space-y-1 h-16 bg-gradient-to-br from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30 border-green-300 hover:from-green-200 hover:to-emerald-200 hover:shadow-md transition-all duration-200 text-green-700 dark:text-green-300","data-testid":"button-quick-tea",children:[s.jsx(Kl,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Tea"})]}),s.jsxs(he,{variant:"outline",size:"sm",onClick:()=>m("soda"),disabled:p.isPending,className:"flex flex-col items-center space-y-1 h-16 bg-gradient-to-br from-red-100 to-pink-100 dark:from-red-900/30 dark:to-pink-900/30 border-red-300 hover:from-red-200 hover:to-pink-200 hover:shadow-md transition-all duration-200 text-red-700 dark:text-red-300","data-testid":"button-quick-soda",children:[s.jsx(ua,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Soda"})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-950/50 dark:to-orange-950/50 rounded-lg p-4 border border-amber-200 dark:border-amber-800",children:[s.jsxs("h4",{className:"font-semibold text-sm mb-3 text-amber-700 dark:text-amber-300 flex items-center space-x-2",children:[s.jsx(ua,{className:"h-4 w-4"}),s.jsx("span",{children:"Alcoholic Drinks"})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[s.jsxs(he,{variant:"outline",size:"sm",onClick:()=>m("beer"),disabled:p.isPending,className:"flex flex-col items-center space-y-1 h-16 bg-gradient-to-br from-yellow-100 to-amber-100 dark:from-yellow-900/40 dark:to-amber-900/40 border-yellow-300 hover:from-yellow-200 hover:to-amber-200 hover:shadow-md transition-all duration-200 text-yellow-700 dark:text-yellow-300","data-testid":"button-quick-beer-expanded",children:[s.jsx(db,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Beer"})]}),s.jsxs(he,{variant:"outline",size:"sm",onClick:()=>m("wine"),disabled:p.isPending,className:"flex flex-col items-center space-y-1 h-16 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900/40 dark:to-pink-900/40 border-purple-300 hover:from-purple-200 hover:to-pink-200 hover:shadow-md transition-all duration-200 text-purple-700 dark:text-purple-300","data-testid":"button-quick-wine-expanded",children:[s.jsx(ua,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Wine"})]}),s.jsxs(he,{variant:"outline",size:"sm",onClick:()=>m("spirits"),disabled:p.isPending,className:"flex flex-col items-center space-y-1 h-16 bg-gradient-to-br from-red-100 to-rose-100 dark:from-red-900/40 dark:to-rose-900/40 border-red-300 hover:from-red-200 hover:to-rose-200 hover:shadow-md transition-all duration-200 text-red-700 dark:text-red-300","data-testid":"button-quick-spirits",children:[s.jsx(ua,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Spirits"})]}),s.jsxs(he,{variant:"outline",size:"sm",onClick:()=>m("cocktail"),disabled:p.isPending,className:"flex flex-col items-center space-y-1 h-16 bg-gradient-to-br from-pink-100 to-rose-100 dark:from-pink-900/40 dark:to-rose-900/40 border-pink-300 hover:from-pink-200 hover:to-rose-200 hover:shadow-md transition-all duration-200 text-pink-700 dark:text-pink-300","data-testid":"button-quick-cocktail",children:[s.jsx(ua,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Cocktail"})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 dark:from-slate-950/50 dark:to-gray-950/50 rounded-lg p-4 border border-slate-200 dark:border-slate-800",children:[s.jsxs("h4",{className:"font-semibold text-sm mb-4 text-slate-700 dark:text-slate-300 flex items-center space-x-2",children:[s.jsx(an,{className:"h-4 w-4"}),s.jsx("span",{children:"Custom Amount & Type"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs(ga,{value:e,onValueChange:t,children:[s.jsx(Bn,{className:"bg-white dark:bg-slate-900 border-slate-300 dark:border-slate-700 shadow-sm","data-testid":"select-drink-type",children:s.jsx(ya,{placeholder:"Select drink"})}),s.jsxs(Wn,{children:[s.jsx(Le,{value:"water",children:" Water"}),s.jsx(Le,{value:"coffee",children:" Coffee"}),s.jsx(Le,{value:"tea",children:" Tea"}),s.jsx(Le,{value:"juice",children:" Juice"}),s.jsx(Le,{value:"soda",children:" Soda"}),s.jsx(Le,{value:"sports_drink",children:" Sports Drink"}),s.jsx(Le,{value:"beer",children:" Beer"}),s.jsx(Le,{value:"wine",children:" Wine"}),s.jsx(Le,{value:"spirits",children:" Spirits"}),s.jsx(Le,{value:"cocktail",children:" Cocktail"}),s.jsx(Le,{value:"other",children:" Other"})]})]}),s.jsx(lt,{type:"number",placeholder:"Amount (ml)",value:a,onChange:v=>i(v.target.value),className:"bg-white dark:bg-slate-900 border-slate-300 dark:border-slate-700 shadow-sm","data-testid":"input-drink-amount"})]}),e==="other"&&s.jsx("div",{className:"mb-3",children:s.jsx(lt,{placeholder:"Enter drink name...",value:r,onChange:v=>n(v.target.value),className:"bg-white dark:bg-slate-900 border-slate-300 dark:border-slate-700 shadow-sm","data-testid":"input-custom-drink-name"})}),s.jsx(he,{onClick:x,disabled:!e||!a||p.isPending||e==="other"&&!r,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-md hover:shadow-lg transition-all duration-200","data-testid":"button-log-custom-drink",children:p.isPending?"Logging...":s.jsxs(s.Fragment,{children:[s.jsx($s,{className:"h-4 w-4 mr-2"}),"Log Custom Drink"]})})]})]})]}):s.jsxs("div",{className:"mx-4 mb-4 bg-gradient-to-br from-slate-800 via-gray-800 to-slate-900 rounded-3xl p-6 shadow-2xl border border-slate-700/50",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-2xl shadow-lg",children:s.jsx(Ha,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"text-white text-xl font-bold",children:"Quick Drinks"})]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Log your beverages instantly"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.jsxs("button",{onClick:()=>m("water"),disabled:p.isPending,className:"bg-gradient-to-br from-blue-600/90 to-cyan-600/90 hover:from-blue-500/90 hover:to-cyan-500/90 text-white p-4 rounded-2xl flex flex-col items-center justify-center space-y-2 transition-all duration-300 shadow-xl hover:scale-105 hover:shadow-blue-500/25 border border-blue-400/20 backdrop-blur-sm min-h-[80px]","data-testid":"button-quick-water",children:[s.jsx(fb,{className:"h-7 w-7"}),s.jsx("span",{className:"text-sm font-semibold",children:"Water"}),s.jsx("span",{className:"text-xs opacity-75",children:"250ml"})]}),s.jsxs("button",{onClick:()=>m("coffee"),disabled:p.isPending,className:"bg-gradient-to-br from-amber-600/90 to-orange-600/90 hover:from-amber-500/90 hover:to-orange-500/90 text-white p-4 rounded-2xl flex flex-col items-center justify-center space-y-2 transition-all duration-300 shadow-xl hover:scale-105 hover:shadow-amber-500/25 border border-amber-400/20 backdrop-blur-sm min-h-[80px]","data-testid":"button-quick-coffee",children:[s.jsx(Kl,{className:"h-7 w-7"}),s.jsx("span",{className:"text-sm font-semibold",children:"Coffee"}),s.jsx("span",{className:"text-xs opacity-75",children:"240ml"})]}),s.jsxs("button",{onClick:()=>m("beer"),disabled:p.isPending,className:"bg-gradient-to-br from-yellow-600/90 to-amber-600/90 hover:from-yellow-500/90 hover:to-amber-500/90 text-white p-4 rounded-2xl flex flex-col items-center justify-center space-y-2 transition-all duration-300 shadow-xl hover:scale-105 hover:shadow-yellow-500/25 border border-yellow-400/20 backdrop-blur-sm min-h-[80px]","data-testid":"button-quick-beer",children:[s.jsx(db,{className:"h-7 w-7"}),s.jsx("span",{className:"text-sm font-semibold",children:"Beer"}),s.jsx("span",{className:"text-xs opacity-75",children:"355ml"})]}),s.jsxs("button",{onClick:()=>m("wine"),disabled:p.isPending,className:"bg-gradient-to-br from-purple-600/90 to-pink-600/90 hover:from-purple-500/90 hover:to-pink-500/90 text-white p-4 rounded-2xl flex flex-col items-center justify-center space-y-2 transition-all duration-300 shadow-xl hover:scale-105 hover:shadow-purple-500/25 border border-purple-400/20 backdrop-blur-sm min-h-[80px]","data-testid":"button-quick-wine",children:[s.jsx(ua,{className:"h-7 w-7"}),s.jsx("span",{className:"text-sm font-semibold",children:"Wine"}),s.jsx("span",{className:"text-xs opacity-75",children:"150ml"})]})]}),s.jsxs("button",{onClick:()=>l(!0),className:"w-full bg-gradient-to-r from-slate-700/90 to-slate-800/90 hover:from-slate-600/90 hover:to-slate-700/90 text-white py-4 px-6 rounded-2xl font-semibold transition-all duration-300 shadow-xl hover:scale-[1.02] hover:shadow-slate-500/25 border border-white/10 backdrop-blur-xl flex items-center justify-center space-x-3","data-testid":"button-more-drinks",children:[s.jsx(an,{className:"h-5 w-5"}),s.jsx("span",{children:"More Drinks & Custom Amounts"})]})]})}function E3({trigger:e,duration:t=3e3,particleCount:r=50,onComplete:n}){const[a,i]=j.useState([]),[o,l]=j.useState(!1),[c,u]=j.useState({opacity:0,color:"#FFD700"}),[d,f]=j.useState(!1),h=["#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE","#FF1493","#00FF7F","#FF4500","#8A2BE2","#DC143C","#00CED1","#FFB6C1","#98FB98","#F0E68C","#DDA0DD"],p=g=>{const m=window.innerWidth,x=window.innerHeight,v=Math.floor(Math.random()*5);let b;switch(v){case 0:b={x:Math.random()*m,y:-50-Math.random()*100,vx:(Math.random()-.5)*4,vy:Math.random()*6+4};break;case 1:b={x:Math.random()*m,y:x+50+Math.random()*100,vx:(Math.random()-.5)*4,vy:-(Math.random()*6+4)};break;case 2:b={x:-50-Math.random()*100,y:Math.random()*x,vx:Math.random()*6+4,vy:(Math.random()-.5)*4};break;case 3:b={x:m+50+Math.random()*100,y:Math.random()*x,vx:-(Math.random()*6+4),vy:(Math.random()-.5)*4};break;case 4:const y=m*(.3+Math.random()*.4),S=x*(.3+Math.random()*.4),w=Math.random()*Math.PI*2,N=Math.random()*8+6;b={x:y,y:S,vx:Math.cos(w)*N,vy:Math.sin(w)*N};break;default:b={x:0,y:0,vx:0,vy:0}}return{id:g,x:b.x,y:b.y,rotation:Math.random()*360,color:h[Math.floor(Math.random()*h.length)],size:Math.random()*12+8,velocityX:b.vx,velocityY:b.vy,rotationSpeed:(Math.random()-.5)*20}};return j.useEffect(()=>{if(!e)return;const g=Array.from({length:r},(b,y)=>p(y));i(g),l(!0),f(!0),u({opacity:.6,color:"#FFD700"}),setTimeout(()=>u({opacity:.3,color:"#FF6B6B"}),80),setTimeout(()=>u({opacity:.1,color:"#4ECDC4"}),160),setTimeout(()=>u({opacity:0,color:"#FFD700"}),300),setTimeout(()=>f(!1),1500);let m,x=null;const v=b=>{if(x||(x=b),b-x>=t){l(!1),i([]),f(!1),u({opacity:0,color:"#FFD700"}),n==null||n();return}i(S=>S.map(w=>({...w,x:w.x+w.velocityX,y:w.y+w.velocityY,rotation:w.rotation+w.rotationSpeed,velocityY:w.velocityY+.1})).filter(w=>w.y<window.innerHeight+200&&w.y>-200&&w.x<window.innerWidth+200&&w.x>-200)),m=requestAnimationFrame(v)};return m=requestAnimationFrame(v),()=>{m&&cancelAnimationFrame(m)}},[e,t,r,n]),!o||a.length===0?null:s.jsxs("div",{className:"fixed pointer-events-none z-50 overflow-hidden",style:{top:0,left:0,right:0,bottom:0,width:"100vw",height:"100vh",position:"fixed"},children:[c.opacity>0&&s.jsx("div",{className:"absolute transition-opacity duration-100",style:{top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",backgroundColor:c.color,opacity:c.opacity,mixBlendMode:"screen"}}),d&&s.jsx("div",{className:"absolute flex items-center justify-center",style:{top:0,left:0,right:0,bottom:0,width:"100%",height:"100%"},children:s.jsxs("div",{className:"text-center animate-bounce",children:[s.jsx("div",{className:"text-4xl md:text-6xl font-bold text-white mb-4 drop-shadow-2xl animate-pulse",children:" GOAL ACHIEVED! "}),s.jsx("div",{className:"text-lg md:text-2xl font-semibold text-yellow-300 drop-shadow-lg",children:"Keep up the amazing work!"})]})}),a.map(g=>{const x=Math.random()>.7?Math.random()>.5?"":"":"";return s.jsx("div",{className:"absolute flex items-center justify-center",style:{left:`${g.x}px`,top:`${g.y}px`,width:`${g.size}px`,height:`${g.size}px`,backgroundColor:x?"transparent":g.color,transform:`rotate(${g.rotation}deg)`,borderRadius:!x&&Math.random()>.3?"50%":"2px",boxShadow:`0 0 ${g.size}px ${g.color}60`,fontSize:x?`${g.size*.8}px`:"inherit",filter:"brightness(1.2) saturate(1.3)"},children:x},g.id)})]})}function si(){const[e]=cj(),t=[{href:"/",icon:ja,label:"Scan",isActive:e==="/"||e==="/scan"},{href:"/diary",icon:fy,label:"Diary",isActive:e==="/diary"},{href:"/calculator",icon:Ac,label:"Calc",isActive:e==="/calculator"},{href:"/coaching",icon:Uo,label:"Coach",isActive:e==="/coaching"},{href:"/goals",icon:Qr,label:"Goals",isActive:e==="/goals"},{href:"/recipes",icon:qn,label:"Recipes",isActive:e==="/recipes"}];return s.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md border-t border-border/50 z-40 w-full",children:s.jsx("div",{className:"max-w-md mx-auto px-2 py-2 w-full",children:s.jsx("div",{className:"flex justify-around items-center w-full",children:t.map(r=>{const n=r.icon;return s.jsx(vt,{href:r.href,children:s.jsxs("button",{className:Te("flex flex-col items-center justify-center p-2 rounded-lg transition-all duration-200 min-w-0 flex-1 max-w-none","hover:bg-primary/10 hover:scale-105",r.isActive?"text-primary bg-primary/10 scale-105":"text-black dark:text-white hover:text-foreground"),"data-testid":`nav-${r.label.toLowerCase()}`,children:[s.jsx(n,{className:"h-5 w-5 mb-1"}),s.jsx("span",{className:"text-xs font-medium",children:r.label})]})},r.href)})})})})}const T2=[{value:"all",label:"All Recipes"},{value:"keto",label:"Keto"},{value:"vegan",label:"Vegan"},{value:"vegetarian",label:"Vegetarian"},{value:"pescatarian",label:"Pescatarian"},{value:"high-protein",label:"High Protein"},{value:"high-fiber",label:"High Fiber"},{value:"low-residue",label:"Low Residue"},{value:"gluten-free",label:"Gluten Free"},{value:"dairy-free",label:"Dairy Free"},{value:"low-carb",label:"Low Carb"},{value:"paleo",label:"Paleo"},{value:"mediterranean",label:"Mediterranean"}];function Ys(){var n;const[e,t]=j.useState("all");cj();const r=()=>{const a=e&&e!=="all"?`/recipes?diet=${e}`:"/recipes";console.log("Navigating to:",a),window.location.href=a};return s.jsxs("div",{className:"mt-8 mb-24 px-4 space-y-6",children:[s.jsxs("div",{className:"relative bg-gradient-to-br from-slate-900 via-slate-800 to-slate-950 rounded-[2.5rem] p-6 shadow-[0_25px_60px_-12px_rgba(0,0,0,0.8)] border border-slate-600/30 backdrop-blur-xl",children:[s.jsx("div",{className:"absolute inset-0 rounded-[2.5rem] bg-gradient-to-br from-orange-500/5 via-transparent to-red-500/5"}),s.jsxs("div",{className:"text-center mb-6 relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-red-500 rounded-2xl shadow-2xl shadow-orange-500/25 border border-white/10",children:s.jsx(qn,{className:"h-6 w-6 text-white"})}),s.jsx("h3",{className:"text-white text-xl font-bold",children:"Tailored Recipes for You"})]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Discover healthy recipes perfectly matched to your dietary needs and preferences"})]}),s.jsxs("div",{className:"space-y-4 relative z-10",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"text-sm font-semibold text-gray-200 flex items-center gap-2",children:[s.jsx(mj,{className:"h-4 w-4 text-orange-400"}),"Choose Your Dietary Preference:"]}),s.jsxs(ga,{value:e,onValueChange:t,children:[s.jsx(Bn,{className:"bg-slate-800/80 border-slate-600/50 text-white backdrop-blur-xl hover:bg-slate-700/80 transition-all duration-300","data-testid":"select-bottom-dietary-filter",children:s.jsx(ya,{placeholder:"Select dietary requirements"})}),s.jsx(Wn,{className:"bg-slate-800 border-slate-600 text-white",children:T2.map(a=>s.jsx(Le,{value:a.value,className:"hover:bg-slate-700 focus:bg-slate-700","data-testid":`option-bottom-diet-${a.value||"all"}`,children:a.label},a.value))})]})]}),s.jsxs("button",{onClick:r,className:"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white py-4 px-6 rounded-2xl font-semibold transition-all duration-300 shadow-2xl hover:scale-[1.02] hover:shadow-orange-500/40 border border-white/10 backdrop-blur-xl flex items-center justify-center space-x-3","data-testid":"button-view-tailored-recipes",type:"button",children:[s.jsx(qn,{className:"h-5 w-5"}),s.jsx("span",{children:e&&e!=="all"?`View ${(n=T2.find(a=>a.value===e))==null?void 0:n.label} Recipes`:"Browse All Recipes"}),s.jsx(HV,{className:"h-5 w-5"})]}),e&&e!=="all"&&s.jsxs("div",{className:"text-xs text-orange-200 bg-gradient-to-r from-orange-600/20 to-red-600/20 rounded-2xl p-3 border border-orange-500/30 backdrop-blur-xl",children:[s.jsx("strong",{children:"Perfect match!"})," We'll show you ",e.replace("-"," ")," recipes tailored to your dietary needs."]})]})]}),s.jsxs(me,{className:"bg-muted/30 border-dashed",children:[s.jsx(Se,{className:"pb-3",children:s.jsxs(Ce,{className:"flex items-center gap-2 text-sm font-medium text-black dark:text-white",children:[s.jsx(fj,{className:"h-4 w-4"}),"Need Help?"]})}),s.jsx(ye,{className:"pt-0",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[s.jsx(vt,{href:"/help",children:s.jsxs(he,{variant:"ghost",size:"sm",className:"w-full h-auto p-3 flex flex-col items-center gap-2 hover:bg-background","data-testid":"button-help-guide",children:[s.jsx(qD,{className:"h-5 w-5"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium text-xs",children:"User Guide"}),s.jsx("div",{className:"text-xs text-black dark:text-white",children:"How to use PlateMate"})]})]})}),s.jsxs(he,{variant:"ghost",size:"sm",className:"w-full h-auto p-3 flex flex-col items-center gap-2 hover:bg-background",onClick:()=>window.open("mailto:support@platemate.app","_blank"),"data-testid":"button-contact-support",children:[s.jsx(JV,{className:"h-5 w-5"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium text-xs",children:"Contact Support"}),s.jsx("div",{className:"text-xs text-black dark:text-white",children:"Get personalized help"})]})]}),s.jsx(vt,{href:"/injection-advice",children:s.jsxs(he,{variant:"ghost",size:"sm",className:"w-full h-auto p-3 flex flex-col items-center gap-2 bg-slate-800/80 hover:bg-slate-700/90 border border-slate-600/50 backdrop-blur-xl rounded-2xl transition-all duration-300 hover:scale-[1.02]","data-testid":"button-medication-help",children:[s.jsx(hj,{className:"h-5 w-5 text-blue-400"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium text-xs text-white",children:"Medication Guide"}),s.jsx("div",{className:"text-xs text-blue-200",children:"Weight loss injections"})]})]})})]})})]})]})}function M2(){const{toast:e}=Ir(),t=En(),[r,n]=j.useState("camera"),[a,i]=j.useState(null),[o,l]=j.useState(""),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[h,p]=j.useState(""),[g,m]=j.useState(!1),[x,v]=j.useState(""),[b,y]=j.useState(!1),[S,w]=j.useState("breakfast"),[N,k]=j.useState(!1);It({queryKey:["/api/nutrition-goals"],retry:!1}),It({queryKey:["/api/diary"],retry:!1}),j.useEffect(()=>{(()=>{const E="SpeechRecognition"in window||"webkitSpeechRecognition"in window;f(E)})()},[]);const P=()=>{_t.playScan(),n("processing")},C=I=>{_t.playSuccess(),i(I),n("results")},M=I=>{_t.playError(),l(I),n("error")},A=()=>{n("camera"),i(null),l("")},_=()=>{n("camera"),i(null)},R=async()=>{if(!d){e({title:"Speech Not Supported",description:"Speech recognition is not supported in this browser",variant:"destructive"});return}if(c){u(!1);return}try{const I=new(window.SpeechRecognition||window.webkitSpeechRecognition);I.continuous=!1,I.interimResults=!1,I.lang="en-US",I.onstart=()=>{u(!0),e({title:"Listening...",description:"Say your food item and quantity (e.g., '100g salmon')"})},I.onresult=E=>{const W=E.results[0][0].transcript;p(W),m(!0),e({title:"Voice captured!",description:`Heard: "${W}"`})},I.onerror=E=>{console.error("Speech recognition error:",E.error),e({title:"Speech Error",description:"Could not recognize speech. Please try again.",variant:"destructive"}),u(!1)},I.onend=()=>{u(!1)},I.start()}catch{e({title:"Speech Error",description:"Failed to start speech recognition",variant:"destructive"}),u(!1)}},L=()=>{h.trim()&&$.mutate({foodDescription:h.trim(),mealType:S})},D=()=>{x.trim()&&$.mutate({foodDescription:x.trim(),mealType:S})},$=Jt({mutationFn:async({foodDescription:I,mealType:E})=>{const K=await(await $t("POST","/api/analyze-text",{foodDescription:I})).json(),Q=new Date;return await(await $t("POST","/api/diary",{analysisId:K.id,mealType:E,mealDate:Q.toISOString(),notes:`Added via text input: "${I}"`})).json()},onSuccess:()=>{e({title:"Meal Added!",description:"Your meal has been added to your diary."}),t.invalidateQueries({queryKey:["/api/diary"]}),m(!1),y(!1),p(""),v("")},onError:I=>{e({title:"Error",description:"Failed to add meal from voice. Please try again.",variant:"destructive"}),console.error("Error adding voice meal:",I)}});return s.jsxs("div",{className:"bg-background text-foreground min-h-screen",children:[s.jsx(yj,{}),r==="camera"&&s.jsxs("div",{className:"max-w-md mx-auto px-4 mb-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("button",{onClick:R,disabled:!d,className:`py-3 px-4 rounded-xl font-medium flex items-center justify-center space-x-2 transition-all duration-200 ${c?"bg-red-500 text-white":d?"bg-slate-700 text-white hover:bg-slate-600":"bg-gray-400 text-gray-600 cursor-not-allowed"}`,"data-testid":"button-add-voice",children:[c?s.jsx(hu,{className:"h-4 w-4"}):s.jsx(Tr,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:c?"Listening...":"Voice Add"})]}),s.jsxs("button",{onClick:()=>y(!0),className:"py-3 px-4 rounded-xl font-medium flex items-center justify-center space-x-2 transition-all duration-200 bg-blue-600 text-white hover:bg-blue-500","data-testid":"button-add-type",children:[s.jsx(an,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Type"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs(vt,{href:"/diary?tab=weight",className:"py-3 px-4 rounded-xl font-medium flex items-center justify-center space-x-2 transition-all duration-200 bg-orange-500 text-white hover:bg-orange-600 hover:scale-[1.02] no-underline","data-testid":"button-weigh-in",children:[s.jsx(Tc,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Weigh In"})]}),s.jsx(vt,{href:"/advice",children:s.jsxs("button",{className:"w-full vibrant-button hover:scale-[1.02] py-3 px-4 rounded-xl font-medium flex items-center justify-center space-x-2 text-white","data-testid":"button-diet-advice",children:[s.jsx(Ds,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"AI Advice"})]})})]})]}),(r==="processing"||r==="results"||r==="error")&&s.jsx("div",{className:"max-w-md mx-auto px-4 py-2 mb-4",children:s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx(vt,{href:"/diary",children:s.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors","data-testid":"quick-diary",children:[s.jsx(fy,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Diary"})]})}),s.jsx(vt,{href:"/advice",children:s.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-lg hover:bg-purple-200 dark:hover:bg-purple-900/50 transition-colors","data-testid":"quick-advice",children:[s.jsx(Ds,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Advice"})]})})]})}),s.jsxs("div",{className:"max-w-md mx-auto",children:[r==="camera"&&s.jsx(JD,{onAnalysisStart:P,onAnalysisSuccess:C,onAnalysisError:M}),r==="processing"&&s.jsx(eI,{}),r==="results"&&a&&s.jsx(oI,{data:a,onScanAnother:_}),r==="error"&&s.jsx(lI,{message:o,onRetry:A})]}),r==="camera"&&s.jsx("div",{className:"max-w-md mx-auto",children:s.jsx(O3,{})}),g&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-card rounded-2xl p-6 w-full max-w-md shadow-2xl border border-border/20",children:[s.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(Tr,{className:"h-6 w-6 text-primary"})}),"Add Voice Meal"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 rounded-xl p-4 border border-blue-200/30 dark:border-blue-700/30",children:[s.jsx("label",{className:"block text-sm font-semibold mb-3 text-blue-700 dark:text-blue-300",children:"What you said:"}),s.jsx("div",{className:"bg-gradient-to-r from-white to-blue-50 dark:from-gray-900 dark:to-blue-950/50 p-6 rounded-xl border-3 border-blue-300 dark:border-blue-600 shadow-lg",children:s.jsxs("p",{className:"text-2xl font-black text-blue-900 dark:text-blue-100 leading-relaxed text-center tracking-wide",children:['"',h,'"']})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-3 text-gray-700 dark:text-gray-300",children:"Meal Type"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:["breakfast","lunch","dinner","snack"].map(I=>s.jsx("button",{onClick:()=>w(I),className:`py-3 px-4 rounded-xl text-sm font-bold transition-all duration-200 ${S===I?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg transform scale-105 border-2 border-green-400":"bg-gradient-to-r from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-600 text-gray-700 dark:text-gray-200 hover:from-gray-200 hover:to-gray-300 dark:hover:from-gray-600 dark:hover:to-gray-500 border-2 border-transparent hover:border-gray-300 dark:hover:border-gray-500"}`,"data-testid":`button-voice-meal-${I}`,children:I.charAt(0).toUpperCase()+I.slice(1)},I))})]})]}),s.jsxs("div",{className:"flex space-x-4 mt-6",children:[s.jsx("button",{onClick:()=>m(!1),disabled:$.isPending,className:"flex-1 py-3 px-6 border-2 border-gray-300 dark:border-gray-600 rounded-xl font-bold text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200 disabled:opacity-50","data-testid":"button-cancel-voice-meal",children:"Cancel"}),s.jsx("button",{onClick:L,disabled:$.isPending,className:"flex-1 py-3 px-6 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl font-bold hover:from-green-600 hover:to-emerald-600 disabled:opacity-50 transition-all duration-200 shadow-lg","data-testid":"button-confirm-voice-meal",children:$.isPending?"Adding...":"Add Meal"})]})]})}),b&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-card rounded-2xl p-6 w-full max-w-md shadow-2xl border border-border/20",children:[s.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(GD,{className:"h-6 w-6 text-primary"})}),"Add Text Meal"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-3 text-gray-700 dark:text-gray-300",children:"Describe your meal:"}),s.jsx("textarea",{value:x,onChange:I=>v(I.target.value),placeholder:"e.g., 200g grilled chicken breast with rice",className:"w-full p-4 border rounded-xl resize-none h-24 text-sm focus:ring-2 focus:ring-primary focus:border-primary","data-testid":"textarea-text-meal"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-3 text-gray-700 dark:text-gray-300",children:"Meal Type"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:["breakfast","lunch","dinner","snack"].map(I=>s.jsx("button",{onClick:()=>w(I),className:`py-3 px-4 rounded-xl text-sm font-bold transition-all duration-200 ${S===I?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg transform scale-105 border-2 border-green-400":"bg-gradient-to-r from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-600 text-gray-700 dark:text-gray-200 hover:from-gray-200 hover:to-gray-300 dark:hover:from-gray-600 dark:hover:to-gray-500 border-2 border-transparent hover:border-gray-300 dark:hover:border-gray-500"}`,"data-testid":`button-text-meal-${I}`,children:I.charAt(0).toUpperCase()+I.slice(1)},I))})]})]}),s.jsxs("div",{className:"flex space-x-4 mt-6",children:[s.jsx("button",{onClick:()=>y(!1),disabled:$.isPending,className:"flex-1 py-3 px-6 border-2 border-gray-300 dark:border-gray-600 rounded-xl font-bold text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200 disabled:opacity-50","data-testid":"button-cancel-text-meal",children:"Cancel"}),s.jsx("button",{onClick:D,disabled:$.isPending||!x.trim(),className:"flex-1 py-3 px-6 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl font-bold hover:from-green-600 hover:to-emerald-600 disabled:opacity-50 transition-all duration-200 shadow-lg","data-testid":"button-confirm-text-meal",children:$.isPending?"Adding...":"Add Meal"})]})]})}),s.jsx(si,{}),s.jsx(Ys,{}),N&&s.jsx(E3,{trigger:N,duration:5e3,onComplete:()=>k(!1)})]})}const GG=my("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function or({className:e,variant:t,...r}){return s.jsx("div",{className:Te(GG({variant:t}),e),...r})}function KG(){const{toast:e}=Ir(),t=j.useRef(null),[r,n]=j.useState(null),[a,i]=j.useState({camera:!1,photos:!1,checked:!1}),[o,l]=j.useState(null),[c,u]=j.useState(!1),[d,f]=j.useState(!1),[h,p]=j.useState([]),[g,m]=j.useState(!1);j.useEffect(()=>((async()=>{try{const P=await ZD.getInfo();n(P),m(Ht.isNativePlatform()),await x();const C=await Lt.getAvailableCameras();p(C)}catch(P){console.error("Failed to initialize camera:",P),e({title:"Initialization Failed",description:"Could not initialize camera functionality",variant:"destructive"})}})(),()=>{d&&(Lt.stopCamera(),f(!1))}),[e,d]);const x=async()=>{try{const k=await Lt.checkPermissions();i({camera:k.camera,photos:k.camera,checked:!0})}catch(k){console.error("Permission check failed:",k),i({camera:!1,photos:!1,checked:!0})}},v=async()=>{u(!0);try{const k=await Lt.takePhoto({quality:90,allowEditing:!1,resultType:Mc.Uri,source:La.Camera});l(k),e({title:"Photo Captured! ",description:`Successfully captured photo using ${g?"native":"web"} camera`})}catch(k){console.error("Failed to take photo:",k),e({title:"Camera Error",description:`Failed to capture photo: ${k}`,variant:"destructive"})}finally{u(!1)}},b=async()=>{u(!0);try{const k=await Lt.selectFromGallery({quality:90,allowEditing:!1});l(k),e({title:"Photo Selected! ",description:`Successfully selected photo from ${g?"gallery":"files"}`})}catch(k){console.error("Failed to select photo:",k),e({title:"Gallery Error",description:`Failed to select photo: ${k}`,variant:"destructive"})}finally{u(!1)}},y=async()=>{if(d){Lt.stopCamera(),f(!1);return}if(!t.current){e({title:"Video Error",description:"Video element not available",variant:"destructive"});return}try{u(!0),await Lt.startCamera(t.current),f(!0),e({title:"Live Preview Started! ",description:"Camera stream is now active"})}catch(k){console.error("Failed to start camera:",k),e({title:"Camera Error",description:`Failed to start camera: ${k}`,variant:"destructive"})}finally{u(!1)}},S=async()=>{if(!d||!t.current){e({title:"Camera Error",description:"Start live preview first to switch cameras",variant:"destructive"});return}try{u(!0),await Lt.switchCamera(t.current),e({title:"Camera Switched! ",description:"Successfully switched to the next available camera"})}catch(k){console.error("Failed to switch camera:",k),e({title:"Switch Error",description:`Failed to switch camera: ${k}`,variant:"destructive"})}finally{u(!1)}},w=async()=>{if(!d||!t.current){e({title:"Camera Error",description:"Start live preview first to capture from stream",variant:"destructive"});return}try{u(!0);const k=await Lt.capturePhotoFromStream(t.current),P=new FileReader;P.onload=()=>{const C=P.result;l({webPath:C,format:"jpeg"})},P.readAsDataURL(k),e({title:"Stream Captured! ",description:"Successfully captured photo from live stream"})}catch(k){console.error("Failed to capture from stream:",k),e({title:"Capture Error",description:`Failed to capture from stream: ${k}`,variant:"destructive"})}finally{u(!1)}},N=()=>{if(!(o!=null&&o.webPath))return;const k=document.createElement("a");k.href=o.webPath,k.download=`platemate-photo-${Date.now()}.jpg`,k.click(),e({title:"Photo Downloaded! ",description:"Photo has been saved to your downloads"})};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 dark:from-slate-900 dark:via-blue-900 dark:to-indigo-900",children:[s.jsx(yj,{}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400 bg-clip-text text-transparent",children:"Camera Test"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Test Capacitor Camera API functionality"})]}),s.jsxs(me,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-xl border-white/20 shadow-xl",children:[s.jsx(Se,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(Ec,{className:"h-5 w-5"}),"Device Information"]})}),s.jsx(ye,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Platform:"}),s.jsxs(or,{variant:g?"default":"secondary",className:"flex items-center gap-1",children:[g?s.jsx(o7,{className:"h-3 w-3"}):s.jsx(t7,{className:"h-3 w-3"}),(r==null?void 0:r.platform)||"Unknown"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Model:"}),s.jsx("span",{className:"text-sm",children:(r==null?void 0:r.model)||"Unknown"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"OS:"}),s.jsxs("span",{className:"text-sm",children:[r==null?void 0:r.operatingSystem," ",r==null?void 0:r.osVersion]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Camera Permission:"}),s.jsxs(or,{variant:a.camera?"default":"destructive",className:"flex items-center gap-1",children:[a.camera?s.jsx(vn,{className:"h-3 w-3"}):s.jsx($l,{className:"h-3 w-3"}),a.camera?"Granted":"Denied"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Available Cameras:"}),s.jsx("span",{className:"text-sm",children:h.length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Secure Context:"}),s.jsxs(or,{variant:Lt.isSecureContext()?"default":"destructive",className:"flex items-center gap-1",children:[Lt.isSecureContext()?s.jsx(vn,{className:"h-3 w-3"}):s.jsx($l,{className:"h-3 w-3"}),Lt.isSecureContext()?"Yes":"No"]})]})]})]})})]}),s.jsxs(me,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-xl border-white/20 shadow-xl",children:[s.jsx(Se,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(ja,{className:"h-5 w-5"}),"Camera Controls"]})}),s.jsxs(ye,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(he,{onClick:v,disabled:c,className:"h-12 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-semibold","data-testid":"button-take-photo",children:[s.jsx(ja,{className:"mr-2 h-4 w-4"}),c?"Taking Photo...":"Take Photo"]}),s.jsxs(he,{onClick:b,disabled:c,variant:"outline",className:"h-12 border-2 border-purple-200 dark:border-purple-700 hover:bg-purple-50 dark:hover:bg-purple-900/20","data-testid":"button-select-gallery",children:[s.jsx(n2,{className:"mr-2 h-4 w-4"}),c?"Selecting...":"Select from Gallery"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs(he,{onClick:y,disabled:c,variant:d?"destructive":"default",className:"h-10","data-testid":"button-live-preview",children:[d?s.jsx(QD,{className:"mr-2 h-4 w-4"}):s.jsx(hb,{className:"mr-2 h-4 w-4"}),d?"Stop Preview":"Live Preview"]}),s.jsxs(he,{onClick:S,disabled:c||!d,variant:"outline",className:"h-10","data-testid":"button-switch-camera",children:[s.jsx(n7,{className:"mr-2 h-4 w-4"}),"Switch Camera"]}),s.jsxs(he,{onClick:w,disabled:c||!d,variant:"outline",className:"h-10","data-testid":"button-capture-stream",children:[s.jsx(ja,{className:"mr-2 h-4 w-4"}),"Capture Stream"]})]}),s.jsxs(he,{onClick:x,disabled:c,variant:"ghost",className:"w-full h-10","data-testid":"button-refresh-permissions",children:[s.jsx(xs,{className:"mr-2 h-4 w-4"}),"Refresh Permissions"]})]})]}),d&&s.jsxs(me,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-xl border-white/20 shadow-xl",children:[s.jsx(Se,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(hb,{className:"h-5 w-5"}),"Live Preview"]})}),s.jsx(ye,{children:s.jsxs("div",{className:"relative rounded-xl overflow-hidden bg-black",children:[s.jsx("video",{ref:t,className:"w-full h-64 object-cover",playsInline:!0,muted:!0,"data-testid":"video-preview"}),c&&s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"})})]})})]}),o&&s.jsxs(me,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-xl border-white/20 shadow-xl",children:[s.jsx(Se,{children:s.jsxs(Ce,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(n2,{className:"h-5 w-5"}),"Captured Photo"]}),s.jsxs(he,{onClick:N,variant:"outline",size:"sm","data-testid":"button-download-photo",children:[s.jsx(VD,{className:"mr-2 h-4 w-4"}),"Download"]})]})}),s.jsxs(ye,{children:[s.jsx("div",{className:"rounded-xl overflow-hidden bg-gray-100 dark:bg-gray-800",children:s.jsx("img",{src:o.webPath,alt:"Captured",className:"w-full h-auto max-h-96 object-contain","data-testid":"img-captured-photo"})}),s.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Format:"})," ",o.format]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Path:"})," ",o.webPath?"Available":"Not available"]})]})]})]})]})]})}var Lj="Progress",zj=100,[YG,y2e]=Xn(Lj),[QG,XG]=YG(Lj),T3=j.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=ZG,...o}=e;(a||a===0)&&!$2(a)&&console.error(JG(`${a}`,"Progress"));const l=$2(a)?a:zj;n!==null&&!D2(n,l)&&console.error(eK(`${n}`,"Progress"));const c=D2(n,l)?n:null,u=Ap(c)?i(c,l):void 0;return s.jsx(QG,{scope:r,value:c,max:l,children:s.jsx(Fe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Ap(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":D3(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});T3.displayName=Lj;var M3="ProgressIndicator",$3=j.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=XG(M3,r);return s.jsx(Fe.div,{"data-state":D3(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});$3.displayName=M3;function ZG(e,t){return`${Math.round(e/t*100)}%`}function D3(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Ap(e){return typeof e=="number"}function $2(e){return Ap(e)&&!isNaN(e)&&e>0}function D2(e,t){return Ap(e)&&!isNaN(e)&&e<=t&&e>=0}function JG(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${zj}\`.`}function eK(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${zj} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var I3=T3,tK=$3;const As=j.forwardRef(({className:e,value:t,...r},n)=>s.jsx(I3,{ref:n,className:Te("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(tK,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));As.displayName=I3.displayName;var R3=["PageUp","PageDown"],F3=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],L3={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},vu="Slider",[Cb,rK,nK]=Nj(vu),[z3,v2e]=Xn(vu,[nK]),[aK,_y]=z3(vu),B3=j.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:p=!1,form:g,...m}=e,x=j.useRef(new Set),v=j.useRef(0),y=o==="horizontal"?iK:sK,[S=[],w]=Di({prop:d,defaultProp:u,onChange:A=>{var R;(R=[...x.current][v.current])==null||R.focus(),f(A)}}),N=j.useRef(S);function k(A){const _=dK(S,A);M(A,_)}function P(A){M(A,v.current)}function C(){const A=N.current[v.current];S[v.current]!==A&&h(S)}function M(A,_,{commit:R}={commit:!1}){const L=pK(i),D=gK(Math.round((A-n)/i)*i+n,L),$=Np(D,[n,a]);w((I=[])=>{const E=cK(I,$,_);if(mK(E,c*i)){v.current=E.indexOf($);const W=String(E)!==String(I);return W&&R&&h(E),W?E:I}else return I})}return s.jsx(aK,{scope:e.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:v,thumbs:x.current,values:S,orientation:o,form:g,children:s.jsx(Cb.Provider,{scope:e.__scopeSlider,children:s.jsx(Cb.Slot,{scope:e.__scopeSlider,children:s.jsx(y,{"aria-disabled":l,"data-disabled":l?"":void 0,...m,ref:t,onPointerDown:De(m.onPointerDown,()=>{l||(N.current=S)}),min:n,max:a,inverted:p,onSlideStart:l?void 0:k,onSlideMove:l?void 0:P,onSlideEnd:l?void 0:C,onHomeKeyDown:()=>!l&&M(n,0,{commit:!0}),onEndKeyDown:()=>!l&&M(a,S.length-1,{commit:!0}),onStepKeyDown:({event:A,direction:_})=>{if(!l){const D=R3.includes(A.key)||A.shiftKey&&F3.includes(A.key)?10:1,$=v.current,I=S[$],E=i*D*_;M(I+E,$,{commit:!0})}}})})})})});B3.displayName=vu;var[W3,U3]=z3(vu,{startEdge:"left",endEdge:"right",size:"width",direction:1}),iK=j.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=j.useState(null),p=at(t,y=>h(y)),g=j.useRef(void 0),m=py(a),x=m==="ltr",v=x&&!i||!x&&i;function b(y){const S=g.current||f.getBoundingClientRect(),w=[0,S.width],k=Bj(w,v?[r,n]:[n,r]);return g.current=S,k(y-S.left)}return s.jsx(W3,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:s.jsx(V3,{dir:m,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const S=b(y.clientX);o==null||o(S)},onSlideMove:y=>{const S=b(y.clientX);l==null||l(S)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:y=>{const w=L3[v?"from-left":"from-right"].includes(y.key);u==null||u({event:y,direction:w?-1:1})}})})}),sK=j.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=j.useRef(null),f=at(t,d),h=j.useRef(void 0),p=!a;function g(m){const x=h.current||d.current.getBoundingClientRect(),v=[0,x.height],y=Bj(v,p?[n,r]:[r,n]);return h.current=x,y(m-x.top)}return s.jsx(W3,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:s.jsx(V3,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:m=>{const x=g(m.clientY);i==null||i(x)},onSlideMove:m=>{const x=g(m.clientY);o==null||o(x)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:m=>{const v=L3[p?"from-bottom":"from-top"].includes(m.key);c==null||c({event:m,direction:v?-1:1})}})})}),V3=j.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=_y(vu,r);return s.jsx(Fe.span,{...u,ref:t,onKeyDown:De(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):R3.concat(F3).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:De(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:De(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:De(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),i(f))})})}),q3="SliderTrack",H3=j.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=_y(q3,r);return s.jsx(Fe.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});H3.displayName=q3;var _b="SliderRange",G3=j.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=_y(_b,r),i=U3(_b,r),o=j.useRef(null),l=at(t,o),c=a.values.length,u=a.values.map(h=>Y3(h,a.min,a.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return s.jsx(Fe.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:f+"%"}})});G3.displayName=_b;var Ab="SliderThumb",K3=j.forwardRef((e,t)=>{const r=rK(e.__scopeSlider),[n,a]=j.useState(null),i=at(t,l=>a(l)),o=j.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return s.jsx(oK,{...e,ref:i,index:o})}),oK=j.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...i}=e,o=_y(Ab,r),l=U3(Ab,r),[c,u]=j.useState(null),d=at(t,b=>u(b)),f=c?o.form||!!c.closest("form"):!0,h=Tj(c),p=o.values[n],g=p===void 0?0:Y3(p,o.min,o.max),m=uK(n,o.values.length),x=h==null?void 0:h[l.size],v=x?fK(x,g,l.direction):0;return j.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${g}% + ${v}px)`},children:[s.jsx(Cb.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(Fe.span,{role:"slider","aria-label":e["aria-label"]||m,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:p===void 0?{display:"none"}:e.style,onFocus:De(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&s.jsx(lK,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},n)]})});K3.displayName=Ab;var lK=e=>{const{value:t,...r}=e,n=j.useRef(null),a=Ij(t);return j.useEffect(()=>{const i=n.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(a!==t&&c){const u=new Event("input",{bubbles:!0});c.call(i,t),i.dispatchEvent(u)}},[a,t]),s.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:t})};function cK(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,i)=>a-i)}function Y3(e,t,r){const i=100/(r-t)*(e-t);return Np(i,[0,100])}function uK(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function dK(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function fK(e,t,r){const n=e/2,i=Bj([0,50],[0,n]);return(n-i(t)*r)*r}function hK(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function mK(e,t){if(t>0){const r=hK(e);return Math.min(...r)>=t}return!0}function Bj(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function pK(e){return(String(e).split(".")[1]||"").length}function gK(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var Q3=B3,yK=H3,vK=G3,xK=K3;const X3=j.forwardRef(({className:e,...t},r)=>s.jsxs(Q3,{ref:r,className:Te("relative flex w-full touch-none select-none items-center",e),...t,children:[s.jsx(yK,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(vK,{className:"absolute h-full bg-primary"})}),s.jsx(xK,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));X3.displayName=Q3.displayName;function bK(){const{toast:e}=Ir(),t=j.useRef(null),r=j.useRef(),[n,a]=j.useState({isRecording:!1,isPaused:!1,duration:0,volume:0}),[i,o]=j.useState({isListening:!1,transcript:"",confidence:0,language:"en-US"}),[l,c]=j.useState([]),[u,d]=j.useState(null),[f,h]=j.useState(!1),[p,g]=j.useState(0),[m,x]=j.useState([50]),[v,b]=j.useState({microphone:!1,checked:!1}),[y,S]=j.useState({mediaSupported:!1,mediaRecorderSupported:!1,speechRecognitionSupported:!1,secureContext:!1}),[w,N]=j.useState(!1);j.useEffect(()=>((async()=>{S({mediaSupported:Lt.isMediaSupported(),mediaRecorderSupported:Lt.checkMediaRecorderSupport(),speechRecognitionSupported:"SpeechRecognition"in window||"webkitSpeechRecognition"in window,secureContext:Lt.isSecureContext()}),await k()})(),()=>{n.isRecording&&C(),i.isListening&&R(),r.current&&cancelAnimationFrame(r.current)}),[]),j.useEffect(()=>{const D=t.current;if(!D)return;const $=()=>{g(D.currentTime)},I=()=>{h(!1),g(0)};return D.addEventListener("timeupdate",$),D.addEventListener("ended",I),()=>{D.removeEventListener("timeupdate",$),D.removeEventListener("ended",I)}},[u]),j.useEffect(()=>{t.current&&(t.current.volume=m[0]/100)},[m]);const k=async()=>{try{const D=await Lt.checkPermissions();b({microphone:D.microphone,checked:!0})}catch(D){console.error("Permission check failed:",D),b({microphone:!1,checked:!0})}},P=async()=>{if(!y.mediaSupported){e({title:"Not Supported",description:"Microphone recording is not supported in this browser",variant:"destructive"});return}try{N(!0),await Lt.startMicrophoneRecording(),await Lt.startAudioRecording(),a(I=>({...I,isRecording:!0,duration:0}));const D=Date.now(),$=()=>{if(n.isRecording){const I=(Date.now()-D)/1e3;a(E=>({...E,duration:I,volume:Math.random()*100})),r.current=requestAnimationFrame($)}};$(),e({title:"Recording Started! ",description:"Microphone is now recording audio"})}catch(D){console.error("Failed to start recording:",D),e({title:"Recording Error",description:`Failed to start recording: ${D}`,variant:"destructive"})}finally{N(!1)}},C=async()=>{try{N(!0),r.current&&cancelAnimationFrame(r.current);const D=await Lt.stopAudioRecording();Lt.stopMicrophone();const $={blob:D,url:URL.createObjectURL(D),duration:n.duration,timestamp:new Date};c(I=>[$,...I]),d($),a(I=>({...I,isRecording:!1,isPaused:!1,duration:0,volume:0})),e({title:"Recording Saved! ",description:`Recorded ${$.duration.toFixed(1)} seconds of audio`})}catch(D){console.error("Failed to stop recording:",D),e({title:"Stop Recording Error",description:`Failed to stop recording: ${D}`,variant:"destructive"})}finally{N(!1)}},M=D=>{t.current&&(f&&u===D?(t.current.pause(),h(!1)):(d(D),t.current.src=D.url,t.current.play(),h(!0)))},A=(D,$)=>{const I=document.createElement("a");I.href=D.url,I.download=`platemate-recording-${$+1}.webm`,I.click(),e({title:"Recording Downloaded! ",description:"Audio file has been saved to your downloads"})},_=()=>{if(!y.speechRecognitionSupported){e({title:"Not Supported",description:"Speech recognition is not supported in this browser",variant:"destructive"});return}if(window.currentRecognition){try{window.currentRecognition.abort()}catch{}window.currentRecognition=null}try{const D=window.SpeechRecognition||window.webkitSpeechRecognition,$=new D;$.continuous=!0,$.interimResults=!0,$.lang=i.language,$.maxAlternatives=1,$.onstart=()=>{console.log(" Voice recognition started"),o(I=>({...I,isListening:!0,transcript:""})),e({title:"Listening... ",description:"Speak now - click stop when done"})},$.onresult=I=>{console.log(" Voice recognition got result");let E="",W="";for(let K=I.resultIndex;K<I.results.length;K++){const Q=I.results[K][0].transcript;I.results[K].isFinal?E+=Q:W+=Q}o(K=>{var Q,X;return{...K,transcript:K.transcript+E+W,confidence:((X=(Q=I.results[I.results.length-1])==null?void 0:Q[0])==null?void 0:X.confidence)||0}}),E.trim()&&e({title:"Got it! ",description:`Heard: "${E.trim()}"`})},$.onerror=I=>{console.error("Speech recognition error:",I.error),o(E=>({...E,isListening:!1})),window.currentRecognition=null,I.error!=="aborted"&&I.error!=="no-speech"&&e({title:"Speech Error",description:`Error: ${I.error}`,variant:"destructive"})},$.onend=()=>{console.log(" Voice recognition ended"),o(I=>({...I,isListening:!1})),window.currentRecognition=null},$.start(),window.currentRecognition=$}catch(D){console.error("Failed to start voice input:",D),o($=>({...$,isListening:!1})),e({title:"Voice Input Error",description:"Failed to start voice input",variant:"destructive"})}},R=()=>{console.log(" Stopping voice input"),o($=>({...$,isListening:!1}));const D=window.currentRecognition;if(D){try{D.stop(),console.log(" Recognition.stop() called")}catch($){console.warn("Error stopping recognition:",$);try{D.abort()}catch(I){console.warn("Error aborting recognition:",I)}}window.currentRecognition=null}e({title:"Voice Stopped ",description:"Speech recognition has been stopped"})},L=D=>{const $=Math.floor(D/60),I=Math.floor(D%60);return`${$}:${I.toString().padStart(2,"0")}`};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-rose-100 dark:from-purple-900 dark:via-pink-900 dark:to-rose-900",children:[s.jsx(yj,{}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 dark:from-purple-400 dark:to-pink-400 bg-clip-text text-transparent",children:"Voice & Recording Test"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Test microphone recording and voice input functionality"})]}),s.jsxs(me,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-xl border-white/20 shadow-xl",children:[s.jsx(Se,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(Ec,{className:"h-5 w-5"}),"Device Capabilities"]})}),s.jsxs(ye,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Media API Support:"}),s.jsxs(or,{variant:y.mediaSupported?"default":"destructive",className:"flex items-center gap-1",children:[y.mediaSupported?s.jsx(vn,{className:"h-3 w-3"}):s.jsx($l,{className:"h-3 w-3"}),y.mediaSupported?"Supported":"Not Supported"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"MediaRecorder:"}),s.jsxs(or,{variant:y.mediaRecorderSupported?"default":"destructive",className:"flex items-center gap-1",children:[y.mediaRecorderSupported?s.jsx(vn,{className:"h-3 w-3"}):s.jsx($l,{className:"h-3 w-3"}),y.mediaRecorderSupported?"Supported":"Not Supported"]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Speech Recognition:"}),s.jsxs(or,{variant:y.speechRecognitionSupported?"default":"destructive",className:"flex items-center gap-1",children:[y.speechRecognitionSupported?s.jsx(vn,{className:"h-3 w-3"}):s.jsx($l,{className:"h-3 w-3"}),y.speechRecognitionSupported?"Supported":"Not Supported"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Microphone Permission:"}),s.jsxs(or,{variant:v.microphone?"default":"destructive",className:"flex items-center gap-1",children:[v.microphone?s.jsx(vn,{className:"h-3 w-3"}):s.jsx($l,{className:"h-3 w-3"}),v.microphone?"Granted":"Denied"]})]})]})]}),s.jsxs(he,{onClick:k,disabled:w,variant:"ghost",className:"w-full mt-4","data-testid":"button-refresh-permissions",children:[s.jsx(xs,{className:"mr-2 h-4 w-4"}),"Refresh Permissions"]})]})]}),s.jsxs(me,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-xl border-white/20 shadow-xl",children:[s.jsx(Se,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(Tr,{className:"h-5 w-5"}),"Audio Recording"]})}),s.jsxs(ye,{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-center",children:n.isRecording?s.jsx(he,{onClick:C,disabled:w,size:"lg",className:"h-20 w-20 rounded-full bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white shadow-lg animate-pulse","data-testid":"button-stop-recording",children:s.jsx(QD,{className:"h-8 w-8"})}):s.jsx(he,{onClick:P,disabled:w||!y.mediaSupported,size:"lg",className:"h-20 w-20 rounded-full bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700 text-white shadow-lg","data-testid":"button-start-recording",children:s.jsx(Tr,{className:"h-8 w-8"})})}),n.isRecording&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-mono font-bold text-red-600 dark:text-red-400",children:L(n.duration)}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Recording..."})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Volume Level"}),s.jsxs("span",{children:[Math.round(n.volume),"%"]})]}),s.jsx(As,{value:n.volume,className:"h-2"})]})]})]})]}),s.jsxs(me,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-xl border-white/20 shadow-xl",children:[s.jsx(Se,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(e7,{className:"h-5 w-5"}),"Voice Input Test"]})}),s.jsxs(ye,{className:"space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx(he,{onClick:i.isListening?R:_,disabled:!y.speechRecognitionSupported,className:`h-16 px-8 ${i.isListening?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 animate-pulse":"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700"} text-white font-semibold`,"data-testid":"button-voice-input",children:i.isListening?s.jsxs(s.Fragment,{children:[s.jsx(hu,{className:"mr-2 h-5 w-5"}),"Stop Listening"]}):s.jsxs(s.Fragment,{children:[s.jsx(Tr,{className:"mr-2 h-5 w-5"}),"Start Voice Input"]})})}),i.transcript&&s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-950/30 dark:to-pink-950/30 rounded-xl p-6 border border-purple-200/30 dark:border-purple-700/30",children:[s.jsx("h4",{className:"font-semibold mb-3 text-purple-700 dark:text-purple-300",children:"Transcript:"}),s.jsx("p",{className:"text-lg leading-relaxed","data-testid":"text-voice-transcript",children:i.transcript}),i.confidence>0&&s.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Confidence:"}),s.jsx(As,{value:i.confidence*100,className:"flex-1 h-2"}),s.jsxs("span",{className:"text-sm",children:[Math.round(i.confidence*100),"%"]})]})]})]})]}),l.length>0&&s.jsxs(me,{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-xl border-white/20 shadow-xl",children:[s.jsx(Se,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(GV,{className:"h-5 w-5"}),"Recordings (",l.length,")"]})}),s.jsxs(ye,{className:"space-y-4",children:[s.jsx("audio",{ref:t,style:{display:"none"}}),u&&s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gradient-to-r from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-xl",children:[s.jsx(gj,{className:"h-4 w-4"}),s.jsx(X3,{value:m,onValueChange:x,max:100,step:1,className:"flex-1","data-testid":"slider-volume"}),s.jsxs("span",{className:"text-sm w-10",children:[m[0],"%"]})]}),l.map((D,$)=>s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-700/50 rounded-xl","data-testid":`recording-item-${$}`,children:[s.jsx(he,{onClick:()=>M(D),variant:"outline",size:"sm",className:"h-10 w-10 rounded-full p-0","data-testid":`button-play-recording-${$}`,children:f&&u===D?s.jsx(r7,{className:"h-4 w-4"}):s.jsx(hb,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"font-medium",children:["Recording #",l.length-$]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:L(D.duration)})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:D.timestamp.toLocaleString()}),f&&u===D&&s.jsxs("div",{className:"mt-2",children:[s.jsx(As,{value:p/D.duration*100,className:"h-1"}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[s.jsx("span",{children:L(p)}),s.jsx("span",{children:L(D.duration)})]})]})]}),s.jsx(he,{onClick:()=>A(D,$),variant:"ghost",size:"sm","data-testid":`button-download-recording-${$}`,children:s.jsx(VD,{className:"h-4 w-4"})})]},$))]})]})]})]})}function wK(){const{isAuthenticated:e,isLoading:t}=hy();return s.jsxs("div",{className:"bg-background text-foreground min-h-screen relative overflow-hidden",children:[s.jsxs("div",{className:"fixed inset-0 pointer-events-none",children:[s.jsx("div",{className:"absolute top-10 left-10 w-20 h-20 bg-purple-200/30 rounded-full blur-xl animate-pulse"}),s.jsx("div",{className:"absolute top-1/4 right-20 w-32 h-32 bg-pink-200/20 rounded-full blur-2xl animate-bounce"}),s.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-24 h-24 bg-blue-200/25 rounded-full blur-xl animate-ping"}),s.jsx("div",{className:"absolute bottom-10 right-10 w-16 h-16 bg-yellow-200/30 rounded-full blur-lg animate-pulse delay-1000"})]}),s.jsxs("header",{className:"bg-gradient-to-r from-purple-600 via-purple-500 to-pink-600 text-white relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400/50 via-pink-400/50 to-purple-600/50 animate-pulse"}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 text-center relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4 animate-fade-in-up",children:[s.jsx("div",{className:"bg-white/20 p-3 rounded-full animate-float shadow-lg",children:s.jsx(xp,{className:"h-8 w-8 animate-spin-slow"})}),s.jsx("h1",{className:"text-4xl font-bold animate-fade-in-right",children:"PlateMate"})]}),s.jsx("p",{className:"text-xl opacity-90 mb-6 animate-fade-in-up animation-delay-300",children:"Your voice-powered AI nutrition companion"}),s.jsx("p",{className:"text-lg opacity-80 max-w-2xl mx-auto animate-fade-in-up animation-delay-600",children:"Just speak your meals aloud and watch them automatically appear in your food diary! Or snap photos for instant AI analysis. Get personalized nutrition guidance with the power of your voice."})]})]}),s.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-12",children:[s.jsxs("div",{className:"text-center mb-16 animate-fade-in-up animation-delay-900",children:[e?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200 rounded-full text-sm font-medium",children:[s.jsx(mb,{className:"h-4 w-4 mr-2"})," Signed in and ready!"]}),s.jsx(vt,{href:"/scan",children:s.jsxs(he,{size:"lg",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white px-8 py-6 text-lg font-semibold rounded-lg shadow-lg transform hover:scale-110 hover:rotate-1 transition-all duration-300 animate-pulse-glow relative overflow-hidden group","data-testid":"button-get-started",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),s.jsx(ja,{className:"h-6 w-6 mr-2 animate-bounce"}),"Start Using PlateMate"]})})]}):s.jsx("a",{href:"/api/login",children:s.jsxs(he,{size:"lg",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white px-8 py-6 text-lg font-semibold rounded-lg shadow-lg transform hover:scale-110 hover:rotate-1 transition-all duration-300 animate-pulse-glow relative overflow-hidden group","data-testid":"button-login",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"}),s.jsx(ZV,{className:"h-6 w-6 mr-2 animate-bounce"}),"Sign In to Start"]})}),s.jsx("p",{className:"text-sm text-muted-foreground mt-3 animate-fade-in animation-delay-1200",children:'Say "100g salmon" or "one apple" - your voice becomes your food diary'})]}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16",children:[s.jsxs(me,{className:"border-blue-200 dark:border-blue-800 hover:shadow-2xl hover:shadow-blue-500/25 transition-all duration-500 hover:scale-105 animate-fade-in-left animation-delay-1200 group",children:[s.jsxs(Se,{className:"text-center",children:[s.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-full w-fit mx-auto mb-4 animate-float group-hover:animate-bounce",children:s.jsx(Tr,{className:"h-8 w-8 text-blue-600 dark:text-blue-400 group-hover:animate-pulse"})}),s.jsx(Ce,{className:"text-xl group-hover:text-blue-600 transition-colors",children:"Enhanced Voice Input"})]}),s.jsx(ye,{children:s.jsx(Ye,{className:"text-center",children:"Beautiful voice capture with large, bold text display. Simply speak your meals and see them highlighted prominently before adding to your diary."})})]}),s.jsxs(me,{className:"border-purple-200 dark:border-purple-800 hover:shadow-2xl hover:shadow-purple-500/25 transition-all duration-500 hover:scale-105 hover:-rotate-1 animate-fade-in-left animation-delay-1500 group",children:[s.jsxs(Se,{className:"text-center",children:[s.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 p-3 rounded-full w-fit mx-auto mb-4 animate-float group-hover:animate-bounce",children:s.jsx(ja,{className:"h-8 w-8 text-purple-600 dark:text-purple-400 group-hover:animate-pulse"})}),s.jsx(Ce,{className:"text-xl group-hover:text-purple-600 transition-colors",children:"Smart Food Recognition"})]}),s.jsx(ye,{children:s.jsx(Ye,{className:"text-center",children:"Our advanced AI instantly identifies food items and estimates portion sizes from your photos with remarkable accuracy."})})]}),s.jsxs(me,{className:"border-pink-200 dark:border-pink-800 hover:shadow-2xl hover:shadow-pink-500/25 transition-all duration-500 hover:scale-105 animate-fade-in-up animation-delay-1800 group",children:[s.jsxs(Se,{className:"text-center",children:[s.jsx("div",{className:"bg-pink-100 dark:bg-pink-900 p-3 rounded-full w-fit mx-auto mb-4 animate-float animation-delay-500 group-hover:animate-bounce",children:s.jsx(yp,{className:"h-8 w-8 text-pink-600 dark:text-pink-400 group-hover:animate-pulse"})}),s.jsx(Ce,{className:"text-xl group-hover:text-pink-600 transition-colors",children:"Food Diary"})]}),s.jsx(ye,{children:s.jsx(Ye,{className:"text-center",children:"Keep track of all your meals with our intuitive food diary. Monitor your eating patterns and nutritional trends over time."})})]}),s.jsxs(me,{className:"border-green-200 dark:border-green-800 hover:shadow-2xl hover:shadow-green-500/25 transition-all duration-500 hover:scale-105 animate-fade-in-right animation-delay-2100 group",children:[s.jsxs(Se,{className:"text-center",children:[s.jsx("div",{className:"bg-green-100 dark:bg-green-900 p-3 rounded-full w-fit mx-auto mb-4 animate-float animation-delay-1000 group-hover:animate-bounce",children:s.jsx(Ac,{className:"h-8 w-8 text-green-600 dark:text-green-400 group-hover:animate-pulse"})}),s.jsx(Ce,{className:"text-xl group-hover:text-green-600 transition-colors",children:"Smart Calculator & Goals"})]}),s.jsx(ye,{children:s.jsx(Ye,{className:"text-center",children:"Calculate personalized daily calories and set nutrition goals based on your profile, age, and activity level."})})]}),s.jsxs(me,{className:"border-orange-200 dark:border-orange-800 hover:shadow-2xl hover:shadow-orange-500/25 transition-all duration-500 hover:scale-105 hover:rotate-1 animate-fade-in-up animation-delay-2400 group",children:[s.jsxs(Se,{className:"text-center",children:[s.jsx("div",{className:"bg-orange-100 dark:bg-orange-900 p-3 rounded-full w-fit mx-auto mb-4 animate-float animation-delay-1500 group-hover:animate-bounce",children:s.jsx(Tc,{className:"h-8 w-8 text-orange-600 dark:text-orange-400 group-hover:animate-pulse"})}),s.jsx(Ce,{className:"text-xl group-hover:text-orange-600 transition-colors",children:"Weight Tracking"})]}),s.jsx(ye,{children:s.jsx(Ye,{className:"text-center",children:"Track your weight progress with visual charts and analytics. Monitor trends over time and celebrate your achievements."})})]}),s.jsxs(me,{className:"border-red-200 dark:border-red-800 hover:shadow-2xl hover:shadow-red-500/25 transition-all duration-500 hover:scale-105 hover:rotate-1 animate-fade-in-up animation-delay-2700 group",children:[s.jsxs(Se,{className:"text-center",children:[s.jsx("div",{className:"bg-red-100 dark:bg-red-900 p-3 rounded-full w-fit mx-auto mb-4 animate-float animation-delay-2000 group-hover:animate-bounce",children:s.jsx(qn,{className:"h-8 w-8 text-red-600 dark:text-red-400 group-hover:animate-pulse"})}),s.jsx(Ce,{className:"text-xl group-hover:text-red-600 transition-colors",children:"Tailored Recipes"})]}),s.jsx(ye,{children:s.jsx(Ye,{className:"text-center",children:"AI-generated healthy recipes filtered by your dietary requirements - Keto, Vegan, High Protein, Gluten Free, and more."})})]}),s.jsxs(me,{className:"border-indigo-200 dark:border-indigo-800 hover:shadow-2xl hover:shadow-indigo-500/25 transition-all duration-500 hover:scale-105 hover:rotate-1 animate-fade-in-up animation-delay-3000 group",children:[s.jsxs(Se,{className:"text-center",children:[s.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900 p-3 rounded-full w-fit mx-auto mb-4 animate-float animation-delay-2300 group-hover:animate-bounce",children:s.jsx(bp,{className:"h-8 w-8 text-indigo-600 dark:text-indigo-400 group-hover:animate-pulse"})}),s.jsx(Ce,{className:"text-xl group-hover:text-indigo-600 transition-colors",children:"Injection Support"})]}),s.jsx(ye,{children:s.jsx(Ye,{className:"text-center",children:"Specialized guidance for people using weight loss medications like Ozempic, Wegovy, and Mounjaro."})})]})]}),s.jsxs("section",{className:"mb-16 animate-fade-in-up animation-delay-2400",children:[s.jsx("h2",{className:"text-3xl font-bold text-center mb-8 animate-fade-in-up animation-delay-2700",children:"How It Works"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"text-center animate-fade-in-left animation-delay-3000 hover:scale-105 transition-transform duration-300 group",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 dark:from-blue-900 dark:to-purple-900 p-6 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center animate-bounce hover:animate-spin group-hover:shadow-lg",children:s.jsx(Tr,{className:"h-8 w-8 text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2 group-hover:text-blue-600 transition-colors",children:"Speak Your Meal"}),s.jsx("p",{className:"text-muted-foreground",children:'Just say what you ate! "Two slices of pizza" or "100g salmon" - your voice becomes your food diary.'})]}),s.jsxs("div",{className:"text-center animate-fade-in-up animation-delay-3300 hover:scale-105 transition-transform duration-300 group",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 dark:from-purple-900 dark:to-pink-900 p-6 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center animate-bounce animation-delay-500 hover:animate-spin group-hover:shadow-lg",children:s.jsx(Uo,{className:"h-8 w-8 text-purple-600 dark:text-purple-400 group-hover:scale-110 transition-transform"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2 group-hover:text-pink-600 transition-colors",children:"Smart AI Analysis"}),s.jsx("p",{className:"text-muted-foreground",children:"Our AI understands your voice and instantly calculates calories, protein, carbs, and fat from what you said."})]}),s.jsxs("div",{className:"text-center animate-fade-in-right animation-delay-3600 hover:scale-105 transition-transform duration-300 group",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-100 to-blue-100 dark:from-green-900 dark:to-blue-900 p-6 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center animate-bounce animation-delay-1000 hover:animate-spin group-hover:shadow-lg",children:s.jsx(yp,{className:"h-8 w-8 text-green-600 dark:text-green-400 group-hover:scale-110 transition-transform"})}),s.jsx("h3",{className:"text-xl font-semibold mb-2 group-hover:text-green-600 transition-colors",children:"Auto-Track & Improve"}),s.jsx("p",{className:"text-muted-foreground",children:"Meals are automatically saved to your diary with beautiful voice thumbnails. Track progress effortlessly."})]})]})]}),s.jsxs("section",{className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-center mb-8 animate-fade-in-up",children:"Advanced Nutrition Tools"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[s.jsxs(me,{className:"border-orange-200 dark:border-orange-800 hover:shadow-xl transition-all duration-300 group",children:[s.jsxs(Se,{className:"text-center",children:[s.jsx("div",{className:"bg-orange-100 dark:bg-orange-900 p-3 rounded-full w-fit mx-auto mb-4 group-hover:animate-bounce",children:s.jsx(Qr,{className:"h-8 w-8 text-orange-600 dark:text-orange-400"})}),s.jsx(Ce,{className:"text-lg group-hover:text-orange-600 transition-colors",children:"Smart Goals & Analytics"})]}),s.jsx(ye,{children:s.jsx(Ye,{className:"text-center text-sm",children:"Set personalized nutrition goals and track your progress with detailed analytics based on your age, activity level, and health goals."})})]}),s.jsxs(me,{className:"border-purple-200 dark:border-purple-800 hover:shadow-xl transition-all duration-300 group",children:[s.jsxs(Se,{className:"text-center",children:[s.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 p-3 rounded-full w-fit mx-auto mb-4 group-hover:animate-bounce",children:s.jsx(Qr,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})}),s.jsx(Ce,{className:"text-lg group-hover:text-purple-600 transition-colors",children:"Medication-Aware"})]}),s.jsx(ye,{children:s.jsx(Ye,{className:"text-center text-sm",children:"Specialized calorie calculations that account for appetite suppression from GLP-1 medications."})})]}),s.jsxs(me,{className:"border-red-200 dark:border-red-800 hover:shadow-xl transition-all duration-300 group",children:[s.jsxs(Se,{className:"text-center",children:[s.jsx("div",{className:"bg-red-100 dark:bg-red-900 p-3 rounded-full w-fit mx-auto mb-4 group-hover:animate-bounce",children:s.jsx(qn,{className:"h-8 w-8 text-red-600 dark:text-red-400"})}),s.jsx(Ce,{className:"text-lg group-hover:text-red-600 transition-colors",children:"Smart Recipe Engine"})]}),s.jsx(ye,{children:s.jsx(Ye,{className:"text-center text-sm",children:"AI-powered recipe recommendations with dietary filters. Get personalized meal ideas that match your nutrition goals."})})]}),s.jsxs(me,{className:"border-blue-200 dark:border-blue-800 hover:shadow-xl transition-all duration-300 group",children:[s.jsxs(Se,{className:"text-center",children:[s.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-full w-fit mx-auto mb-4 group-hover:animate-bounce",children:s.jsx(Uo,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),s.jsx(Ce,{className:"text-lg group-hover:text-blue-600 transition-colors",children:"AI Advice"})]}),s.jsx(ye,{children:s.jsx(Ye,{className:"text-center text-sm",children:"Personalized diet recommendations based on your eating patterns, health goals, and preferences."})})]})]})]}),s.jsxs("section",{className:"bg-muted/50 rounded-lg p-8 mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Why Choose PlateMate?"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(gj,{className:"h-6 w-6 text-blue-500 mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Voice-Powered Logging"}),s.jsx("p",{className:"text-muted-foreground",children:'Speak your meals naturally - "100g salmon" or "one apple" - and watch them appear instantly in your diary.'})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(mb,{className:"h-6 w-6 text-green-500 mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Reliable & Accurate"}),s.jsx("p",{className:"text-muted-foreground",children:"Enterprise-grade AI with multiple backup systems ensures consistent results."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Ac,{className:"h-6 w-6 text-blue-500 mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Personalized Calculations"}),s.jsx("p",{className:"text-muted-foreground",children:"Get precise BMR and TDEE calculations with medication-aware adjustments for safe weight management."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Tc,{className:"h-6 w-6 text-orange-500 mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Weight Progress Tracking"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor your weight journey with beautiful charts and progress analytics. Celebrate milestones and stay motivated."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(qn,{className:"h-6 w-6 text-red-500 mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"AI Recipe Generator"}),s.jsx("p",{className:"text-muted-foreground",children:"Get personalized healthy recipes filtered by dietary requirements like Keto, Vegan, High Protein, and Gluten Free."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(bp,{className:"h-6 w-6 text-purple-500 mt-1 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Injection Medicine Support"}),s.jsx("p",{className:"text-muted-foreground",children:"Specialized guidance and safety tips for users of GLP-1 weight loss medications like Ozempic and Wegovy."})]})]})]})]}),s.jsxs("div",{className:"text-center bg-gradient-to-r from-purple-600 via-pink-600 to-purple-600 text-white rounded-lg p-8 animate-fade-in-up animation-delay-4500 relative overflow-hidden group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-400/50 via-purple-400/50 to-pink-600/50 animate-pulse opacity-0 group-hover:opacity-100 transition-opacity duration-1000"}),s.jsx("h2",{className:"text-3xl font-bold mb-4 animate-fade-in-up animation-delay-4800 relative z-10",children:"Ready to Speak Your Way to Better Nutrition?"}),s.jsx("p",{className:"text-xl opacity-90 mb-6 animate-fade-in-up animation-delay-5100 relative z-10",children:"Join users who are effortlessly tracking meals with voice input and achieving their weight goals with hands-free food logging."}),e?s.jsx(vt,{href:"/scan",children:s.jsxs(he,{size:"lg",variant:"secondary",className:"bg-white text-purple-600 hover:bg-gray-100 px-8 py-6 text-lg font-semibold rounded-lg shadow-lg transform hover:scale-110 hover:rotate-2 transition-all duration-300 animate-bounce relative z-10 group/button overflow-hidden","data-testid":"button-start-now",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent -translate-x-full group-hover/button:translate-x-full transition-transform duration-1000"}),s.jsx(Tr,{className:"h-6 w-6 mr-2 animate-pulse"}),"Start Voice Logging Now"]})}):s.jsx("a",{href:"/api/login",children:s.jsxs(he,{size:"lg",variant:"secondary",className:"bg-white text-purple-600 hover:bg-gray-100 px-8 py-6 text-lg font-semibold rounded-lg shadow-lg transform hover:scale-110 hover:rotate-2 transition-all duration-300 animate-bounce relative z-10 group/button overflow-hidden","data-testid":"button-start-now",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent -translate-x-full group-hover/button:translate-x-full transition-transform duration-1000"}),s.jsx(Tr,{className:"h-6 w-6 mr-2 animate-pulse"}),"Start Voice Logging Now"]})})]})]}),s.jsx("footer",{className:"bg-muted/30 py-8 mt-16 animate-fade-in animation-delay-5700",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4 animate-fade-in-up animation-delay-6000",children:[s.jsx(xp,{className:"h-5 w-5 text-purple-600 animate-spin-slow"}),s.jsx("span",{className:"font-semibold hover:text-purple-600 transition-colors cursor-default",children:"PlateMate"})]}),s.jsx("p",{className:"text-sm text-muted-foreground animate-fade-in animation-delay-6300",children:"Your voice-powered AI nutrition companion for effortless meal tracking."})]})})]})}function I2(){var Ne;const{toast:e}=Ir(),t=En(),{user:r,isAuthenticated:n}=hy(),[a,i]=j.useState("camera"),[o,l]=j.useState(null),[c,u]=j.useState(""),[d,f]=j.useState(null),[h,p]=j.useState(null),[g,m]=j.useState(null),[x,v]=j.useState(!1),b=j.useRef(null),[y,S]=j.useState(!1),[w,N]=j.useState(!1),[k,P]=j.useState(""),[C,M]=j.useState(!1),[A,_]=j.useState(""),[R,L]=j.useState(!1),[D,$]=j.useState("breakfast"),[I,E]=j.useState(!1),{data:W}=It({queryKey:["/api/nutrition-goals"],retry:!1}),{data:K}=It({queryKey:["/api/diary"],retry:!1});j.useEffect(()=>{(()=>{const xe="SpeechRecognition"in window||"webkitSpeechRecognition"in window;N(xe)})()},[]),j.useEffect(()=>{const G=xe=>{b.current&&!b.current.contains(xe.target)&&v(!1)};return x&&document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[x]),j.useEffect(()=>{const xe=setTimeout(()=>{if(!W||!K)return;const Ve=`platemate-confetti-${new Date().toISOString().split("T")[0]}`;if(localStorage.getItem(Ve))return;const T=K.filter(re=>re.mealDate&&new Date(re.mealDate).toDateString()===new Date().toDateString());let U=0,q=0;T.forEach(re=>{U+=100,q+=10});const oe=U>=(W.dailyCalories||2e3),le=q>=(W.dailyProtein||150);(oe||le)&&(console.log(" Goals achieved! Triggering persistent confetti celebration"),E(!0),localStorage.setItem(Ve,new Date().toISOString()))},1e3);return()=>clearTimeout(xe)},[W,K]);const Q=()=>{_t.playScan(),i("processing")},X=G=>{G.needsConfirmation?(console.log(" Low confidence detected, showing confirmation UI:",G),_t.playError(),f(G),l(G),i("confirmation"),e({title:`Low Confidence (${G.confidence}%)`,description:G.confirmationMessage||"AI analysis needs your confirmation. Please review the detected foods.",duration:5e3})):(console.log(" High confidence analysis, showing results:",G),_t.playSuccess(),l(G),i("results"))},fe=G=>{_t.playError(),u(G),i("error")},Ae=()=>{i("camera"),l(null),u(""),f(null)},ze=()=>{i("camera"),l(null),f(null)},Re=async()=>{if(!(!d||!o))try{_t.playSuccess(),e({title:"Analysis Confirmed",description:"Great! The food analysis has been saved to your diary.",duration:3e3}),f(null),i("results")}catch(G){console.error("Failed to confirm analysis:",G),e({title:"Confirmation Failed",description:"Failed to confirm the analysis. Please try again.",variant:"destructive"})}},ve=()=>{f(null),i("camera"),e({title:"Analysis Rejected",description:"You can take a new photo or try again with better lighting."})},ke=G=>{var xe;(xe=o==null?void 0:o.detectedFoods)!=null&&xe[G]&&(p(G),m({...o.detectedFoods[G]}))},J=()=>{if(h!==null&&g&&o){const G=[...o.detectedFoods];G[h]=g;const xe=G.reduce((T,U)=>T+U.calories,0),$e=G.reduce((T,U)=>T+U.protein,0),Ve=G.reduce((T,U)=>T+U.carbs,0),Xe=G.reduce((T,U)=>T+U.fat,0);l({...o,detectedFoods:G,totalCalories:xe,totalProtein:$e,totalCarbs:Ve,totalFat:Xe}),p(null),m(null),e({title:"Food Updated",description:"The food item has been updated successfully."})}},ie=()=>{p(null),m(null)},V=G=>{if(o!=null&&o.detectedFoods){const xe=o.detectedFoods.filter((U,q)=>q!==G);if(xe.length===0){e({title:"Cannot Delete",description:"You need at least one food item in the analysis.",variant:"destructive"});return}const $e=xe.reduce((U,q)=>U+q.calories,0),Ve=xe.reduce((U,q)=>U+q.protein,0),Xe=xe.reduce((U,q)=>U+q.carbs,0),T=xe.reduce((U,q)=>U+q.fat,0);l({...o,detectedFoods:xe,totalCalories:$e,totalProtein:Ve,totalCarbs:Xe,totalFat:T}),e({title:"Food Removed",description:"The food item has been removed from the analysis."})}},z=async()=>{if(!w){e({title:"Speech Not Supported",description:"Speech recognition is not supported in this browser",variant:"destructive"});return}if(y){S(!1);return}try{const G=new(window.SpeechRecognition||window.webkitSpeechRecognition);G.continuous=!1,G.interimResults=!1,G.lang="en-US",G.onstart=()=>{S(!0),e({title:"Listening...",description:"Say your food item and quantity (e.g., '100g salmon')"})},G.onresult=xe=>{const $e=xe.results[0][0].transcript;P($e),M(!0),e({title:"Voice captured!",description:`Heard: "${$e}"`})},G.onerror=xe=>{console.error("Speech recognition error:",xe.error),e({title:"Speech Error",description:"Could not recognize speech. Please try again.",variant:"destructive"}),S(!1)},G.onend=()=>{S(!1)},G.start()}catch{e({title:"Speech Error",description:"Failed to start speech recognition",variant:"destructive"}),S(!1)}},se=()=>{k.trim()&&ae.mutate({foodDescription:k.trim(),mealType:D})},H=()=>{A.trim()&&ae.mutate({foodDescription:A.trim(),mealType:D})},ae=Jt({mutationFn:async({foodDescription:G,mealType:xe})=>{const Ve=await(await $t("POST","/api/analyze-text",{foodDescription:G})).json(),Xe=new Date;return await(await $t("POST","/api/diary",{analysisId:Ve.id,mealType:xe,mealDate:Xe.toISOString(),notes:`Added via text input: "${G}"`})).json()},onSuccess:()=>{e({title:"Meal Added!",description:"Your meal has been added to your diary."}),t.invalidateQueries({queryKey:["/api/diary"]}),M(!1),L(!1),P(""),_("")},onError:G=>{e({title:"Error",description:"Failed to add meal from voice. Please try again.",variant:"destructive"}),console.error("Error adding voice meal:",G)}});return s.jsxs("div",{className:"min-h-screen text-foreground",style:{background:"linear-gradient(135deg, #8B5CF6 0%, #A855F7 100%)"},children:[s.jsxs("div",{className:"px-4 pt-8 pb-6 text-center relative",children:[s.jsx("h1",{className:"text-5xl font-bold mb-2",style:{color:"#22D3EE"},children:"PlateMate"}),s.jsx("p",{className:"text-lg text-white opacity-90",children:"Voice-powered nutrition companion"}),n&&s.jsxs("div",{className:"absolute top-8 right-4 flex items-center space-x-2",children:[s.jsx(vt,{href:"/diary",children:s.jsx("button",{className:"p-3 rounded-xl bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-all duration-200 border border-white/20","data-testid":"button-nav-history",title:"View Diary",children:s.jsx(HD,{className:"h-5 w-5 text-white"})})}),s.jsxs("div",{className:"relative",ref:b,children:[s.jsxs("button",{onClick:()=>v(!x),className:"flex items-center space-x-1 p-3 rounded-xl bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-all duration-200 border border-white/20","data-testid":"button-nav-profile",title:"Profile",children:[s.jsx(Zd,{className:"h-5 w-5 text-white"}),x?s.jsx(dj,{className:"h-3 w-3 text-white/80"}):s.jsx(vs,{className:"h-3 w-3 text-white/80"})]}),x&&s.jsxs("div",{className:"absolute top-full right-0 mt-2 bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-3 min-w-[200px] backdrop-blur-md z-50",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(Zd,{className:"h-4 w-4 text-foreground/80"}),s.jsx("span",{className:"text-sm font-medium text-foreground/90",children:(r==null?void 0:r.firstName)||(r==null?void 0:r.email)||"User"})]}),(r==null?void 0:r.email)&&(r==null?void 0:r.firstName)&&s.jsx("div",{className:"text-xs text-foreground/60 mb-3 ml-6",children:r==null?void 0:r.email}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:s.jsxs("a",{href:"/api/logout",className:"flex items-center space-x-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg p-2 transition-colors","data-testid":"button-nav-logout",children:[s.jsx(KD,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})})]})]})]})]}),a==="camera"&&s.jsx("div",{className:"max-w-md mx-auto px-6 mb-6",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("button",{onClick:z,disabled:!w,className:`py-4 px-6 rounded-2xl font-semibold flex items-center justify-center space-x-3 transition-all duration-200 ${y?"bg-red-500 text-white":w?"text-white hover:opacity-90 transform hover:scale-105":"bg-gray-400 text-gray-600 cursor-not-allowed"}`,style:{backgroundColor:y?"#EF4444":w?"#374151":"#9CA3AF"},"data-testid":"button-add-voice",children:[y?s.jsx(hu,{className:"h-5 w-5"}):s.jsx(Tr,{className:"h-5 w-5"}),s.jsx("span",{className:"text-base font-bold",children:y?"Listening...":"Voice Add"})]}),s.jsxs("button",{onClick:()=>L(!0),className:"py-4 px-6 rounded-2xl font-semibold flex items-center justify-center space-x-3 transition-all duration-200 text-white hover:opacity-90 transform hover:scale-105",style:{backgroundColor:"#3B82F6"},"data-testid":"button-add-type",children:[s.jsx(an,{className:"h-5 w-5"}),s.jsx("span",{className:"text-base font-bold",children:"Type"})]}),s.jsxs(vt,{href:"/diary?tab=weight",className:"py-4 px-6 rounded-2xl font-semibold flex items-center justify-center space-x-3 transition-all duration-200 text-white hover:opacity-90 transform hover:scale-105 no-underline",style:{backgroundColor:"#F97316"},"data-testid":"button-weigh-in",children:[s.jsx(Tc,{className:"h-5 w-5"}),s.jsx("span",{className:"text-base font-bold",children:"Weigh In"})]}),s.jsx(vt,{href:"/advice",children:s.jsxs("button",{className:"w-full py-4 px-6 rounded-2xl font-semibold flex items-center justify-center space-x-3 transition-all duration-200 text-white hover:opacity-90 transform hover:scale-105",style:{backgroundColor:"#14B8A6"},"data-testid":"button-diet-advice",children:[s.jsx(Ds,{className:"h-5 w-5"}),s.jsx("span",{className:"text-base font-bold",children:"AI Advice"})]})})]})}),(a==="processing"||a==="results"||a==="error")&&s.jsx("div",{className:"max-w-md mx-auto px-4 py-2 mb-4",children:s.jsxs("div",{className:"flex justify-center space-x-4",children:[s.jsx(vt,{href:"/diary",children:s.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors","data-testid":"quick-diary",children:[s.jsx(fy,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Diary"})]})}),s.jsx(vt,{href:"/advice",children:s.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 rounded-lg hover:bg-purple-200 dark:hover:bg-purple-900/50 transition-colors","data-testid":"quick-advice",children:[s.jsx(Ds,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Advice"})]})})]})}),s.jsxs("div",{className:"max-w-md mx-auto",children:[a==="camera"&&s.jsx(JD,{onAnalysisStart:Q,onAnalysisSuccess:X,onAnalysisError:fe}),a==="processing"&&s.jsx(eI,{}),a==="confirmation"&&d&&s.jsxs("div",{className:"bg-card rounded-3xl p-6 shadow-2xl border border-border/20",children:[s.jsx("div",{className:"mb-6 p-4 bg-orange-50 dark:bg-orange-950/30 border border-orange-200 dark:border-orange-800/50 rounded-2xl",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(as,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-orange-800 dark:text-orange-200",children:["Low Confidence Detection (",d.confidence,"%)"]}),s.jsx("p",{className:"text-sm text-orange-700 dark:text-orange-300 mt-1",children:"The AI analysis has lower confidence. Please review the detected foods and confirm if they look correct."})]})]})}),d.imageUrl&&s.jsx("div",{className:"mb-6",children:s.jsx("img",{src:d.imageUrl,alt:"Food to confirm",className:"w-full h-48 object-cover rounded-2xl border border-border/20"})}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("h4",{className:"text-lg font-semibold mb-4 flex items-center space-x-2",children:[s.jsx(Vo,{className:"h-5 w-5"}),s.jsx("span",{children:"Detected Foods"})]}),s.jsx("div",{className:"space-y-3",children:(Ne=o==null?void 0:o.detectedFoods)==null?void 0:Ne.map((G,xe)=>s.jsx("div",{className:"p-3 bg-secondary/50 rounded-xl",children:h===xe?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Food Name"}),s.jsx("input",{type:"text",value:(g==null?void 0:g.name)||"",onChange:$e=>m({...g,name:$e.target.value}),className:"w-full p-2 border border-border rounded-lg bg-background","data-testid":`input-food-name-${xe}`})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Portion"}),s.jsx("input",{type:"text",value:(g==null?void 0:g.portion)||"",onChange:$e=>m({...g,portion:$e.target.value}),className:"w-full p-2 border border-border rounded-lg bg-background","data-testid":`input-food-portion-${xe}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Calories"}),s.jsx("input",{type:"number",value:(g==null?void 0:g.calories)||0,onChange:$e=>m({...g,calories:parseInt($e.target.value)||0}),className:"w-full p-2 border border-border rounded-lg bg-background","data-testid":`input-food-calories-${xe}`})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Protein (g)"}),s.jsx("input",{type:"number",value:(g==null?void 0:g.protein)||0,onChange:$e=>m({...g,protein:parseInt($e.target.value)||0}),className:"w-full p-2 border border-border rounded-lg bg-background","data-testid":`input-food-protein-${xe}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Carbs (g)"}),s.jsx("input",{type:"number",value:(g==null?void 0:g.carbs)||0,onChange:$e=>m({...g,carbs:parseInt($e.target.value)||0}),className:"w-full p-2 border border-border rounded-lg bg-background","data-testid":`input-food-carbs-${xe}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Fat (g)"}),s.jsx("input",{type:"number",value:(g==null?void 0:g.fat)||0,onChange:$e=>m({...g,fat:parseInt($e.target.value)||0}),className:"w-full p-2 border border-border rounded-lg bg-background","data-testid":`input-food-fat-${xe}`})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:J,className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-2 px-3 rounded-lg font-medium transition-colors flex items-center justify-center space-x-1","data-testid":`button-save-food-${xe}`,children:[s.jsx($s,{className:"h-4 w-4"}),s.jsx("span",{children:"Save"})]}),s.jsxs("button",{onClick:ie,className:"flex-1 bg-secondary hover:bg-secondary/80 text-secondary-foreground py-2 px-3 rounded-lg font-medium transition-colors flex items-center justify-center space-x-1","data-testid":`button-cancel-edit-${xe}`,children:[s.jsx(qo,{className:"h-4 w-4"}),s.jsx("span",{children:"Cancel"})]})]})]}):s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:G.name}),s.jsx("div",{className:"text-sm text-muted-foreground",children:G.portion})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[G.calories," cal"]}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:()=>ke(xe),className:"p-2 hover:bg-secondary rounded-lg transition-colors","data-testid":`button-edit-food-${xe}`,title:"Edit food item",children:s.jsx(vp,{className:"h-4 w-4 text-blue-600"})}),s.jsx("button",{onClick:()=>V(xe),className:"p-2 hover:bg-secondary rounded-lg transition-colors","data-testid":`button-delete-food-${xe}`,title:"Delete food item",children:s.jsx(To,{className:"h-4 w-4 text-red-600"})})]})]})},xe))})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:Re,className:"w-full bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-xl font-medium transition-colors flex items-center justify-center space-x-2","data-testid":"button-confirm-analysis",children:[s.jsx($s,{className:"h-5 w-5"}),s.jsx("span",{children:"Confirm Analysis"})]}),s.jsxs("button",{onClick:ve,className:"w-full bg-secondary hover:bg-secondary/80 text-secondary-foreground py-3 px-4 rounded-xl font-medium transition-colors flex items-center justify-center space-x-2","data-testid":"button-reject-analysis",children:[s.jsx(qo,{className:"h-5 w-5"}),s.jsx("span",{children:"Take New Photo"})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800/50 rounded-xl",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(Ec,{className:"h-4 w-4 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-xs text-blue-700 dark:text-blue-300",children:[s.jsx("strong",{children:"Tip:"})," For better accuracy, ensure good lighting and place a reference object (like a fork or coin) in the photo for scale."]})]})})]}),a==="results"&&o&&s.jsx(oI,{data:o,onScanAnother:ze}),a==="error"&&s.jsx(lI,{message:c,onRetry:Ae})]}),a==="camera"&&s.jsx("div",{className:"max-w-md mx-auto",children:s.jsx(O3,{})}),C&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-card rounded-2xl p-6 w-full max-w-md shadow-2xl border border-border/20",children:[s.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(Tr,{className:"h-6 w-6 text-primary"})}),"Add Voice Meal"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 rounded-xl p-4 border border-blue-200/30 dark:border-blue-700/30",children:[s.jsx("label",{className:"block text-sm font-semibold mb-3 text-blue-700 dark:text-blue-300",children:"What you said:"}),s.jsx("div",{className:"bg-gradient-to-r from-white to-blue-50 dark:from-gray-900 dark:to-blue-950/50 p-6 rounded-xl border-3 border-blue-300 dark:border-blue-600 shadow-lg",children:s.jsxs("p",{className:"text-2xl font-black text-blue-900 dark:text-blue-100 leading-relaxed text-center tracking-wide",children:['"',k,'"']})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-3 text-gray-700 dark:text-gray-300",children:"Meal Type"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:["breakfast","lunch","dinner","snack"].map(G=>s.jsx("button",{onClick:()=>$(G),className:`py-3 px-4 rounded-xl text-sm font-bold transition-all duration-200 ${D===G?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg transform scale-105 border-2 border-green-400":"bg-gradient-to-r from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-600 text-gray-700 dark:text-gray-200 hover:from-gray-200 hover:to-gray-300 dark:hover:from-gray-600 dark:hover:to-gray-500 border-2 border-transparent hover:border-gray-300 dark:hover:border-gray-500"}`,"data-testid":`button-voice-meal-${G}`,children:G.charAt(0).toUpperCase()+G.slice(1)},G))})]})]}),s.jsxs("div",{className:"flex space-x-4 mt-6",children:[s.jsx("button",{onClick:()=>M(!1),disabled:ae.isPending,className:"flex-1 py-3 px-6 border-2 border-gray-300 dark:border-gray-600 rounded-xl font-bold text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200 disabled:opacity-50","data-testid":"button-cancel-voice-meal",children:"Cancel"}),s.jsx("button",{onClick:se,disabled:ae.isPending,className:"flex-1 py-3 px-6 bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 disabled:opacity-50 flex items-center justify-center gap-2","data-testid":"button-confirm-voice-meal",children:ae.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Adding..."]}):s.jsxs(s.Fragment,{children:[s.jsx(an,{className:"h-5 w-5"}),"Add to Diary"]})})]})]})}),R&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:s.jsxs("div",{className:"bg-card rounded-2xl p-6 w-full max-w-md shadow-2xl border border-border/20",children:[s.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:s.jsx(GD,{className:"h-6 w-6 text-primary"})}),"Type Your Meal"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30 rounded-xl p-4 border border-green-200/30 dark:border-green-700/30",children:[s.jsx("label",{className:"block text-sm font-semibold mb-3 text-black dark:text-white",children:"What did you eat?"}),s.jsx("input",{type:"text",value:A,onChange:G=>_(G.target.value),placeholder:"e.g., 100g salmon, 2 slices bread, 1 apple...",className:"w-full p-4 rounded-xl border-2 border-green-300 dark:border-green-600 bg-white dark:bg-gray-900 text-lg font-medium focus:border-green-500 focus:ring-2 focus:ring-green-500/20 outline-none transition-all","data-testid":"input-text-meal",autoFocus:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold mb-3 text-gray-700 dark:text-gray-300",children:"Meal Type"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:["breakfast","lunch","dinner","snack"].map(G=>s.jsx("button",{onClick:()=>$(G),className:`py-3 px-4 rounded-lg font-medium transition-all duration-200 ${D===G?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-md scale-105":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,"data-testid":`button-text-meal-${G}`,children:G.charAt(0).toUpperCase()+G.slice(1)},G))})]})]}),s.jsxs("div",{className:"flex space-x-4 mt-6",children:[s.jsx("button",{onClick:()=>{L(!1),_("")},disabled:ae.isPending,className:"flex-1 py-3 px-6 border-2 border-gray-300 dark:border-gray-600 rounded-xl font-bold text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200 disabled:opacity-50","data-testid":"button-cancel-text-meal",children:"Cancel"}),s.jsx("button",{onClick:H,disabled:ae.isPending||!A.trim(),className:"flex-1 py-3 px-6 bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 disabled:opacity-50 flex items-center justify-center gap-2","data-testid":"button-confirm-text-meal",children:ae.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Adding..."]}):s.jsxs(s.Fragment,{children:[s.jsx(an,{className:"h-5 w-5"}),"Add to Diary"]})})]})]})}),s.jsx(si,{}),s.jsx(Ys,{}),s.jsx(E3,{trigger:I,onComplete:()=>E(!1),duration:4e3,particleCount:80})]})}function cr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ls(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Z3(e,t){const r=cr(e);return isNaN(t)?Ls(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const J3=6048e5,jK=864e5,e5=6e4,t5=36e5;let NK={};function dh(){return NK}function Yo(e,t){var l,c,u,d;const r=dh(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=cr(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Op(e){return Yo(e,{weekStartsOn:1})}function r5(e){const t=cr(e),r=t.getFullYear(),n=Ls(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Op(n),i=Ls(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Op(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Ep(e){const t=cr(e);return t.setHours(0,0,0,0),t}function R2(e){const t=cr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function SK(e,t){const r=Ep(e),n=Ep(t),a=+r-R2(r),i=+n-R2(n);return Math.round((a-i)/jK)}function kK(e){const t=r5(e),r=Ls(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Op(r)}function PK(e,t){const r=t*7;return Z3(e,r)}function CK(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function _K(e){if(!CK(e)&&typeof e!="number")return!1;const t=cr(e);return!isNaN(Number(t))}function AK(e,t){const r=cr(e.start),n=cr(e.end);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=i;)c.push(cr(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return a?c.reverse():c}function OK(e){const t=cr(e),r=Ls(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function n5(e,t){var l,c,u,d;const r=dh(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=cr(e),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}const EK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},TK=(e,t,r)=>{let n;const a=EK[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function v0(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const MK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},$K={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},DK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},IK={date:v0({formats:MK,defaultWidth:"full"}),time:v0({formats:$K,defaultWidth:"full"}),dateTime:v0({formats:DK,defaultWidth:"full"})},RK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},FK=(e,t,r,n)=>RK[e];function Wu(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const LK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},BK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},WK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},UK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},VK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qK=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},HK={ordinalNumber:qK,era:Wu({values:LK,defaultWidth:"wide"}),quarter:Wu({values:zK,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Wu({values:BK,defaultWidth:"wide"}),day:Wu({values:WK,defaultWidth:"wide"}),dayPeriod:Wu({values:UK,defaultWidth:"wide",formattingValues:VK,defaultFormattingWidth:"wide"})};function Uu(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?KK(l,f=>f.test(o)):GK(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function GK(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function KK(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function YK(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const QK=/^(\d+)(th|st|nd|rd)?/i,XK=/\d+/i,ZK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},JK={any:[/^b/i,/^(a|c)/i]},eY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tY={any:[/1/i,/2/i,/3/i,/4/i]},rY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},aY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},iY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},oY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lY={ordinalNumber:YK({matchPattern:QK,parsePattern:XK,valueCallback:e=>parseInt(e,10)}),era:Uu({matchPatterns:ZK,defaultMatchWidth:"wide",parsePatterns:JK,defaultParseWidth:"any"}),quarter:Uu({matchPatterns:eY,defaultMatchWidth:"wide",parsePatterns:tY,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Uu({matchPatterns:rY,defaultMatchWidth:"wide",parsePatterns:nY,defaultParseWidth:"any"}),day:Uu({matchPatterns:aY,defaultMatchWidth:"wide",parsePatterns:iY,defaultParseWidth:"any"}),dayPeriod:Uu({matchPatterns:sY,defaultMatchWidth:"any",parsePatterns:oY,defaultParseWidth:"any"})},cY={code:"en-US",formatDistance:TK,formatLong:IK,formatRelative:FK,localize:HK,match:lY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function uY(e){const t=cr(e);return SK(t,OK(t))+1}function dY(e){const t=cr(e),r=+Op(t)-+kK(t);return Math.round(r/J3)+1}function a5(e,t){var d,f,h,p;const r=cr(e),n=r.getFullYear(),a=dh(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Ls(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Yo(o,t),c=Ls(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Yo(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function fY(e,t){var l,c,u,d;const r=dh(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=a5(e,t),i=Ls(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Yo(i,t)}function hY(e,t){const r=cr(e),n=+Yo(r,t)-+fY(r,t);return Math.round(n/J3)+1}function ht(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Yi={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ht(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ht(r+1,2)},d(e,t){return ht(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ht(e.getHours()%12||12,t.length)},H(e,t){return ht(e.getHours(),t.length)},m(e,t){return ht(e.getMinutes(),t.length)},s(e,t){return ht(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return ht(a,t.length)}},pl={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},F2={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Yi.y(e,t)},Y:function(e,t,r,n){const a=a5(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return ht(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):ht(i,t.length)},R:function(e,t){const r=r5(e);return ht(r,t.length)},u:function(e,t){const r=e.getFullYear();return ht(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ht(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ht(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Yi.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ht(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=hY(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):ht(a,t.length)},I:function(e,t,r){const n=dY(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ht(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Yi.d(e,t)},D:function(e,t,r){const n=uY(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ht(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ht(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ht(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return ht(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=pl.noon:n===0?a=pl.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=pl.evening:n>=12?a=pl.afternoon:n>=4?a=pl.morning:a=pl.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Yi.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Yi.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ht(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ht(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Yi.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Yi.s(e,t)},S:function(e,t){return Yi.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return z2(n);case"XXXX":case"XX":return lo(n);case"XXXXX":case"XXX":default:return lo(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return z2(n);case"xxxx":case"xx":return lo(n);case"xxxxx":case"xxx":default:return lo(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+L2(n,":");case"OOOO":default:return"GMT"+lo(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+L2(n,":");case"zzzz":default:return"GMT"+lo(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ht(n,t.length)},T:function(e,t,r){const n=e.getTime();return ht(n,t.length)}};function L2(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+ht(i,2)}function z2(e,t){return e%60===0?(e>0?"-":"+")+ht(Math.abs(e)/60,2):lo(e,t)}function lo(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=ht(Math.trunc(n/60),2),i=ht(n%60,2);return r+a+t+i}const B2=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},i5=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},mY=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return B2(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",B2(n,t)).replace("{{time}}",i5(a,t))},pY={p:i5,P:mY},gY=/^D+$/,yY=/^Y+$/,vY=["D","DD","YY","YYYY"];function xY(e){return gY.test(e)}function bY(e){return yY.test(e)}function wY(e,t,r){const n=jY(e,t,r);if(console.warn(n),vY.includes(e))throw new RangeError(n)}function jY(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const NY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,SY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kY=/^'([^]*?)'?$/,PY=/''/g,CY=/[a-zA-Z]/;function dt(e,t,r){var d,f,h,p;const n=dh(),a=n.locale??cY,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,l=cr(e);if(!_K(l))throw new RangeError("Invalid time value");let c=t.match(SY).map(g=>{const m=g[0];if(m==="p"||m==="P"){const x=pY[m];return x(g,a.formatLong)}return g}).join("").match(NY).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const m=g[0];if(m==="'")return{isToken:!1,value:_Y(g)};if(F2[m])return{isToken:!0,value:g};if(m.match(CY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:g}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(g=>{if(!g.isToken)return g.value;const m=g.value;(bY(m)||xY(m))&&wY(m,t,String(e));const x=F2[m[0]];return x(l,m,a.localize,u)}).join("")}function _Y(e){const t=e.match(kY);return t?t[1].replace(PY,"'"):e}function AY(e,t){const r=+cr(e),[n,a]=[+cr(t.start),+cr(t.end)].sort((i,o)=>i-o);return r>=n&&r<=a}function x0(e,t){return Z3(e,-t)}function W2(e,t){const n=MY(e);let a;if(n.date){const c=$Y(n.date,2);a=DY(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(n.time&&(o=IY(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=RY(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const em={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},OY=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,EY=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,TY=/^([+-])(\d{2})(?::?(\d{2}))?$/;function MY(e){const t={},r=e.split(em.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],em.timeZoneDelimiter.test(t.date)&&(t.date=e.split(em.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=em.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function $Y(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function DY(e,t){if(t===null)return new Date(NaN);const r=e.match(OY);if(!r)return new Date(NaN);const n=!!r[4],a=Vu(r[1]),i=Vu(r[2])-1,o=Vu(r[3]),l=Vu(r[4]),c=Vu(r[5])-1;if(n)return WY(t,l,c)?FY(t,l,c):new Date(NaN);{const u=new Date(0);return!zY(t,i,o)||!BY(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function Vu(e){return e?parseInt(e):1}function IY(e){const t=e.match(EY);if(!t)return NaN;const r=b0(t[1]),n=b0(t[2]),a=b0(t[3]);return UY(r,n,a)?r*t5+n*e5+a*1e3:NaN}function b0(e){return e&&parseFloat(e.replace(",","."))||0}function RY(e){if(e==="Z")return 0;const t=e.match(TY);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return VY(n,a)?r*(n*t5+a*e5):NaN}function FY(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const LY=[31,null,31,30,31,30,31,31,30,31,30,31];function s5(e){return e%400===0||e%4===0&&e%100!==0}function zY(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(LY[t]||(s5(e)?29:28))}function BY(e,t){return t>=1&&t<=(s5(e)?366:365)}function WY(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function UY(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function VY(e,t){return t>=0&&t<=59}function U2(e,t){return PK(e,-t)}function qY({goals:e}){const{data:t=[]}=It({queryKey:["/api/diary"]}),{data:r=[]}=It({queryKey:["/api/drinks"]}),a=(()=>{const o=new Date,l=Yo(o,{weekStartsOn:1}),c=n5(o,{weekStartsOn:1});return AK({start:l,end:c}).map(d=>{const f=dt(d,"yyyy-MM-dd"),h=t.filter(v=>dt(new Date(v.mealDate),"yyyy-MM-dd")===f),p=r.filter(v=>dt(new Date(v.loggedAt),"yyyy-MM-dd")===f),g=h.reduce((v,b)=>{var y,S,w,N;return{calories:v.calories+(((y=b.analysis)==null?void 0:y.totalCalories)||0),protein:v.protein+(((S=b.analysis)==null?void 0:S.totalProtein)||0),carbs:v.carbs+(((w=b.analysis)==null?void 0:w.totalCarbs)||0),fat:v.fat+(((N=b.analysis)==null?void 0:N.totalFat)||0)}},{calories:0,protein:0,carbs:0,fat:0}),m=p.reduce((v,b)=>v+(b.calories||0),0),x=p.filter(v=>["water","tea","coffee"].includes(v.drinkType)).reduce((v,b)=>v+b.amount,0);return{date:d,nutrition:{calories:g.calories+m,protein:g.protein,carbs:g.carbs,fat:g.fat,water:x},goals:e?{calories:e.dailyCalories||2e3,protein:e.dailyProtein||150,carbs:e.dailyCarbs||250,fat:e.dailyFat||65,water:e.dailyWater||2e3}:null}})})(),i=O.useMemo(()=>{if(!e||a.length===0)return null;const o=a.reduce((d,f)=>({calories:d.calories+f.nutrition.calories,protein:d.protein+f.nutrition.protein,carbs:d.carbs+f.nutrition.carbs,fat:d.fat+f.nutrition.fat,water:d.water+f.nutrition.water}),{calories:0,protein:0,carbs:0,fat:0,water:0}),l={calories:o.calories/a.length,protein:o.protein/a.length,carbs:o.carbs/a.length,fat:o.fat/a.length,water:o.water/a.length},c=a.map(d=>({calories:d.goals?d.nutrition.calories/d.goals.calories>=.9:!1,protein:d.goals?d.nutrition.protein/d.goals.protein>=.9:!1,carbs:d.goals?d.nutrition.carbs/d.goals.carbs>=.9:!1,fat:d.goals?d.nutrition.fat/d.goals.fat>=.9:!1,water:d.goals?d.nutrition.water/d.goals.water>=.9:!1})),u={calories:c.filter(d=>d.calories).length/a.length*100,protein:c.filter(d=>d.protein).length/a.length*100,carbs:c.filter(d=>d.carbs).length/a.length*100,fat:c.filter(d=>d.fat).length/a.length*100,water:c.filter(d=>d.water).length/a.length*100};return{averages:l,achievementRates:u,totalGoalsAchieved:c.reduce((d,f)=>d+Object.values(f).filter(Boolean).length,0),daysTracked:a.filter(d=>d.nutrition.calories>0).length}},[a,e]);return!e||!i?s.jsx(me,{children:s.jsx(ye,{className:"p-6 text-center",children:s.jsx("div",{className:"text-muted-foreground",children:"Set nutrition goals to see your weekly analytics"})})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(me,{children:[s.jsxs(Se,{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pa,{className:"h-5 w-5 text-primary"}),s.jsx(Ce,{className:"text-lg",children:"This Week's Progress"})]}),s.jsxs(Ye,{children:["Your nutrition achievements for ",dt(a[0].date,"MMM d")," - ",dt(a[6].date,"MMM d")]})]}),s.jsxs(ye,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-2xl font-bold text-primary","data-testid":"days-tracked",children:i.daysTracked}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Days Tracked"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600","data-testid":"goals-achieved",children:i.totalGoalsAchieved}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Goals Achieved"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h4",{className:"font-medium",children:"Goal Achievement Rates"}),[{key:"calories",label:"Calories",target:e.dailyCalories},{key:"protein",label:"Protein",target:e.dailyProtein},{key:"carbs",label:"Carbs",target:e.dailyCarbs},{key:"fat",label:"Fat",target:e.dailyFat},{key:"water",label:"Water",target:e.dailyWater}].map(({key:o,label:l,target:c})=>{const u=i.achievementRates[o],d=i.averages[o];return s.jsxs("div",{className:"space-y-2","data-testid":`weekly-${o}`,children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:l}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-muted-foreground",children:[Math.round(d)," / ",c," avg"]}),u>=80?s.jsx(sn,{className:"h-4 w-4 text-green-600"}):u>=50?s.jsx(sn,{className:"h-4 w-4 text-yellow-600"}):s.jsx(wp,{className:"h-4 w-4 text-red-600"})]})]}),s.jsx(As,{value:u,className:"h-2","data-testid":`weekly-${o}-progress`}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:[Math.round(u),"% of days on target"]}),u>=80&&s.jsxs("span",{className:"text-green-600 font-medium flex items-center space-x-1",children:[s.jsx(UD,{className:"h-3 w-3"}),s.jsx("span",{children:"Great!"})]})]})]},o)})]})]})]}),s.jsxs(me,{children:[s.jsxs(Se,{children:[s.jsx(Ce,{className:"text-lg",children:"Daily Overview"}),s.jsx(Ye,{children:"Quick view of this week's daily progress"})]}),s.jsxs(ye,{children:[s.jsx("div",{className:"grid grid-cols-7 gap-2",children:a.map((o,l)=>{const c=o.date.toDateString()===new Date().toDateString(),u=o.nutrition.calories>0,d=o.goals?o.nutrition.calories/o.goals.calories*100:0;return s.jsxs("div",{className:`text-center p-2 rounded-lg border ${c?"bg-primary/10 border-primary":"bg-card"}`,"data-testid":`day-${l}`,children:[s.jsx("div",{className:"text-xs font-medium",children:dt(o.date,"EEE")}),s.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:dt(o.date,"d")}),s.jsx("div",{className:"w-6 h-6 mx-auto rounded-full border-2 flex items-center justify-center",children:u?s.jsx("div",{className:`w-4 h-4 rounded-full ${d>=90?"bg-green-500":d>=70?"bg-yellow-500":d>0?"bg-blue-500":"bg-gray-300"}`,title:`${Math.round(o.nutrition.calories)} calories`}):s.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-200"})})]},o.date.toISOString())})}),s.jsx("div",{className:"mt-4 text-xs text-muted-foreground text-center",children:" Goal achieved   Partial progress   Some progress   No data"})]})]})]})}function HY(e,t){return j.useReducer((r,n)=>t[r][n]??r,e)}var Qs=e=>{const{present:t,children:r}=e,n=GY(t),a=typeof r=="function"?r({present:n.isPresent}):j.Children.only(r),i=at(n.ref,KY(a));return typeof r=="function"||n.isPresent?j.cloneElement(a,{ref:i}):null};Qs.displayName="Presence";function GY(e){const[t,r]=j.useState(),n=j.useRef({}),a=j.useRef(e),i=j.useRef("none"),o=e?"mounted":"unmounted",[l,c]=HY(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const u=tm(n.current);i.current=l==="mounted"?u:"none"},[l]),$r(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,p=tm(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),$r(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=tm(n.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!a.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=p=>{p.target===t&&(i.current=tm(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function tm(e){return(e==null?void 0:e.animationName)||"none"}function KY(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Wj="Dialog",[o5,l5]=Xn(Wj),[YY,_a]=o5(Wj),c5=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=j.useRef(null),c=j.useRef(null),[u=!1,d]=Di({prop:n,defaultProp:a,onChange:i});return s.jsx(YY,{scope:t,triggerRef:l,contentRef:c,contentId:Ga(),titleId:Ga(),descriptionId:Ga(),open:u,onOpenChange:d,onOpenToggle:j.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};c5.displayName=Wj;var u5="DialogTrigger",d5=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=_a(u5,r),i=at(t,a.triggerRef);return s.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":qj(a.open),...n,ref:i,onClick:De(e.onClick,a.onOpenToggle)})});d5.displayName=u5;var Uj="DialogPortal",[QY,f5]=o5(Uj,{forceMount:void 0}),h5=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=_a(Uj,t);return s.jsx(QY,{scope:t,forceMount:r,children:j.Children.map(n,o=>s.jsx(Qs,{present:r||i.open,children:s.jsx(jy,{asChild:!0,container:a,children:o})}))})};h5.displayName=Uj;var Tp="DialogOverlay",m5=j.forwardRef((e,t)=>{const r=f5(Tp,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=_a(Tp,e.__scopeDialog);return i.modal?s.jsx(Qs,{present:n||i.open,children:s.jsx(ZY,{...a,ref:t})}):null});m5.displayName=Tp;var XY=Ho("DialogOverlay.RemoveScroll"),ZY=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=_a(Tp,r);return s.jsx(Sy,{as:XY,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Fe.div,{"data-state":qj(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Qo="DialogContent",p5=j.forwardRef((e,t)=>{const r=f5(Qo,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=_a(Qo,e.__scopeDialog);return s.jsx(Qs,{present:n||i.open,children:i.modal?s.jsx(JY,{...a,ref:t}):s.jsx(eQ,{...a,ref:t})})});p5.displayName=Qo;var JY=j.forwardRef((e,t)=>{const r=_a(Qo,e.__scopeDialog),n=j.useRef(null),a=at(t,r.contentRef,n);return j.useEffect(()=>{const i=n.current;if(i)return Rj(i)},[]),s.jsx(g5,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:De(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:De(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:De(e.onFocusOutside,i=>i.preventDefault())})}),eQ=j.forwardRef((e,t)=>{const r=_a(Qo,e.__scopeDialog),n=j.useRef(!1),a=j.useRef(!1);return s.jsx(g5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),g5=j.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=_a(Qo,r),c=j.useRef(null),u=at(t,c);return Sj(),s.jsxs(s.Fragment,{children:[s.jsx(yy,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(gy,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":qj(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(rQ,{titleId:l.titleId}),s.jsx(aQ,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Vj="DialogTitle",y5=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=_a(Vj,r);return s.jsx(Fe.h2,{id:a.titleId,...n,ref:t})});y5.displayName=Vj;var v5="DialogDescription",x5=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=_a(v5,r);return s.jsx(Fe.p,{id:a.descriptionId,...n,ref:t})});x5.displayName=v5;var b5="DialogClose",w5=j.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=_a(b5,r);return s.jsx(Fe.button,{type:"button",...n,ref:t,onClick:De(e.onClick,()=>a.onOpenChange(!1))})});w5.displayName=b5;function qj(e){return e?"open":"closed"}var j5="DialogTitleWarning",[tQ,N5]=rq(j5,{contentName:Qo,titleName:Vj,docsSlug:"dialog"}),rQ=({titleId:e})=>{const t=N5(j5),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},nQ="DialogDescriptionWarning",aQ=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${N5(nQ).contentName}}.`;return j.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},S5=c5,k5=d5,P5=h5,Hj=m5,Gj=p5,Kj=y5,Yj=x5,Qj=w5;const C5=S5,iQ=k5,sQ=P5,_5=j.forwardRef(({className:e,...t},r)=>s.jsx(Hj,{ref:r,className:Te("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));_5.displayName=Hj.displayName;const Xj=j.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(sQ,{children:[s.jsx(_5,{}),s.jsxs(Gj,{ref:n,className:Te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border-2 border-gray-300 bg-white dark:bg-gray-800 text-gray-900 dark:text-white p-6 shadow-2xl backdrop-blur-sm duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(Qj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(qo,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Xj.displayName=Gj.displayName;const Zj=({className:e,...t})=>s.jsx("div",{className:Te("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Zj.displayName="DialogHeader";const Jj=j.forwardRef(({className:e,...t},r)=>s.jsx(Kj,{ref:r,className:Te("text-lg font-semibold leading-none tracking-tight",e),...t}));Jj.displayName=Kj.displayName;const eN=j.forwardRef(({className:e,...t},r)=>s.jsx(Yj,{ref:r,className:Te("text-sm font-medium text-gray-700 dark:text-gray-300",e),...t}));eN.displayName=Yj.displayName;var oQ="Label",A5=j.forwardRef((e,t)=>s.jsx(Fe.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));A5.displayName=oQ;var O5=A5;const lQ=my("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),br=j.forwardRef(({className:e,...t},r)=>s.jsx(O5,{ref:r,className:Te(lQ(),e),...t}));br.displayName=O5.displayName;const Ay=j.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:Te("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Ay.displayName="Textarea";function cQ({entry:e}){const{toast:t}=Ir(),r=En(),[n,a]=j.useState(!1),[i,o]=j.useState(e.mealType||"lunch"),[l,c]=j.useState(dt(new Date(e.mealDate),"yyyy-MM-dd'T'HH:mm")),[u,d]=j.useState(e.notes||""),[f,h]=j.useState(""),p=Jt({mutationFn:async x=>{console.log(" Attempting to update entry:",{entryId:e.id,updateData:x,url:`/api/diary/${e.id}`});try{const b=await(await $t("PATCH",`/api/diary/${e.id}`,x)).json();return console.log(" Update successful:",b),b}catch(v){throw console.error(" Update failed:",v),v}},onSuccess:x=>{console.log(" Mutation success callback triggered"),t({title:"Entry Updated",description:"Your meal entry has been updated successfully."}),r.invalidateQueries({queryKey:["/api/diary"]}),a(!1)},onError:x=>{console.error(" Mutation error callback triggered:",x);let v="Failed to update entry. Please try again.";x.message&&(x.message.includes("401")?v="Please log in again to continue.":x.message.includes("403")?v="You don't have permission to edit this entry.":x.message.includes("404")?v="Entry not found. It may have been deleted.":x.message.includes("400")?v="Invalid data. Please check your input.":v=`Update failed: ${x.message}`),t({title:"Update Failed",description:v,variant:"destructive"})}}),g=()=>{const x={mealType:i,mealDate:new Date(l).toISOString(),notes:u.trim()||void 0};i==="custom"&&f.trim()&&(x.customMealName=f.trim()),p.mutate(x)},m=()=>{o(e.mealType||"lunch"),c(dt(new Date(e.mealDate),"yyyy-MM-dd'T'HH:mm")),d(e.notes||""),h("")};return s.jsxs(C5,{open:n,onOpenChange:a,children:[s.jsx(iQ,{asChild:!0,children:s.jsxs(he,{variant:"outline",size:"sm",className:"bg-gradient-to-r from-blue-500/10 to-purple-500/10 hover:from-blue-500/20 hover:to-purple-500/20 border-blue-200 dark:border-blue-800",onClick:m,"data-testid":"button-edit-entry",children:[s.jsx(vp,{className:"h-4 w-4 mr-1"}),"Edit"]})}),s.jsxs(Xj,{className:"max-w-md",children:[s.jsxs(Zj,{children:[s.jsxs(Jj,{className:"flex items-center gap-2",children:[s.jsx(vp,{className:"h-5 w-5"}),"Edit Meal Entry"]}),s.jsx(eN,{children:"Update the details of your meal entry"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(br,{htmlFor:"meal-type",className:"flex items-center gap-2",children:[s.jsx(u7,{className:"h-4 w-4"}),"Meal Type"]}),s.jsxs(ga,{value:i,onValueChange:o,children:[s.jsx(Bn,{"data-testid":"select-meal-type",children:s.jsx(ya,{})}),s.jsxs(Wn,{children:[s.jsx(Le,{value:"breakfast",children:" Breakfast"}),s.jsx(Le,{value:"lunch",children:" Lunch"}),s.jsx(Le,{value:"dinner",children:" Dinner"}),s.jsx(Le,{value:"snack",children:" Snack"}),s.jsx(Le,{value:"custom",children:" Custom"})]})]})]}),i==="custom"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(br,{htmlFor:"custom-name",children:"Custom Meal Name"}),s.jsx(lt,{id:"custom-name",placeholder:"e.g., Post-workout snack",value:f,onChange:x=>h(x.target.value),"data-testid":"input-custom-meal-name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(br,{htmlFor:"meal-date",className:"flex items-center gap-2",children:[s.jsx(lh,{className:"h-4 w-4"}),"Date & Time"]}),s.jsx(lt,{id:"meal-date",type:"datetime-local",value:l,onChange:x=>c(x.target.value),"data-testid":"input-meal-date"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(br,{htmlFor:"notes",className:"flex items-center gap-2",children:[s.jsx(qD,{className:"h-4 w-4"}),"Notes (Optional)"]}),s.jsx(Ay,{id:"notes",placeholder:"Add any notes about this meal...",value:u,onChange:x=>d(x.target.value),rows:3,"data-testid":"input-notes"})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsxs(he,{onClick:()=>a(!1),variant:"outline",className:"flex-1","data-testid":"button-cancel",children:[s.jsx(qo,{className:"h-4 w-4 mr-1"}),"Cancel"]}),s.jsxs(he,{onClick:g,disabled:p.isPending,className:"flex-1 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700","data-testid":"button-save",children:[s.jsx(pj,{className:"h-4 w-4 mr-1"}),p.isPending?"Saving...":"Save Changes"]})]})]})]})}var tN="Popover",[E5,x2e]=Xn(tN,[wy]),fh=wy(),[uQ,Xs]=E5(tN),T5=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,l=fh(t),c=j.useRef(null),[u,d]=j.useState(!1),[f=!1,h]=Di({prop:n,defaultProp:a,onChange:i});return s.jsx(DI,{...l,children:s.jsx(uQ,{scope:t,contentId:Ga(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:j.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:j.useCallback(()=>d(!0),[]),onCustomAnchorRemove:j.useCallback(()=>d(!1),[]),modal:o,children:r})})};T5.displayName=tN;var M5="PopoverAnchor",dQ=j.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Xs(M5,r),i=fh(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return j.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Dj,{...i,...n,ref:t})});dQ.displayName=M5;var $5="PopoverTrigger",D5=j.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Xs($5,r),i=fh(r),o=at(t,a.triggerRef),l=s.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":z5(a.open),...n,ref:o,onClick:De(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Dj,{asChild:!0,...i,children:l})});D5.displayName=$5;var rN="PopoverPortal",[fQ,hQ]=E5(rN,{forceMount:void 0}),I5=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Xs(rN,t);return s.jsx(fQ,{scope:t,forceMount:r,children:s.jsx(Qs,{present:r||i.open,children:s.jsx(jy,{asChild:!0,container:a,children:n})})})};I5.displayName=rN;var Dc="PopoverContent",R5=j.forwardRef((e,t)=>{const r=hQ(Dc,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Xs(Dc,e.__scopePopover);return s.jsx(Qs,{present:n||i.open,children:i.modal?s.jsx(pQ,{...a,ref:t}):s.jsx(gQ,{...a,ref:t})})});R5.displayName=Dc;var mQ=Ho("PopoverContent.RemoveScroll"),pQ=j.forwardRef((e,t)=>{const r=Xs(Dc,e.__scopePopover),n=j.useRef(null),a=at(t,n),i=j.useRef(!1);return j.useEffect(()=>{const o=n.current;if(o)return Rj(o)},[]),s.jsx(Sy,{as:mQ,allowPinchZoom:!0,children:s.jsx(F5,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:De(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:De(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:De(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),gQ=j.forwardRef((e,t)=>{const r=Xs(Dc,e.__scopePopover),n=j.useRef(!1),a=j.useRef(!1);return s.jsx(F5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),F5=j.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Xs(Dc,r),p=fh(r);return Sj(),s.jsx(yy,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(gy,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(II,{"data-state":z5(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),L5="PopoverClose",yQ=j.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Xs(L5,r);return s.jsx(Fe.button,{type:"button",...n,ref:t,onClick:De(e.onClick,()=>a.onOpenChange(!1))})});yQ.displayName=L5;var vQ="PopoverArrow",xQ=j.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=fh(r);return s.jsx(RI,{...a,...n,ref:t})});xQ.displayName=vQ;function z5(e){return e?"open":"closed"}var bQ=T5,wQ=D5,jQ=I5,B5=R5;const NQ=bQ,SQ=wQ,W5=j.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(jQ,{children:s.jsx(B5,{ref:a,align:t,sideOffset:r,className:Te("z-50 w-72 rounded-md border-2 border-gray-300 bg-white dark:bg-gray-800 text-gray-900 dark:text-white p-4 shadow-2xl backdrop-blur-sm outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));W5.displayName=B5.displayName;function kQ({searchQuery:e,onSearchChange:t,mealTypeFilter:r,onMealTypeChange:n,dateRange:a,onDateRangeChange:i,calorieRange:o,onCalorieRangeChange:l,onClearFilters:c,hasActiveFilters:u}){const[d,f]=j.useState(!1);return s.jsxs("div",{className:"space-y-3 p-4 bg-card border rounded-lg",children:[s.jsxs("div",{className:"relative",children:[s.jsx(a7,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(lt,{placeholder:"Search your meals...",value:e,onChange:h=>t(h.target.value),className:"pl-10","data-testid":"input-search"})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs(NQ,{open:d,onOpenChange:f,children:[s.jsx(SQ,{asChild:!0,children:s.jsxs(he,{variant:"outline",size:"sm",className:u?"border-primary bg-primary/10":"","data-testid":"button-filters",children:[s.jsx(mj,{className:"h-4 w-4 mr-1"}),"Filters",u&&s.jsx("span",{className:"ml-1 w-2 h-2 bg-primary rounded-full"})]})}),s.jsx(W5,{className:"w-80",align:"start",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{children:s.jsx("h4",{className:"font-medium mb-2",children:"Filters"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Meal Type"}),s.jsxs(ga,{value:r,onValueChange:n,children:[s.jsx(Bn,{"data-testid":"select-meal-type-filter",children:s.jsx(ya,{placeholder:"All meals"})}),s.jsxs(Wn,{children:[s.jsx(Le,{value:"all",children:"All meals"}),s.jsx(Le,{value:"breakfast",children:" Breakfast"}),s.jsx(Le,{value:"lunch",children:" Lunch"}),s.jsx(Le,{value:"dinner",children:" Dinner"}),s.jsx(Le,{value:"snack",children:" Snack"}),s.jsx(Le,{value:"custom",children:" Custom"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Date Range"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(lt,{type:"date",value:a.start?dt(a.start,"yyyy-MM-dd"):"",onChange:h=>i({...a,start:h.target.value?new Date(h.target.value):void 0}),"data-testid":"input-date-start"}),s.jsx(lt,{type:"date",value:a.end?dt(a.end,"yyyy-MM-dd"):"",onChange:h=>i({...a,end:h.target.value?new Date(h.target.value):void 0}),"data-testid":"input-date-end"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Calorie Range"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(lt,{type:"number",placeholder:"Min",value:o.min||"",onChange:h=>l({...o,min:h.target.value?parseInt(h.target.value):void 0}),"data-testid":"input-calorie-min"}),s.jsx(lt,{type:"number",placeholder:"Max",value:o.max||"",onChange:h=>l({...o,max:h.target.value?parseInt(h.target.value):void 0}),"data-testid":"input-calorie-max"})]})]}),s.jsxs("div",{className:"flex justify-between pt-2",children:[s.jsxs(he,{variant:"outline",size:"sm",onClick:c,disabled:!u,"data-testid":"button-clear-filters",children:[s.jsx(qo,{className:"h-4 w-4 mr-1"}),"Clear"]}),s.jsx(he,{size:"sm",onClick:()=>f(!1),"data-testid":"button-apply-filters",children:"Apply"})]})]})})]}),u&&s.jsx(he,{variant:"ghost",size:"sm",onClick:c,className:"text-muted-foreground","data-testid":"button-clear-all-filters",children:s.jsx(qo,{className:"h-4 w-4"})})]})]})}function PQ({goals:e}){const{data:t=[]}=It({queryKey:["/api/diary"]}),{data:r=[]}=It({queryKey:["/api/drinks"]}),n=()=>{const f=Ep(new Date);let h=0,p=0,g=0,m=null;const x=new Set(t.map(b=>dt(new Date(b.mealDate),"yyyy-MM-dd"))),v=Array.from(x).sort().reverse();for(const b of v){const y=Ep(new Date(b)),S=m?x0(m,1):f;if(y.getTime()===S.getTime())g++,m===null&&(h=g);else if(m!==null)break;m=y,p=Math.max(p,g)}return{currentStreak:h,longestStreak:p}},a=()=>{const f=Array.from({length:30},(x,v)=>{const b=dt(x0(new Date,v),"yyyy-MM-dd"),y=t.filter(k=>dt(new Date(k.mealDate),"yyyy-MM-dd")===b),S=r.filter(k=>dt(new Date(k.loggedAt),"yyyy-MM-dd")===b),w=y.reduce((k,P)=>{var C,M,A,_;return{calories:k.calories+(((C=P.analysis)==null?void 0:C.totalCalories)||0),protein:k.protein+(((M=P.analysis)==null?void 0:M.totalProtein)||0),carbs:k.carbs+(((A=P.analysis)==null?void 0:A.totalCarbs)||0),fat:k.fat+(((_=P.analysis)==null?void 0:_.totalFat)||0)}},{calories:0,protein:0,carbs:0,fat:0}),N=S.reduce((k,P)=>k+(P.calories||0),0);return{date:b,calories:w.calories+N,protein:w.protein,carbs:w.carbs,fat:w.fat}}),h=f.slice(0,7),p=f.slice(7,14),g={calories:h.reduce((x,v)=>x+v.calories,0)/7,protein:h.reduce((x,v)=>x+v.protein,0)/7},m={calories:p.reduce((x,v)=>x+v.calories,0)/7,protein:p.reduce((x,v)=>x+v.protein,0)/7};return{caloriesTrend:g.calories>m.calories?"up":"down",caloriesChange:Math.abs(g.calories-m.calories),proteinTrend:g.protein>m.protein?"up":"down",proteinChange:Math.abs(g.protein-m.protein),averages:g}},i=()=>{if(!e)return{caloriesRate:0,proteinRate:0,weeklyRate:0};const f=Array.from({length:7},(m,x)=>{const v=dt(x0(new Date,x),"yyyy-MM-dd"),b=t.filter(N=>dt(new Date(N.mealDate),"yyyy-MM-dd")===v),y=r.filter(N=>dt(new Date(N.loggedAt),"yyyy-MM-dd")===v),S=b.reduce((N,k)=>{var P,C;return{calories:N.calories+(((P=k.analysis)==null?void 0:P.totalCalories)||0),protein:N.protein+(((C=k.analysis)==null?void 0:C.totalProtein)||0)}},{calories:0,protein:0}),w=y.reduce((N,k)=>N+(k.calories||0),0);return{calories:S.calories+w,protein:S.protein,achievedCalories:S.calories+w>=(e.dailyCalories||2e3)*.9,achievedProtein:S.protein>=(e.dailyProtein||150)*.9}}),h=f.filter(m=>m.achievedCalories).length/7*100,p=f.filter(m=>m.achievedProtein).length/7*100,g=(h+p)/2;return{caloriesRate:h,proteinRate:p,weeklyRate:g}},o=()=>{const f=t.map(g=>({hour:new Date(g.mealDate).getHours(),type:g.mealType})),h=["breakfast","lunch","dinner"].map(g=>{const m=f.filter(v=>v.type===g).map(v=>v.hour);if(m.length===0)return{type:g,avgHour:null};const x=m.reduce((v,b)=>v+b,0)/m.length;return{type:g,avgHour:Math.round(x)}}),p=f.filter(g=>g.hour>=22||g.hour<=5).length;return{avgMealTimes:h,lateNightSnacks:p}},l=n(),c=a(),u=i(),d=o();return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(me,{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-950 dark:to-emerald-950 border-green-200 dark:border-green-800",children:s.jsx(ye,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Current Streak"}),s.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:l.currentStreak}),s.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"days"})]}),s.jsx(UD,{className:"h-8 w-8 text-green-500"})]})})}),s.jsx(me,{className:"bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-950 dark:to-cyan-950 border-blue-200 dark:border-blue-800",children:s.jsx(ye,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Goal Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[Math.round(u.weeklyRate),"%"]}),s.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"this week"})]}),s.jsx(Qr,{className:"h-8 w-8 text-blue-500"})]})})})]}),s.jsxs(me,{children:[s.jsxs(Se,{children:[s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(sn,{className:"h-5 w-5"}),"Nutrition Trends (7-day average)"]}),s.jsx(Ye,{children:"Comparing this week vs last week"})]}),s.jsxs(ye,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oc,{className:"h-4 w-4 text-orange-500"}),s.jsx("span",{className:"font-medium",children:"Calories"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[c.caloriesTrend==="up"?s.jsx(sn,{className:"h-4 w-4 text-green-500"}):s.jsx(wp,{className:"h-4 w-4 text-red-500"}),s.jsxs("span",{className:"text-sm font-medium",children:[Math.round(c.averages.calories)," cal/day"]}),s.jsxs(or,{variant:c.caloriesTrend==="up"?"default":"secondary",children:[c.caloriesTrend==="up"?"+":"-",Math.round(c.caloriesChange)]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dm,{className:"h-4 w-4 text-red-500"}),s.jsx("span",{className:"font-medium",children:"Protein"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[c.proteinTrend==="up"?s.jsx(sn,{className:"h-4 w-4 text-green-500"}):s.jsx(wp,{className:"h-4 w-4 text-red-500"}),s.jsxs("span",{className:"text-sm font-medium",children:[Math.round(c.averages.protein),"g/day"]}),s.jsxs(or,{variant:c.proteinTrend==="up"?"default":"secondary",children:[c.proteinTrend==="up"?"+":"-",Math.round(c.proteinChange),"g"]})]})]})]})]}),s.jsxs(me,{children:[s.jsxs(Se,{children:[s.jsx(Ce,{children:"Weekly Goal Achievement"}),s.jsx(Ye,{children:"Your consistency over the last 7 days"})]}),s.jsxs(ye,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Calorie Goals"}),s.jsxs("span",{className:"font-medium",children:[Math.round(u.caloriesRate),"%"]})]}),s.jsx(As,{value:u.caloriesRate,className:"h-2"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:"Protein Goals"}),s.jsxs("span",{className:"font-medium",children:[Math.round(u.proteinRate),"%"]})]}),s.jsx(As,{value:u.proteinRate,className:"h-2"})]})]})]}),s.jsxs(me,{children:[s.jsxs(Se,{children:[s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(pa,{className:"h-5 w-5"}),"Eating Patterns"]}),s.jsx(Ye,{children:"Insights about your meal timing"})]}),s.jsxs(ye,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium text-sm",children:"Average Meal Times"}),d.avgMealTimes.map(({type:f,avgHour:h})=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"capitalize text-sm",children:f}),s.jsx("span",{className:"text-sm font-medium",children:h?dt(new Date().setHours(h,0),"h:mm a"):"No data"})]},f))]}),d.lateNightSnacks>0&&s.jsxs("div",{className:"bg-amber-50 dark:bg-amber-950 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kl,{className:"h-4 w-4 text-amber-600"}),s.jsx("span",{className:"text-sm font-medium",children:"Late Night Pattern"})]}),s.jsxs("p",{className:"text-xs text-amber-700 dark:text-amber-300 mt-1",children:[d.lateNightSnacks," late night meals recorded (10 PM - 5 AM)"]})]})]})]}),s.jsxs(me,{children:[s.jsx(Se,{children:s.jsx(Ce,{children:"Performance Insights"})}),s.jsx(ye,{children:s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[s.jsxs("p",{children:["Longest streak: ",l.longestStreak," days"]}),s.jsx("p",{className:"mt-2",children:"Keep up the great work! "})]})})]})]})}var hh=e=>e.type==="checkbox",vo=e=>e instanceof Date,Hr=e=>e==null;const U5=e=>typeof e=="object";var Kt=e=>!Hr(e)&&!Array.isArray(e)&&U5(e)&&!vo(e),V5=e=>Kt(e)&&e.target?hh(e.target)?e.target.checked:e.target.value:e,CQ=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,q5=(e,t)=>e.has(CQ(t)),_Q=e=>{const t=e.constructor&&e.constructor.prototype;return Kt(t)&&t.hasOwnProperty("isPrototypeOf")},nN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function yr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(nN&&(e instanceof Blob||n))&&(r||Kt(e)))if(t=r?[]:{},!r&&!_Q(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=yr(e[a]));else return e;return t}var Oy=e=>Array.isArray(e)?e.filter(Boolean):[],Vt=e=>e===void 0,ue=(e,t,r)=>{if(!t||!Kt(e))return r;const n=Oy(t.split(/[,[\].]+?/)).reduce((a,i)=>Hr(a)?a:a[i],e);return Vt(n)||n===e?Vt(e[t])?r:e[t]:n},xn=e=>typeof e=="boolean",aN=e=>/^\w*$/.test(e),H5=e=>Oy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ut=(e,t,r)=>{let n=-1;const a=aN(t)?[t]:H5(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=Kt(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Mp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},fa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ui={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},G5=O.createContext(null),Ey=()=>O.useContext(G5),AQ=e=>{const{children:t,...r}=e;return O.createElement(G5.Provider,{value:r},t)};var K5=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==fa.all&&(t._proxyFormState[o]=!n||fa.all),r&&(r[o]=!0),e[o]}});return a};function OQ(e){const t=Ey(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=O.useState(r._formState),c=O.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=O.useRef(a);return u.current=a,O.useEffect(()=>r._subscribe({name:u.current,formState:c.current,exact:i,callback:d=>{!n&&l({...r._formState,...d})}}),[r,n,i]),O.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),O.useMemo(()=>K5(o,r,c.current,!1),[o,r])}var za=e=>typeof e=="string",Y5=(e,t,r,n,a)=>za(e)?(n&&t.watch.add(e),ue(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),ue(r,i))):(n&&(t.watchAll=!0),r);function EQ(e){const t=Ey(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o}=e||{},l=O.useRef(n),c=O.useRef(a);l.current=n,O.useEffect(()=>r._subscribe({name:l.current,formState:{values:!0},exact:o,callback:f=>!i&&d(Y5(l.current,r._names,f.values||r._formValues,!1,c.current))}),[r,i,o]);const[u,d]=O.useState(r._getWatch(n,a));return O.useEffect(()=>r._removeUnmounted()),u}function TQ(e){const t=Ey(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i}=e,o=q5(a._names.array,r),l=EQ({control:a,name:r,defaultValue:ue(a._formValues,r,ue(a._defaultValues,r,e.defaultValue)),exact:!0}),c=OQ({control:a,name:r,exact:!0}),u=O.useRef(e),d=O.useRef(a.register(r,{...e.rules,value:l,...xn(e.disabled)?{disabled:e.disabled}:{}})),f=O.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ue(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!ue(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ue(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ue(c.validatingFields,r)},error:{enumerable:!0,get:()=>ue(c.errors,r)}}),[c,r]),h=O.useCallback(x=>d.current.onChange({target:{value:V5(x),name:r},type:Mp.CHANGE}),[r]),p=O.useCallback(()=>d.current.onBlur({target:{value:ue(a._formValues,r),name:r},type:Mp.BLUR}),[r,a._formValues]),g=O.useCallback(x=>{const v=ue(a._fields,r);v&&x&&(v._f.ref={focus:()=>x.focus(),select:()=>x.select(),setCustomValidity:b=>x.setCustomValidity(b),reportValidity:()=>x.reportValidity()})},[a._fields,r]),m=O.useMemo(()=>({name:r,value:l,...xn(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:h,onBlur:p,ref:g}),[r,n,c.disabled,h,p,g,l]);return O.useEffect(()=>{const x=a._options.shouldUnregister||i;a.register(r,{...u.current.rules,...xn(u.current.disabled)?{disabled:u.current.disabled}:{}});const v=(b,y)=>{const S=ue(a._fields,b);S&&S._f&&(S._f.mount=y)};if(v(r,!0),x){const b=yr(ue(a._options.defaultValues,r));ut(a._defaultValues,r,b),Vt(ue(a._formValues,r))&&ut(a._formValues,r,b)}return!o&&a.register(r),()=>{(o?x&&!a._state.action:x)?a.unregister(r):v(r,!1)}},[r,a,o,i]),O.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),O.useMemo(()=>({field:m,formState:c,fieldState:f}),[m,c,f])}const MQ=e=>e.render(TQ(e));var Q5=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},kd=e=>Array.isArray(e)?e:[e],V2=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Ob=e=>Hr(e)||!U5(e);function is(e,t){if(Ob(e)||Ob(t))return e===t;if(vo(e)&&vo(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const i=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=t[a];if(vo(i)&&vo(o)||Kt(i)&&Kt(o)||Array.isArray(i)&&Array.isArray(o)?!is(i,o):i!==o)return!1}}return!0}var zr=e=>Kt(e)&&!Object.keys(e).length,iN=e=>e.type==="file",ha=e=>typeof e=="function",$p=e=>{if(!nN)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},X5=e=>e.type==="select-multiple",sN=e=>e.type==="radio",$Q=e=>sN(e)||hh(e),w0=e=>$p(e)&&e.isConnected;function DQ(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Vt(e)?n++:e[t[n++]];return e}function IQ(e){for(const t in e)if(e.hasOwnProperty(t)&&!Vt(e[t]))return!1;return!0}function nr(e,t){const r=Array.isArray(t)?t:aN(t)?[t]:H5(t),n=r.length===1?e:DQ(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Kt(n)&&zr(n)||Array.isArray(n)&&IQ(n))&&nr(e,r.slice(0,-1)),e}var Z5=e=>{for(const t in e)if(ha(e[t]))return!0;return!1};function Dp(e,t={}){const r=Array.isArray(e);if(Kt(e)||r)for(const n in e)Array.isArray(e[n])||Kt(e[n])&&!Z5(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Dp(e[n],t[n])):Hr(e[n])||(t[n]=!0);return t}function J5(e,t,r){const n=Array.isArray(e);if(Kt(e)||n)for(const a in e)Array.isArray(e[a])||Kt(e[a])&&!Z5(e[a])?Vt(t)||Ob(r[a])?r[a]=Array.isArray(e[a])?Dp(e[a],[]):{...Dp(e[a])}:J5(e[a],Hr(t)?{}:t[a],r[a]):r[a]=!is(e[a],t[a]);return r}var qu=(e,t)=>J5(e,t,Dp(t));const q2={value:!1,isValid:!1},H2={value:!0,isValid:!0};var eR=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Vt(e[0].attributes.value)?Vt(e[0].value)||e[0].value===""?H2:{value:e[0].value,isValid:!0}:H2:q2}return q2},tR=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Vt(e)?e:t?e===""?NaN:e&&+e:r&&za(e)?new Date(e):n?n(e):e;const G2={isValid:!1,value:null};var rR=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,G2):G2;function K2(e){const t=e.ref;return iN(t)?t.files:sN(t)?rR(e.refs).value:X5(t)?[...t.selectedOptions].map(({value:r})=>r):hh(t)?eR(e.refs).value:tR(Vt(t.value)?e.ref.value:t.value,e)}var RQ=(e,t,r,n)=>{const a={};for(const i of e){const o=ue(t,i);o&&ut(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Ip=e=>e instanceof RegExp,Hu=e=>Vt(e)?e:Ip(e)?e.source:Kt(e)?Ip(e.value)?e.value.source:e.value:e,Y2=e=>({isOnSubmit:!e||e===fa.onSubmit,isOnBlur:e===fa.onBlur,isOnChange:e===fa.onChange,isOnAll:e===fa.all,isOnTouch:e===fa.onTouched});const Q2="AsyncFunction";var FQ=e=>!!e&&!!e.validate&&!!(ha(e.validate)&&e.validate.constructor.name===Q2||Kt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Q2)),LQ=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),X2=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Pd=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=ue(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Pd(l,t))break}else if(Kt(l)&&Pd(l,t))break}}};function Z2(e,t,r){const n=ue(e,r);if(n||aN(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=ue(t,i),l=ue(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var zQ=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return zr(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||fa.all))},BQ=(e,t,r)=>!e||!t||e===t||kd(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),WQ=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,UQ=(e,t)=>!Oy(ue(e,t)).length&&nr(e,t),VQ=(e,t,r)=>{const n=kd(ue(e,r));return ut(n,"root",t[r]),ut(e,r,n),e},Lm=e=>za(e);function J2(e,t,r="validate"){if(Lm(e)||Array.isArray(e)&&e.every(Lm)||xn(e)&&!e)return{type:r,message:Lm(e)?e:"",ref:t}}var gl=e=>Kt(e)&&!Ip(e)?e:{value:e,message:""},eP=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:g,name:m,valueAsNumber:x,mount:v}=e._f,b=ue(r,m);if(!v||t.has(m))return{};const y=l?l[0]:o,S=_=>{a&&y.reportValidity&&(y.setCustomValidity(xn(_)?"":_||""),y.reportValidity())},w={},N=sN(o),k=hh(o),P=N||k,C=(x||iN(o))&&Vt(o.value)&&Vt(b)||$p(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,M=Q5.bind(null,m,n,w),A=(_,R,L,D=ui.maxLength,$=ui.minLength)=>{const I=_?R:L;w[m]={type:_?D:$,message:I,ref:o,...M(_?D:$,I)}};if(i?!Array.isArray(b)||!b.length:c&&(!P&&(C||Hr(b))||xn(b)&&!b||k&&!eR(l).isValid||N&&!rR(l).isValid)){const{value:_,message:R}=Lm(c)?{value:!!c,message:c}:gl(c);if(_&&(w[m]={type:ui.required,message:R,ref:y,...M(ui.required,R)},!n))return S(R),w}if(!C&&(!Hr(f)||!Hr(h))){let _,R;const L=gl(h),D=gl(f);if(!Hr(b)&&!isNaN(b)){const $=o.valueAsNumber||b&&+b;Hr(L.value)||(_=$>L.value),Hr(D.value)||(R=$<D.value)}else{const $=o.valueAsDate||new Date(b),I=K=>new Date(new Date().toDateString()+" "+K),E=o.type=="time",W=o.type=="week";za(L.value)&&b&&(_=E?I(b)>I(L.value):W?b>L.value:$>new Date(L.value)),za(D.value)&&b&&(R=E?I(b)<I(D.value):W?b<D.value:$<new Date(D.value))}if((_||R)&&(A(!!_,L.message,D.message,ui.max,ui.min),!n))return S(w[m].message),w}if((u||d)&&!C&&(za(b)||i&&Array.isArray(b))){const _=gl(u),R=gl(d),L=!Hr(_.value)&&b.length>+_.value,D=!Hr(R.value)&&b.length<+R.value;if((L||D)&&(A(L,_.message,R.message),!n))return S(w[m].message),w}if(p&&!C&&za(b)){const{value:_,message:R}=gl(p);if(Ip(_)&&!b.match(_)&&(w[m]={type:ui.pattern,message:R,ref:o,...M(ui.pattern,R)},!n))return S(R),w}if(g){if(ha(g)){const _=await g(b,r),R=J2(_,y);if(R&&(w[m]={...R,...M(ui.validate,R.message)},!n))return S(R.message),w}else if(Kt(g)){let _={};for(const R in g){if(!zr(_)&&!n)break;const L=J2(await g[R](b,r),y,R);L&&(_={...L,...M(R,L.message)},S(L.message),n&&(w[m]=_))}if(!zr(_)&&(w[m]={ref:y,..._},!n))return w}}return S(!0),w};const qQ={mode:fa.onSubmit,reValidateMode:fa.onChange,shouldFocusError:!0};function HQ(e={}){let t={...qQ,...e},r={submitCount:0,isDirty:!1,isLoading:ha(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let a=Kt(t.defaultValues)||Kt(t.values)?yr(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:yr(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:V2(),state:V2()},p=Y2(t.mode),g=Y2(t.reValidateMode),m=t.criteriaMode===fa.all,x=T=>U=>{clearTimeout(u),u=setTimeout(T,U)},v=async T=>{if(!t.disabled&&(d.isValid||f.isValid||T)){const U=t.resolver?zr((await C()).errors):await A(n,!0);U!==r.isValid&&h.state.next({isValid:U})}},b=(T,U)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((T||Array.from(l.mount)).forEach(q=>{q&&(U?ut(r.validatingFields,q,U):nr(r.validatingFields,q))}),h.state.next({validatingFields:r.validatingFields,isValidating:!zr(r.validatingFields)}))},y=(T,U=[],q,oe,le=!0,re=!0)=>{if(oe&&q&&!t.disabled){if(o.action=!0,re&&Array.isArray(ue(n,T))){const je=q(ue(n,T),oe.argA,oe.argB);le&&ut(n,T,je)}if(re&&Array.isArray(ue(r.errors,T))){const je=q(ue(r.errors,T),oe.argA,oe.argB);le&&ut(r.errors,T,je),UQ(r.errors,T)}if((d.touchedFields||f.touchedFields)&&re&&Array.isArray(ue(r.touchedFields,T))){const je=q(ue(r.touchedFields,T),oe.argA,oe.argB);le&&ut(r.touchedFields,T,je)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=qu(a,i)),h.state.next({name:T,isDirty:R(T,U),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ut(i,T,U)},S=(T,U)=>{ut(r.errors,T,U),h.state.next({errors:r.errors})},w=T=>{r.errors=T,h.state.next({errors:r.errors,isValid:!1})},N=(T,U,q,oe)=>{const le=ue(n,T);if(le){const re=ue(i,T,Vt(q)?ue(a,T):q);Vt(re)||oe&&oe.defaultChecked||U?ut(i,T,U?re:K2(le._f)):$(T,re),o.mount&&v()}},k=(T,U,q,oe,le)=>{let re=!1,je=!1;const it={name:T};if(!t.disabled){if(!q||oe){(d.isDirty||f.isDirty)&&(je=r.isDirty,r.isDirty=it.isDirty=R(),re=je!==it.isDirty);const Yt=is(ue(a,T),U);je=!!ue(r.dirtyFields,T),Yt?nr(r.dirtyFields,T):ut(r.dirtyFields,T,!0),it.dirtyFields=r.dirtyFields,re=re||(d.dirtyFields||f.dirtyFields)&&je!==!Yt}if(q){const Yt=ue(r.touchedFields,T);Yt||(ut(r.touchedFields,T,q),it.touchedFields=r.touchedFields,re=re||(d.touchedFields||f.touchedFields)&&Yt!==q)}re&&le&&h.state.next(it)}return re?it:{}},P=(T,U,q,oe)=>{const le=ue(r.errors,T),re=(d.isValid||f.isValid)&&xn(U)&&r.isValid!==U;if(t.delayError&&q?(c=x(()=>S(T,q)),c(t.delayError)):(clearTimeout(u),c=null,q?ut(r.errors,T,q):nr(r.errors,T)),(q?!is(le,q):le)||!zr(oe)||re){const je={...oe,...re&&xn(U)?{isValid:U}:{},errors:r.errors,name:T};r={...r,...je},h.state.next(je)}},C=async T=>{b(T,!0);const U=await t.resolver(i,t.context,RQ(T||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return b(T),U},M=async T=>{const{errors:U}=await C(T);if(T)for(const q of T){const oe=ue(U,q);oe?ut(r.errors,q,oe):nr(r.errors,q)}else r.errors=U;return U},A=async(T,U,q={valid:!0})=>{for(const oe in T){const le=T[oe];if(le){const{_f:re,...je}=le;if(re){const it=l.array.has(re.name),Yt=le._f&&FQ(le._f);Yt&&d.validatingFields&&b([oe],!0);const Sr=await eP(le,l.disabled,i,m,t.shouldUseNativeValidation&&!U,it);if(Yt&&d.validatingFields&&b([oe]),Sr[re.name]&&(q.valid=!1,U))break;!U&&(ue(Sr,re.name)?it?VQ(r.errors,Sr,re.name):ut(r.errors,re.name,Sr[re.name]):nr(r.errors,re.name))}!zr(je)&&await A(je,U,q)}}return q.valid},_=()=>{for(const T of l.unMount){const U=ue(n,T);U&&(U._f.refs?U._f.refs.every(q=>!w0(q)):!w0(U._f.ref))&&J(T)}l.unMount=new Set},R=(T,U)=>!t.disabled&&(T&&U&&ut(i,T,U),!is(X(),a)),L=(T,U,q)=>Y5(T,l,{...o.mount?i:Vt(U)?a:za(T)?{[T]:U}:U},q,U),D=T=>Oy(ue(o.mount?i:a,T,t.shouldUnregister?ue(a,T,[]):[])),$=(T,U,q={})=>{const oe=ue(n,T);let le=U;if(oe){const re=oe._f;re&&(!re.disabled&&ut(i,T,tR(U,re)),le=$p(re.ref)&&Hr(U)?"":U,X5(re.ref)?[...re.ref.options].forEach(je=>je.selected=le.includes(je.value)):re.refs?hh(re.ref)?re.refs.length>1?re.refs.forEach(je=>(!je.defaultChecked||!je.disabled)&&(je.checked=Array.isArray(le)?!!le.find(it=>it===je.value):le===je.value)):re.refs[0]&&(re.refs[0].checked=!!le):re.refs.forEach(je=>je.checked=je.value===le):iN(re.ref)?re.ref.value="":(re.ref.value=le,re.ref.type||h.state.next({name:T,values:yr(i)})))}(q.shouldDirty||q.shouldTouch)&&k(T,le,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&Q(T)},I=(T,U,q)=>{for(const oe in U){const le=U[oe],re=`${T}.${oe}`,je=ue(n,re);(l.array.has(T)||Kt(le)||je&&!je._f)&&!vo(le)?I(re,le,q):$(re,le,q)}},E=(T,U,q={})=>{const oe=ue(n,T),le=l.array.has(T),re=yr(U);ut(i,T,re),le?(h.array.next({name:T,values:yr(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&q.shouldDirty&&h.state.next({name:T,dirtyFields:qu(a,i),isDirty:R(T,re)})):oe&&!oe._f&&!Hr(re)?I(T,re,q):$(T,re,q),X2(T,l)&&h.state.next({...r}),h.state.next({name:o.mount?T:void 0,values:yr(i)})},W=async T=>{o.mount=!0;const U=T.target;let q=U.name,oe=!0;const le=ue(n,q),re=je=>{oe=Number.isNaN(je)||vo(je)&&isNaN(je.getTime())||is(je,ue(i,q,je))};if(le){let je,it;const Yt=U.type?K2(le._f):V5(T),Sr=T.type===Mp.BLUR||T.type===Mp.FOCUS_OUT,BB=!LQ(le._f)&&!t.resolver&&!ue(r.errors,q)&&!le._f.deps||WQ(Sr,ue(r.touchedFields,q),r.isSubmitted,g,p),Cv=X2(q,l,Sr);ut(i,q,Yt),Sr?(le._f.onBlur&&le._f.onBlur(T),c&&c(0)):le._f.onChange&&le._f.onChange(T);const _v=k(q,Yt,Sr),WB=!zr(_v)||Cv;if(!Sr&&h.state.next({name:q,type:T.type,values:yr(i)}),BB)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Sr&&v():Sr||v()),WB&&h.state.next({name:q,...Cv?{}:_v});if(!Sr&&Cv&&h.state.next({...r}),t.resolver){const{errors:PS}=await C([q]);if(re(Yt),oe){const UB=Z2(r.errors,n,q),CS=Z2(PS,n,UB.name||q);je=CS.error,q=CS.name,it=zr(PS)}}else b([q],!0),je=(await eP(le,l.disabled,i,m,t.shouldUseNativeValidation))[q],b([q]),re(Yt),oe&&(je?it=!1:(d.isValid||f.isValid)&&(it=await A(n,!0)));oe&&(le._f.deps&&Q(le._f.deps),P(q,it,je,_v))}},K=(T,U)=>{if(ue(r.errors,U)&&T.focus)return T.focus(),1},Q=async(T,U={})=>{let q,oe;const le=kd(T);if(t.resolver){const re=await M(Vt(T)?T:le);q=zr(re),oe=T?!le.some(je=>ue(re,je)):q}else T?(oe=(await Promise.all(le.map(async re=>{const je=ue(n,re);return await A(je&&je._f?{[re]:je}:je)}))).every(Boolean),!(!oe&&!r.isValid)&&v()):oe=q=await A(n);return h.state.next({...!za(T)||(d.isValid||f.isValid)&&q!==r.isValid?{}:{name:T},...t.resolver||!T?{isValid:q}:{},errors:r.errors}),U.shouldFocus&&!oe&&Pd(n,K,T?le:l.mount),oe},X=T=>{const U={...o.mount?i:a};return Vt(T)?U:za(T)?ue(U,T):T.map(q=>ue(U,q))},fe=(T,U)=>({invalid:!!ue((U||r).errors,T),isDirty:!!ue((U||r).dirtyFields,T),error:ue((U||r).errors,T),isValidating:!!ue(r.validatingFields,T),isTouched:!!ue((U||r).touchedFields,T)}),Ae=T=>{T&&kd(T).forEach(U=>nr(r.errors,U)),h.state.next({errors:T?r.errors:{}})},ze=(T,U,q)=>{const oe=(ue(n,T,{_f:{}})._f||{}).ref,le=ue(r.errors,T)||{},{ref:re,message:je,type:it,...Yt}=le;ut(r.errors,T,{...Yt,...U,ref:oe}),h.state.next({name:T,errors:r.errors,isValid:!1}),q&&q.shouldFocus&&oe&&oe.focus&&oe.focus()},Re=(T,U)=>ha(T)?h.state.subscribe({next:q=>T(L(void 0,U),q)}):L(T,U,!0),ve=T=>h.state.subscribe({next:U=>{BQ(T.name,U.name,T.exact)&&zQ(U,T.formState||d,$e,T.reRenderRoot)&&T.callback({values:{...i},...r,...U})}}).unsubscribe,ke=T=>(o.mount=!0,f={...f,...T.formState},ve({...T,formState:f})),J=(T,U={})=>{for(const q of T?kd(T):l.mount)l.mount.delete(q),l.array.delete(q),U.keepValue||(nr(n,q),nr(i,q)),!U.keepError&&nr(r.errors,q),!U.keepDirty&&nr(r.dirtyFields,q),!U.keepTouched&&nr(r.touchedFields,q),!U.keepIsValidating&&nr(r.validatingFields,q),!t.shouldUnregister&&!U.keepDefaultValue&&nr(a,q);h.state.next({values:yr(i)}),h.state.next({...r,...U.keepDirty?{isDirty:R()}:{}}),!U.keepIsValid&&v()},ie=({disabled:T,name:U})=>{(xn(T)&&o.mount||T||l.disabled.has(U))&&(T?l.disabled.add(U):l.disabled.delete(U))},V=(T,U={})=>{let q=ue(n,T);const oe=xn(U.disabled)||xn(t.disabled);return ut(n,T,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:T}},name:T,mount:!0,...U}}),l.mount.add(T),q?ie({disabled:xn(U.disabled)?U.disabled:t.disabled,name:T}):N(T,!0,U.value),{...oe?{disabled:U.disabled||t.disabled}:{},...t.progressive?{required:!!U.required,min:Hu(U.min),max:Hu(U.max),minLength:Hu(U.minLength),maxLength:Hu(U.maxLength),pattern:Hu(U.pattern)}:{},name:T,onChange:W,onBlur:W,ref:le=>{if(le){V(T,U),q=ue(n,T);const re=Vt(le.value)&&le.querySelectorAll&&le.querySelectorAll("input,select,textarea")[0]||le,je=$Q(re),it=q._f.refs||[];if(je?it.find(Yt=>Yt===re):re===q._f.ref)return;ut(n,T,{_f:{...q._f,...je?{refs:[...it.filter(w0),re,...Array.isArray(ue(a,T))?[{}]:[]],ref:{type:re.type,name:T}}:{ref:re}}}),N(T,!1,void 0,re)}else q=ue(n,T,{}),q._f&&(q._f.mount=!1),(t.shouldUnregister||U.shouldUnregister)&&!(q5(l.array,T)&&o.action)&&l.unMount.add(T)}}},z=()=>t.shouldFocusError&&Pd(n,K,l.mount),se=T=>{xn(T)&&(h.state.next({disabled:T}),Pd(n,(U,q)=>{const oe=ue(n,q);oe&&(U.disabled=oe._f.disabled||T,Array.isArray(oe._f.refs)&&oe._f.refs.forEach(le=>{le.disabled=oe._f.disabled||T}))},0,!1))},H=(T,U)=>async q=>{let oe;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let le=yr(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:re,values:je}=await C();r.errors=re,le=je}else await A(n);if(l.disabled.size)for(const re of l.disabled)ut(le,re,void 0);if(nr(r.errors,"root"),zr(r.errors)){h.state.next({errors:{}});try{await T(le,q)}catch(re){oe=re}}else U&&await U({...r.errors},q),z(),setTimeout(z);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zr(r.errors)&&!oe,submitCount:r.submitCount+1,errors:r.errors}),oe)throw oe},ae=(T,U={})=>{ue(n,T)&&(Vt(U.defaultValue)?E(T,yr(ue(a,T))):(E(T,U.defaultValue),ut(a,T,yr(U.defaultValue))),U.keepTouched||nr(r.touchedFields,T),U.keepDirty||(nr(r.dirtyFields,T),r.isDirty=U.defaultValue?R(T,yr(ue(a,T))):R()),U.keepError||(nr(r.errors,T),d.isValid&&v()),h.state.next({...r}))},Ne=(T,U={})=>{const q=T?yr(T):a,oe=yr(q),le=zr(T),re=le?a:oe;if(U.keepDefaultValues||(a=q),!U.keepValues){if(U.keepDirtyValues){const je=new Set([...l.mount,...Object.keys(qu(a,i))]);for(const it of Array.from(je))ue(r.dirtyFields,it)?ut(re,it,ue(i,it)):E(it,ue(re,it))}else{if(nN&&Vt(T))for(const je of l.mount){const it=ue(n,je);if(it&&it._f){const Yt=Array.isArray(it._f.refs)?it._f.refs[0]:it._f.ref;if($p(Yt)){const Sr=Yt.closest("form");if(Sr){Sr.reset();break}}}}for(const je of l.mount)E(je,ue(re,je))}i=yr(re),h.array.next({values:{...re}}),h.state.next({values:{...re}})}l={mount:U.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!U.keepIsValid||!!U.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:U.keepSubmitCount?r.submitCount:0,isDirty:le?!1:U.keepDirty?r.isDirty:!!(U.keepDefaultValues&&!is(T,a)),isSubmitted:U.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:le?{}:U.keepDirtyValues?U.keepDefaultValues&&i?qu(a,i):r.dirtyFields:U.keepDefaultValues&&T?qu(a,T):U.keepDirty?r.dirtyFields:{},touchedFields:U.keepTouched?r.touchedFields:{},errors:U.keepErrors?r.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},G=(T,U)=>Ne(ha(T)?T(i):T,U),xe=(T,U={})=>{const q=ue(n,T),oe=q&&q._f;if(oe){const le=oe.refs?oe.refs[0]:oe.ref;le.focus&&(le.focus(),U.shouldSelect&&ha(le.select)&&le.select())}},$e=T=>{r={...r,...T}},Xe={control:{register:V,unregister:J,getFieldState:fe,handleSubmit:H,setError:ze,_subscribe:ve,_runSchema:C,_getWatch:L,_getDirty:R,_setValid:v,_setFieldArray:y,_setDisabledField:ie,_setErrors:w,_getFieldArray:D,_reset:Ne,_resetDefaultValues:()=>ha(t.defaultValues)&&t.defaultValues().then(T=>{G(T,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:_,_disableForm:se,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(T){o=T},get _defaultValues(){return a},get _names(){return l},set _names(T){l=T},get _formState(){return r},get _options(){return t},set _options(T){t={...t,...T}}},subscribe:ke,trigger:Q,register:V,handleSubmit:H,watch:Re,setValue:E,getValues:X,reset:G,resetField:ae,clearErrors:Ae,unregister:J,setError:ze,setFocus:xe,getFieldState:fe};return{...Xe,formControl:Xe}}function Ty(e={}){const t=O.useRef(void 0),r=O.useRef(void 0),[n,a]=O.useState({isDirty:!1,isValidating:!1,isLoading:ha(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ha(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:HQ(e),formState:n},e.formControl&&e.defaultValues&&!ha(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,O.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0}),[i]),O.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),O.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),O.useEffect(()=>{e.values&&!is(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),O.useEffect(()=>{e.errors&&!zr(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),O.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),O.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=K5(n,i),t.current}const tP=(e,t,r)=>{if(e&&"reportValidity"in e){const n=ue(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},nR=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?tP(n.ref,r,e):n.refs&&n.refs.forEach(a=>tP(a,r,e))}},GQ=(e,t)=>{t.shouldUseNativeValidation&&nR(e,t);const r={};for(const n in e){const a=ue(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(KQ(t.names||Object.keys(e),n)){const o=Object.assign({},ue(r,n));ut(o,"root",i),ut(r,n,o)}else ut(r,n,i)}return r},KQ=(e,t)=>e.some(r=>r.startsWith(t+"."));var YQ=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=Q5(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},My=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&nR({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:GQ(YQ(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},et;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(et||(et={}));var Eb;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Eb||(Eb={}));const ge=et.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),gi=e=>{switch(typeof e){case"undefined":return ge.undefined;case"string":return ge.string;case"number":return isNaN(e)?ge.nan:ge.number;case"boolean":return ge.boolean;case"function":return ge.function;case"bigint":return ge.bigint;case"symbol":return ge.symbol;case"object":return Array.isArray(e)?ge.array:e===null?ge.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ge.promise:typeof Map<"u"&&e instanceof Map?ge.map:typeof Set<"u"&&e instanceof Set?ge.set:typeof Date<"u"&&e instanceof Date?ge.date:ge.object;default:return ge.unknown}},ee=et.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),QQ=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class kn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof kn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,et.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}kn.create=e=>new kn(e);const Ic=(e,t)=>{let r;switch(e.code){case ee.invalid_type:e.received===ge.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ee.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,et.jsonStringifyReplacer)}`;break;case ee.unrecognized_keys:r=`Unrecognized key(s) in object: ${et.joinValues(e.keys,", ")}`;break;case ee.invalid_union:r="Invalid input";break;case ee.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${et.joinValues(e.options)}`;break;case ee.invalid_enum_value:r=`Invalid enum value. Expected ${et.joinValues(e.options)}, received '${e.received}'`;break;case ee.invalid_arguments:r="Invalid function arguments";break;case ee.invalid_return_type:r="Invalid function return type";break;case ee.invalid_date:r="Invalid date";break;case ee.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:et.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ee.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ee.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ee.custom:r="Invalid input";break;case ee.invalid_intersection_types:r="Intersection results could not be merged";break;case ee.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ee.not_finite:r="Number must be finite";break;default:r=t.defaultError,et.assertNever(e)}return{message:r}};let aR=Ic;function XQ(e){aR=e}function Rp(){return aR}const Fp=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}},ZQ=[];function de(e,t){const r=Rp(),n=Fp({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Ic?void 0:Ic].filter(a=>!!a)});e.common.issues.push(n)}class Dr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Ie;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return Dr.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return Ie;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const Ie=Object.freeze({status:"aborted"}),Il=e=>({status:"dirty",value:e}),Xr=e=>({status:"valid",value:e}),Tb=e=>e.status==="aborted",Mb=e=>e.status==="dirty",Xo=e=>e.status==="valid",rf=e=>typeof Promise<"u"&&e instanceof Promise;function Lp(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function iR(e,t,r,n,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Pe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Pe||(Pe={}));var dd,fd;class ei{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const rP=(e,t)=>{if(Xo(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new kn(e.common.issues);return this._error=r,this._error}}};function Be(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var c,u;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:l.defaultError}},description:a}}class He{get description(){return this._def.description}_getType(t){return gi(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:gi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Dr,ctx:{common:t.parent.common,data:t.data,parsedType:gi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(rf(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:gi(t)},i=this._parseSync({data:t,path:a.path,parent:a});return rP(a,i)}"~validate"(t){var r,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:gi(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:a});return Xo(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(i=>Xo(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:gi(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(rf(a)?a:Promise.resolve(a));return rP(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:ee.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Ca({schema:this,typeName:Me.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ya.create(this,this._def)}nullable(){return Us.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Na.create(this)}promise(){return Fc.create(this,this._def)}or(t){return of.create([this,t],this._def)}and(t){return lf.create(this,t,this._def)}transform(t){return new Ca({...Be(this._def),schema:this,typeName:Me.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new hf({...Be(this._def),innerType:this,defaultValue:r,typeName:Me.ZodDefault})}brand(){return new oN({typeName:Me.ZodBranded,type:this,...Be(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new mf({...Be(this._def),innerType:this,catchValue:r,typeName:Me.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return mh.create(this,t)}readonly(){return pf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const JQ=/^c[^\s-]{8,}$/i,eX=/^[0-9a-z]+$/,tX=/^[0-9A-HJKMNP-TV-Z]{26}$/i,rX=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nX=/^[a-z0-9_-]{21}$/i,aX=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,iX=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sX=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,oX="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let j0;const lX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,cX=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,uX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,dX=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fX=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,hX=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,sR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",mX=new RegExp(`^${sR}$`);function oR(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function pX(e){return new RegExp(`^${oR(e)}$`)}function lR(e){let t=`${sR}T${oR(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function gX(e,t){return!!((t==="v4"||!t)&&lX.test(e)||(t==="v6"||!t)&&uX.test(e))}function yX(e,t){if(!aX.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function vX(e,t){return!!((t==="v4"||!t)&&cX.test(e)||(t==="v6"||!t)&&dX.test(e))}class va extends He{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ge.string){const i=this._getOrReturnCtx(t);return de(i,{code:ee.invalid_type,expected:ge.string,received:i.parsedType}),Ie}const n=new Dr;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),de(a,{code:ee.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),de(a,{code:ee.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?de(a,{code:ee.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&de(a,{code:ee.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")sX.test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"email",code:ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")j0||(j0=new RegExp(oX,"u")),j0.test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"emoji",code:ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")rX.test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"uuid",code:ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")nX.test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"nanoid",code:ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")JQ.test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"cuid",code:ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")eX.test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"cuid2",code:ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")tX.test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"ulid",code:ee.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),de(a,{validation:"url",code:ee.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"regex",code:ee.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),de(a,{code:ee.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),de(a,{code:ee.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),de(a,{code:ee.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?lR(i).test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{code:ee.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?mX.test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{code:ee.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?pX(i).test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{code:ee.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?iX.test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"duration",code:ee.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?gX(t.data,i.version)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"ip",code:ee.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?yX(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"jwt",code:ee.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?vX(t.data,i.version)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"cidr",code:ee.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?fX.test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"base64",code:ee.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?hX.test(t.data)||(a=this._getOrReturnCtx(t,a),de(a,{validation:"base64url",code:ee.invalid_string,message:i.message}),n.dirty()):et.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:ee.invalid_string,...Pe.errToObj(n)})}_addCheck(t){return new va({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Pe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Pe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Pe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Pe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Pe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Pe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Pe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Pe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Pe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Pe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Pe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Pe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Pe.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Pe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Pe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Pe.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Pe.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Pe.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Pe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Pe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Pe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Pe.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Pe.errToObj(r)})}nonempty(t){return this.min(1,Pe.errToObj(t))}trim(){return new va({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new va({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new va({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}va.create=e=>{var t;return new va({checks:[],typeName:Me.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Be(e)})};function xX(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class zs extends He{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ge.number){const i=this._getOrReturnCtx(t);return de(i,{code:ee.invalid_type,expected:ge.number,received:i.parsedType}),Ie}let n;const a=new Dr;for(const i of this._def.checks)i.kind==="int"?et.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),de(n,{code:ee.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),de(n,{code:ee.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),de(n,{code:ee.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?xX(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),de(n,{code:ee.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),de(n,{code:ee.not_finite,message:i.message}),a.dirty()):et.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Pe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Pe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Pe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Pe.toString(r))}setLimit(t,r,n,a){return new zs({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Pe.toString(a)}]})}_addCheck(t){return new zs({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Pe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Pe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Pe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Pe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Pe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Pe.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Pe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Pe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Pe.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&et.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}zs.create=e=>new zs({checks:[],typeName:Me.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Be(e)});class Bs extends He{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ge.bigint)return this._getInvalidInput(t);let n;const a=new Dr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),de(n,{code:ee.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),de(n,{code:ee.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),de(n,{code:ee.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):et.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return de(r,{code:ee.invalid_type,expected:ge.bigint,received:r.parsedType}),Ie}gte(t,r){return this.setLimit("min",t,!0,Pe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Pe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Pe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Pe.toString(r))}setLimit(t,r,n,a){return new Bs({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Pe.toString(a)}]})}_addCheck(t){return new Bs({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Pe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Pe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Pe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Pe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Pe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Bs.create=e=>{var t;return new Bs({checks:[],typeName:Me.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Be(e)})};class nf extends He{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ge.boolean){const n=this._getOrReturnCtx(t);return de(n,{code:ee.invalid_type,expected:ge.boolean,received:n.parsedType}),Ie}return Xr(t.data)}}nf.create=e=>new nf({typeName:Me.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Be(e)});class Zo extends He{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ge.date){const i=this._getOrReturnCtx(t);return de(i,{code:ee.invalid_type,expected:ge.date,received:i.parsedType}),Ie}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return de(i,{code:ee.invalid_date}),Ie}const n=new Dr;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),de(a,{code:ee.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),de(a,{code:ee.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):et.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Zo({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Pe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Pe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Zo.create=e=>new Zo({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Me.ZodDate,...Be(e)});class zp extends He{_parse(t){if(this._getType(t)!==ge.symbol){const n=this._getOrReturnCtx(t);return de(n,{code:ee.invalid_type,expected:ge.symbol,received:n.parsedType}),Ie}return Xr(t.data)}}zp.create=e=>new zp({typeName:Me.ZodSymbol,...Be(e)});class af extends He{_parse(t){if(this._getType(t)!==ge.undefined){const n=this._getOrReturnCtx(t);return de(n,{code:ee.invalid_type,expected:ge.undefined,received:n.parsedType}),Ie}return Xr(t.data)}}af.create=e=>new af({typeName:Me.ZodUndefined,...Be(e)});class sf extends He{_parse(t){if(this._getType(t)!==ge.null){const n=this._getOrReturnCtx(t);return de(n,{code:ee.invalid_type,expected:ge.null,received:n.parsedType}),Ie}return Xr(t.data)}}sf.create=e=>new sf({typeName:Me.ZodNull,...Be(e)});class Rc extends He{constructor(){super(...arguments),this._any=!0}_parse(t){return Xr(t.data)}}Rc.create=e=>new Rc({typeName:Me.ZodAny,...Be(e)});class Mo extends He{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Xr(t.data)}}Mo.create=e=>new Mo({typeName:Me.ZodUnknown,...Be(e)});class Ii extends He{_parse(t){const r=this._getOrReturnCtx(t);return de(r,{code:ee.invalid_type,expected:ge.never,received:r.parsedType}),Ie}}Ii.create=e=>new Ii({typeName:Me.ZodNever,...Be(e)});class Bp extends He{_parse(t){if(this._getType(t)!==ge.undefined){const n=this._getOrReturnCtx(t);return de(n,{code:ee.invalid_type,expected:ge.void,received:n.parsedType}),Ie}return Xr(t.data)}}Bp.create=e=>new Bp({typeName:Me.ZodVoid,...Be(e)});class Na extends He{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==ge.array)return de(r,{code:ee.invalid_type,expected:ge.array,received:r.parsedType}),Ie;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(de(r,{code:o?ee.too_big:ee.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(de(r,{code:ee.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(de(r,{code:ee.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new ei(r,o,r.path,l)))).then(o=>Dr.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new ei(r,o,r.path,l)));return Dr.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Na({...this._def,minLength:{value:t,message:Pe.toString(r)}})}max(t,r){return new Na({...this._def,maxLength:{value:t,message:Pe.toString(r)}})}length(t,r){return new Na({...this._def,exactLength:{value:t,message:Pe.toString(r)}})}nonempty(t){return this.min(1,t)}}Na.create=(e,t)=>new Na({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Me.ZodArray,...Be(t)});function wl(e){if(e instanceof Tt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Ya.create(wl(n))}return new Tt({...e._def,shape:()=>t})}else return e instanceof Na?new Na({...e._def,type:wl(e.element)}):e instanceof Ya?Ya.create(wl(e.unwrap())):e instanceof Us?Us.create(wl(e.unwrap())):e instanceof ti?ti.create(e.items.map(t=>wl(t))):e}class Tt extends He{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=et.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==ge.object){const u=this._getOrReturnCtx(t);return de(u,{code:ee.invalid_type,expected:ge.object,received:u.parsedType}),Ie}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ii&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ei(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Ii){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(de(a,{code:ee.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ei(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>Dr.mergeObjectSync(n,u)):Dr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Pe.errToObj,new Tt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,i,o,l;const c=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=Pe.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Tt({...this._def,unknownKeys:"strip"})}passthrough(){return new Tt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Tt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Tt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Me.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Tt({...this._def,catchall:t})}pick(t){const r={};return et.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Tt({...this._def,shape:()=>r})}omit(t){const r={};return et.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Tt({...this._def,shape:()=>r})}deepPartial(){return wl(this)}partial(t){const r={};return et.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}),new Tt({...this._def,shape:()=>r})}required(t){const r={};return et.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Ya;)i=i._def.innerType;r[n]=i}}),new Tt({...this._def,shape:()=>r})}keyof(){return cR(et.objectKeys(this.shape))}}Tt.create=(e,t)=>new Tt({shape:()=>e,unknownKeys:"strip",catchall:Ii.create(),typeName:Me.ZodObject,...Be(t)});Tt.strictCreate=(e,t)=>new Tt({shape:()=>e,unknownKeys:"strict",catchall:Ii.create(),typeName:Me.ZodObject,...Be(t)});Tt.lazycreate=(e,t)=>new Tt({shape:e,unknownKeys:"strip",catchall:Ii.create(),typeName:Me.ZodObject,...Be(t)});class of extends He{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new kn(l.ctx.common.issues));return de(r,{code:ee.invalid_union,unionErrors:o}),Ie}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new kn(c));return de(r,{code:ee.invalid_union,unionErrors:l}),Ie}}get options(){return this._def.options}}of.create=(e,t)=>new of({options:e,typeName:Me.ZodUnion,...Be(t)});const hi=e=>e instanceof uf?hi(e.schema):e instanceof Ca?hi(e.innerType()):e instanceof df?[e.value]:e instanceof Ws?e.options:e instanceof ff?et.objectValues(e.enum):e instanceof hf?hi(e._def.innerType):e instanceof af?[void 0]:e instanceof sf?[null]:e instanceof Ya?[void 0,...hi(e.unwrap())]:e instanceof Us?[null,...hi(e.unwrap())]:e instanceof oN||e instanceof pf?hi(e.unwrap()):e instanceof mf?hi(e._def.innerType):[];class $y extends He{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ge.object)return de(r,{code:ee.invalid_type,expected:ge.object,received:r.parsedType}),Ie;const n=this.discriminator,a=r.data[n],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(de(r,{code:ee.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ie)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const a=new Map;for(const i of r){const o=hi(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new $y({typeName:Me.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...Be(n)})}}function $b(e,t){const r=gi(e),n=gi(t);if(e===t)return{valid:!0,data:e};if(r===ge.object&&n===ge.object){const a=et.objectKeys(t),i=et.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=$b(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===ge.array&&n===ge.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=$b(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===ge.date&&n===ge.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class lf extends He{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(Tb(i)||Tb(o))return Ie;const l=$b(i.value,o.value);return l.valid?((Mb(i)||Mb(o))&&r.dirty(),{status:r.value,value:l.data}):(de(n,{code:ee.invalid_intersection_types}),Ie)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}lf.create=(e,t,r)=>new lf({left:e,right:t,typeName:Me.ZodIntersection,...Be(r)});class ti extends He{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ge.array)return de(n,{code:ee.invalid_type,expected:ge.array,received:n.parsedType}),Ie;if(n.data.length<this._def.items.length)return de(n,{code:ee.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ie;!this._def.rest&&n.data.length>this._def.items.length&&(de(n,{code:ee.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ei(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Dr.mergeArray(r,o)):Dr.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new ti({...this._def,rest:t})}}ti.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ti({items:e,typeName:Me.ZodTuple,rest:null,...Be(t)})};class cf extends He{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ge.object)return de(n,{code:ee.invalid_type,expected:ge.object,received:n.parsedType}),Ie;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in n.data)a.push({key:i._parse(new ei(n,l,n.path,l)),value:o._parse(new ei(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?Dr.mergeObjectAsync(r,a):Dr.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof He?new cf({keyType:t,valueType:r,typeName:Me.ZodRecord,...Be(n)}):new cf({keyType:va.create(),valueType:t,typeName:Me.ZodRecord,...Be(r)})}}class Wp extends He{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ge.map)return de(n,{code:ee.invalid_type,expected:ge.map,received:n.parsedType}),Ie;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new ei(n,l,n.path,[u,"key"])),value:i._parse(new ei(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ie;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ie;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}Wp.create=(e,t,r)=>new Wp({valueType:t,keyType:e,typeName:Me.ZodMap,...Be(r)});class Jo extends He{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ge.set)return de(n,{code:ee.invalid_type,expected:ge.set,received:n.parsedType}),Ie;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(de(n,{code:ee.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(de(n,{code:ee.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ie;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new ei(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Jo({...this._def,minSize:{value:t,message:Pe.toString(r)}})}max(t,r){return new Jo({...this._def,maxSize:{value:t,message:Pe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Jo.create=(e,t)=>new Jo({valueType:e,minSize:null,maxSize:null,typeName:Me.ZodSet,...Be(t)});class Zl extends He{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ge.function)return de(r,{code:ee.invalid_type,expected:ge.function,received:r.parsedType}),Ie;function n(l,c){return Fp({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Rp(),Ic].filter(u=>!!u),issueData:{code:ee.invalid_arguments,argumentsError:c}})}function a(l,c){return Fp({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Rp(),Ic].filter(u=>!!u),issueData:{code:ee.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Fc){const l=this;return Xr(async function(...c){const u=new kn([]),d=await l._def.args.parseAsync(c,i).catch(p=>{throw u.addIssue(n(c,p)),u}),f=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(f,i).catch(p=>{throw u.addIssue(a(f,p)),u})})}else{const l=this;return Xr(function(...c){const u=l._def.args.safeParse(c,i);if(!u.success)throw new kn([n(c,u.error)]);const d=Reflect.apply(o,this,u.data),f=l._def.returns.safeParse(d,i);if(!f.success)throw new kn([a(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Zl({...this._def,args:ti.create(t).rest(Mo.create())})}returns(t){return new Zl({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Zl({args:t||ti.create([]).rest(Mo.create()),returns:r||Mo.create(),typeName:Me.ZodFunction,...Be(n)})}}class uf extends He{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}uf.create=(e,t)=>new uf({getter:e,typeName:Me.ZodLazy,...Be(t)});class df extends He{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return de(r,{received:r.data,code:ee.invalid_literal,expected:this._def.value}),Ie}return{status:"valid",value:t.data}}get value(){return this._def.value}}df.create=(e,t)=>new df({value:e,typeName:Me.ZodLiteral,...Be(t)});function cR(e,t){return new Ws({values:e,typeName:Me.ZodEnum,...Be(t)})}class Ws extends He{constructor(){super(...arguments),dd.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return de(r,{expected:et.joinValues(n),received:r.parsedType,code:ee.invalid_type}),Ie}if(Lp(this,dd)||iR(this,dd,new Set(this._def.values)),!Lp(this,dd).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return de(r,{received:r.data,code:ee.invalid_enum_value,options:n}),Ie}return Xr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Ws.create(t,{...this._def,...r})}exclude(t,r=this._def){return Ws.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}dd=new WeakMap;Ws.create=cR;class ff extends He{constructor(){super(...arguments),fd.set(this,void 0)}_parse(t){const r=et.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ge.string&&n.parsedType!==ge.number){const a=et.objectValues(r);return de(n,{expected:et.joinValues(a),received:n.parsedType,code:ee.invalid_type}),Ie}if(Lp(this,fd)||iR(this,fd,new Set(et.getValidEnumValues(this._def.values))),!Lp(this,fd).has(t.data)){const a=et.objectValues(r);return de(n,{received:n.data,code:ee.invalid_enum_value,options:a}),Ie}return Xr(t.data)}get enum(){return this._def.values}}fd=new WeakMap;ff.create=(e,t)=>new ff({values:e,typeName:Me.ZodNativeEnum,...Be(t)});class Fc extends He{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ge.promise&&r.common.async===!1)return de(r,{code:ee.invalid_type,expected:ge.promise,received:r.parsedType}),Ie;const n=r.parsedType===ge.promise?r.data:Promise.resolve(r.data);return Xr(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Fc.create=(e,t)=>new Fc({type:e,typeName:Me.ZodPromise,...Be(t)});class Ca extends He{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Me.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{de(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ie;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ie:c.status==="dirty"||r.value==="dirty"?Il(c.value):c});{if(r.value==="aborted")return Ie;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ie:l.status==="dirty"||r.value==="dirty"?Il(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ie:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ie:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Xo(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Xo(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);et.assertNever(a)}}Ca.create=(e,t,r)=>new Ca({schema:e,typeName:Me.ZodEffects,effect:t,...Be(r)});Ca.createWithPreprocess=(e,t,r)=>new Ca({schema:t,effect:{type:"preprocess",transform:e},typeName:Me.ZodEffects,...Be(r)});class Ya extends He{_parse(t){return this._getType(t)===ge.undefined?Xr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ya.create=(e,t)=>new Ya({innerType:e,typeName:Me.ZodOptional,...Be(t)});class Us extends He{_parse(t){return this._getType(t)===ge.null?Xr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Us.create=(e,t)=>new Us({innerType:e,typeName:Me.ZodNullable,...Be(t)});class hf extends He{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ge.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}hf.create=(e,t)=>new hf({innerType:e,typeName:Me.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Be(t)});class mf extends He{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return rf(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new kn(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new kn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}mf.create=(e,t)=>new mf({innerType:e,typeName:Me.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Be(t)});class Up extends He{_parse(t){if(this._getType(t)!==ge.nan){const n=this._getOrReturnCtx(t);return de(n,{code:ee.invalid_type,expected:ge.nan,received:n.parsedType}),Ie}return{status:"valid",value:t.data}}}Up.create=e=>new Up({typeName:Me.ZodNaN,...Be(e)});const bX=Symbol("zod_brand");class oN extends He{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class mh extends He{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ie:i.status==="dirty"?(r.dirty(),Il(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ie:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new mh({in:t,out:r,typeName:Me.ZodPipeline})}}class pf extends He{_parse(t){const r=this._def.innerType._parse(t),n=a=>(Xo(a)&&(a.value=Object.freeze(a.value)),a);return rf(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}pf.create=(e,t)=>new pf({innerType:e,typeName:Me.ZodReadonly,...Be(t)});function nP(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function uR(e,t={},r){return e?Rc.create().superRefine((n,a)=>{var i,o;const l=e(n);if(l instanceof Promise)return l.then(c=>{var u,d;if(!c){const f=nP(t,n),h=(d=(u=f.fatal)!==null&&u!==void 0?u:r)!==null&&d!==void 0?d:!0;a.addIssue({code:"custom",...f,fatal:h})}});if(!l){const c=nP(t,n),u=(o=(i=c.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0;a.addIssue({code:"custom",...c,fatal:u})}}):Rc.create()}const wX={object:Tt.lazycreate};var Me;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Me||(Me={}));const jX=(e,t={message:`Input not instance of ${e.name}`})=>uR(r=>r instanceof e,t),dR=va.create,fR=zs.create,NX=Up.create,SX=Bs.create,hR=nf.create,kX=Zo.create,PX=zp.create,CX=af.create,_X=sf.create,AX=Rc.create,OX=Mo.create,EX=Ii.create,TX=Bp.create,MX=Na.create,$X=Tt.create,DX=Tt.strictCreate,IX=of.create,RX=$y.create,FX=lf.create,LX=ti.create,zX=cf.create,BX=Wp.create,WX=Jo.create,UX=Zl.create,VX=uf.create,qX=df.create,HX=Ws.create,GX=ff.create,KX=Fc.create,aP=Ca.create,YX=Ya.create,QX=Us.create,XX=Ca.createWithPreprocess,ZX=mh.create,JX=()=>dR().optional(),eZ=()=>fR().optional(),tZ=()=>hR().optional(),rZ={string:e=>va.create({...e,coerce:!0}),number:e=>zs.create({...e,coerce:!0}),boolean:e=>nf.create({...e,coerce:!0}),bigint:e=>Bs.create({...e,coerce:!0}),date:e=>Zo.create({...e,coerce:!0})},nZ=Ie;var _e=Object.freeze({__proto__:null,defaultErrorMap:Ic,setErrorMap:XQ,getErrorMap:Rp,makeIssue:Fp,EMPTY_PATH:ZQ,addIssueToContext:de,ParseStatus:Dr,INVALID:Ie,DIRTY:Il,OK:Xr,isAborted:Tb,isDirty:Mb,isValid:Xo,isAsync:rf,get util(){return et},get objectUtil(){return Eb},ZodParsedType:ge,getParsedType:gi,ZodType:He,datetimeRegex:lR,ZodString:va,ZodNumber:zs,ZodBigInt:Bs,ZodBoolean:nf,ZodDate:Zo,ZodSymbol:zp,ZodUndefined:af,ZodNull:sf,ZodAny:Rc,ZodUnknown:Mo,ZodNever:Ii,ZodVoid:Bp,ZodArray:Na,ZodObject:Tt,ZodUnion:of,ZodDiscriminatedUnion:$y,ZodIntersection:lf,ZodTuple:ti,ZodRecord:cf,ZodMap:Wp,ZodSet:Jo,ZodFunction:Zl,ZodLazy:uf,ZodLiteral:df,ZodEnum:Ws,ZodNativeEnum:ff,ZodPromise:Fc,ZodEffects:Ca,ZodTransformer:Ca,ZodOptional:Ya,ZodNullable:Us,ZodDefault:hf,ZodCatch:mf,ZodNaN:Up,BRAND:bX,ZodBranded:oN,ZodPipeline:mh,ZodReadonly:pf,custom:uR,Schema:He,ZodSchema:He,late:wX,get ZodFirstPartyTypeKind(){return Me},coerce:rZ,any:AX,array:MX,bigint:SX,boolean:hR,date:kX,discriminatedUnion:RX,effect:aP,enum:HX,function:UX,instanceof:jX,intersection:FX,lazy:VX,literal:qX,map:BX,nan:NX,nativeEnum:GX,never:EX,null:_X,nullable:QX,number:fR,object:$X,oboolean:tZ,onumber:eZ,optional:YX,ostring:JX,pipeline:ZX,preprocess:XX,promise:KX,record:zX,set:WX,strictObject:DX,string:dR,symbol:PX,transformer:aP,tuple:LX,undefined:CX,union:IX,unknown:OX,void:TX,NEVER:nZ,ZodIssueCode:ee,quotelessJson:QQ,ZodError:kn});const Z=Symbol.for("drizzle:entityKind");function Xt(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,Z))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(e).constructor;if(r)for(;r;){if(Z in r&&r[Z]===t[Z])return!0;r=Object.getPrototypeOf(r)}return!1}var pO;pO=Z;class Lc{constructor(t,r){B(this,"name");B(this,"keyAsName");B(this,"primary");B(this,"notNull");B(this,"default");B(this,"defaultFn");B(this,"onUpdateFn");B(this,"hasDefault");B(this,"isUnique");B(this,"uniqueName");B(this,"uniqueType");B(this,"dataType");B(this,"columnType");B(this,"enumValues");B(this,"generated");B(this,"generatedIdentity");B(this,"config");this.table=t,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}B(Lc,pO,"Column");var gO;gO=Z;class mR{constructor(t,r,n){B(this,"config");B(this,"$default",this.$defaultFn);B(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}B(mR,gO,"ColumnBuilder");const Jl=Symbol.for("drizzle:Name");var yO;yO=Z;class pR{constructor(t,r){B(this,"reference");B(this,"_onUpdate","no action");B(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:a,foreignColumns:i}=t();return{name:n,columns:a,foreignTable:i[0].table,foreignColumns:i}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new gR(t,this)}}B(pR,yO,"PgForeignKeyBuilder");var vO;vO=Z;class gR{constructor(t,r){B(this,"reference");B(this,"onUpdate");B(this,"onDelete");this.table=t,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:t,columns:r,foreignColumns:n}=this.reference(),a=r.map(l=>l.name),i=n.map(l=>l.name),o=[this.table[Jl],...a,n[0].table[Jl],...i];return t??`${o.join("_")}_fk`}}B(gR,vO,"PgForeignKey");function aZ(e,...t){return e(...t)}function iZ(e,t){return`${e[Jl]}_${t.join("_")}_unique`}function iP(e,t,r){for(let n=t;n<e.length;n++){const a=e[n];if(a==="\\"){n++;continue}if(a==='"')return[e.slice(t,n).replace(/\\/g,""),n+1];if(!r&&(a===","||a==="}"))return[e.slice(t,n).replace(/\\/g,""),n]}return[e.slice(t).replace(/\\/g,""),e.length]}function yR(e,t=0){const r=[];let n=t,a=!1;for(;n<e.length;){const i=e[n];if(i===","){(a||n===t)&&r.push(""),a=!0,n++;continue}if(a=!1,i==="\\"){n+=2;continue}if(i==='"'){const[c,u]=iP(e,n+1,!0);r.push(c),n=u;continue}if(i==="}")return[r,n+1];if(i==="{"){const[c,u]=yR(e,n+1);r.push(c),n=u;continue}const[o,l]=iP(e,n,!1);r.push(o),n=l}return[r,n]}function sZ(e){const[t]=yR(e,1);return t}function vR(e){return`{${e.map(t=>Array.isArray(t)?vR(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var xO,bO;class rt extends(bO=mR,xO=Z,bO){constructor(){super(...arguments);B(this,"foreignKeyConfigs",[])}array(r){return new bR(this.config.name,this,r)}references(r,n={}){return this.foreignKeyConfigs.push({ref:r,actions:n}),this}unique(r,n){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=n==null?void 0:n.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,n){return this.foreignKeyConfigs.map(({ref:a,actions:i})=>aZ((o,l)=>{const c=new pR(()=>{const u=o();return{columns:[r],foreignColumns:[u]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(n)},a,i))}buildExtraConfigColumn(r){return new xR(r,this.config)}}B(rt,xO,"PgColumnBuilder");var wO,jO;class We extends(jO=Lc,wO=Z,jO){constructor(t,r){r.uniqueName||(r.uniqueName=iZ(t,[r.name])),super(t,r),this.table=t}}B(We,wO,"PgColumn");var NO,SO;class xR extends(SO=We,NO=Z,SO){constructor(){super(...arguments);B(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});B(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}B(xR,NO,"ExtraConfigColumn");var kO;kO=Z;class zm{constructor(t,r,n,a){B(this,"name");B(this,"keyAsName");B(this,"type");B(this,"indexConfig");this.name=t,this.keyAsName=r,this.type=n,this.indexConfig=a}}B(zm,kO,"IndexedColumn");var PO,CO;class bR extends(CO=rt,PO=Z,CO){constructor(t,r,n){super(t,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(t){const r=this.config.baseBuilder.build(t);return new Db(t,this.config,r)}}B(bR,PO,"PgArrayBuilder");var _O,AO;const Kg=class Kg extends(AO=We,_O=Z,AO){constructor(r,n,a,i){super(r,n);B(this,"size");this.baseColumn=a,this.range=i,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=sZ(r)),r.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(r,n=!1){const a=r.map(i=>i===null?null:Xt(this.baseColumn,Kg)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return n?a:vR(a)}};B(Kg,_O,"PgArray");let Db=Kg;const sP=Symbol.for("drizzle:isPgEnum");function oZ(e){return!!e&&typeof e=="function"&&sP in e&&e[sP]===!0}var OO;OO=Z;class lN{constructor(t,r,n,a=!1){this._={brand:"Subquery",sql:t,selectedFields:r,alias:n,isWith:a}}}B(lN,OO,"Subquery");const lZ={startActiveSpan(e,t){return t()}},ec=Symbol.for("drizzle:ViewBaseConfig"),N0=Symbol.for("drizzle:Schema"),oP=Symbol.for("drizzle:Columns"),lP=Symbol.for("drizzle:ExtraConfigColumns"),S0=Symbol.for("drizzle:OriginalName"),k0=Symbol.for("drizzle:BaseName"),Vp=Symbol.for("drizzle:IsAlias"),cP=Symbol.for("drizzle:ExtraConfigBuilder"),wR=Symbol.for("drizzle:IsDrizzleTable");var EO,TO,MO,$O,DO,IO,RO,FO,LO,zO;zO=Z,LO=Jl,FO=S0,RO=N0,IO=oP,DO=lP,$O=k0,MO=Vp,TO=wR,EO=cP;class Gr{constructor(t,r,n){B(this,LO);B(this,FO);B(this,RO);B(this,IO);B(this,DO);B(this,$O);B(this,MO,!1);B(this,TO,!0);B(this,EO);this[Jl]=this[S0]=t,this[N0]=r,this[k0]=n}}B(Gr,zO,"Table"),B(Gr,"Symbol",{Name:Jl,Schema:N0,OriginalName:S0,Columns:oP,ExtraConfigColumns:lP,BaseName:k0,IsAlias:Vp,ExtraConfigBuilder:cP});function jR(e){return typeof e=="object"&&e!==null&&wR in e}function cZ(e){return e!=null&&typeof e.getSQL=="function"}function uZ(e){var r;const t={sql:"",params:[]};for(const n of e)t.sql+=n.sql,t.params.push(...n.params),(r=n.typings)!=null&&r.length&&(t.typings||(t.typings=[]),t.typings.push(...n.typings));return t}var BO;BO=Z;class Rn{constructor(t){B(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new Wt([this])}}B(Rn,BO,"StringChunk");var WO;WO=Z;const mo=class mo{constructor(t){B(this,"decoder",NR);B(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return lZ.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,t);return r==null||r.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(t,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:a,escapeName:i,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:u}=n;return uZ(t.map(d=>{var f;if(Xt(d,Rn))return{sql:d.value.join(""),params:[]};if(Xt(d,qp))return{sql:i(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const h=[new Rn("(")];for(const[p,g]of d.entries())h.push(g),p<d.length-1&&h.push(new Rn(", "));return h.push(new Rn(")")),this.buildQueryFromSourceParams(h,n)}if(Xt(d,mo))return this.buildQueryFromSourceParams(d.queryChunks,{...n,inlineParams:c||d.shouldInlineParams});if(Xt(d,Gr)){const h=d[Gr.Symbol.Schema],p=d[Gr.Symbol.Name];return{sql:h===void 0||d[Vp]?i(p):i(h)+"."+i(p),params:[]}}if(Xt(d,Lc)){const h=a.getColumnCasing(d);if(r.invokeSource==="indexes")return{sql:i(h),params:[]};const p=d.table[Gr.Symbol.Schema];return{sql:d.table[Vp]||p===void 0?i(d.table[Gr.Symbol.Name])+"."+i(h):i(p)+"."+i(d.table[Gr.Symbol.Name])+"."+i(h),params:[]}}if(Xt(d,PR)){const h=d[ec].schema,p=d[ec].name;return{sql:h===void 0||d[ec].isAlias?i(p):i(h)+"."+i(p),params:[]}}if(Xt(d,cN)){if(Xt(d.value,Hp))return{sql:o(u.value++,d),params:[d],typings:["none"]};const h=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(Xt(h,mo))return this.buildQueryFromSourceParams([h],n);if(c)return{sql:this.mapInlineParam(h,n),params:[]};let p=["none"];return l&&(p=[l(d.encoder)]),{sql:o(u.value++,h),params:[h],typings:p}}return Xt(d,Hp)?{sql:o(u.value++,d),params:[d],typings:["none"]}:Xt(d,mo.Aliased)&&d.fieldAlias!==void 0?{sql:i(d.fieldAlias),params:[]}:Xt(d,lN)?d._.isWith?{sql:i(d._.alias),params:[]}:this.buildQueryFromSourceParams([new Rn("("),d._.sql,new Rn(") "),new qp(d._.alias)],n):oZ(d)?d.schema?{sql:i(d.schema)+"."+i(d.enumName),params:[]}:{sql:i(d.enumName),params:[]}:cZ(d)?(f=d.shouldOmitSQLParens)!=null&&f.call(d)?this.buildQueryFromSourceParams([d.getSQL()],n):this.buildQueryFromSourceParams([new Rn("("),d.getSQL(),new Rn(")")],n):c?{sql:this.mapInlineParam(d,n),params:[]}:{sql:o(u.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(t,{escapeString:r}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return r(t);if(typeof t=="object"){const n=t.toString();return r(n==="[object Object]"?JSON.stringify(t):n)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new mo.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};B(mo,WO,"SQL");let Wt=mo;var UO;UO=Z;class qp{constructor(t){B(this,"brand");this.value=t}getSQL(){return new Wt([this])}}B(qp,UO,"Name");const NR={mapFromDriverValue:e=>e},SR={mapToDriverValue:e=>e};({...NR,...SR});var VO;VO=Z;class cN{constructor(t,r=SR){B(this,"brand");this.value=t,this.encoder=r}getSQL(){return new Wt([this])}}B(cN,VO,"Param");function Cn(e,...t){const r=[];(t.length>0||e.length>0&&e[0]!=="")&&r.push(new Rn(e[0]));for(const[n,a]of t.entries())r.push(a,new Rn(e[n+1]));return new Wt(r)}(e=>{function t(){return new Wt([])}e.empty=t;function r(c){return new Wt(c)}e.fromList=r;function n(c){return new Wt([new Rn(c)])}e.raw=n;function a(c,u){const d=[];for(const[f,h]of c.entries())f>0&&u!==void 0&&d.push(u),d.push(h);return new Wt(d)}e.join=a;function i(c){return new qp(c)}e.identifier=i;function o(c){return new Hp(c)}e.placeholder=o;function l(c,u){return new cN(c,u)}e.param=l})(Cn||(Cn={}));(e=>{var r;r=Z;const n=class n{constructor(i,o){B(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};B(n,r,"SQL.Aliased");let t=n;e.Aliased=t})(Wt||(Wt={}));var qO;qO=Z;class Hp{constructor(t){this.name=t}getSQL(){return new Wt([this])}}B(Hp,qO,"Placeholder");const kR=Symbol.for("drizzle:IsDrizzleView");var HO,GO,KO;KO=Z,GO=ec,HO=kR;class PR{constructor({name:t,schema:r,selectedFields:n,query:a}){B(this,GO);B(this,HO,!0);this[ec]={name:t,originalName:t,schema:r,selectedFields:n,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new Wt([this])}}B(PR,KO,"View");function dZ(e){return typeof e=="object"&&e!==null&&kR in e}Lc.prototype.getSQL=function(){return new Wt([this])};Gr.prototype.getSQL=function(){return new Wt([this])};lN.prototype.getSQL=function(){return new Wt([this])};function fZ(e){return e[Gr.Symbol.Columns]}function hZ(e){return e[ec].selectedFields}function pr(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var YO,QO;class ph extends(QO=rt,YO=Z,QO){generatedAlwaysAsIdentity(t){if(t){const{name:r,...n}=t;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:r,...n}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}B(ph,YO,"PgIntColumnBaseBuilder");var XO,ZO;class CR extends(ZO=ph,XO=Z,ZO){constructor(t){super(t,"number","PgBigInt53")}build(t){return new _R(t,this.config)}}B(CR,XO,"PgBigInt53Builder");var JO,eE;class _R extends(eE=We,JO=Z,eE){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}B(_R,JO,"PgBigInt53");var tE,rE;class AR extends(rE=ph,tE=Z,rE){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new OR(t,this.config)}}B(AR,tE,"PgBigInt64Builder");var nE,aE;class OR extends(aE=We,nE=Z,aE){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}B(OR,nE,"PgBigInt64");function mZ(e,t){const{name:r,config:n}=pr(e,t);return n.mode==="number"?new CR(r):new AR(r)}var iE,sE;class ER extends(sE=rt,iE=Z,sE){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new TR(t,this.config)}}B(ER,iE,"PgBigSerial53Builder");var oE,lE;class TR extends(lE=We,oE=Z,lE){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}B(TR,oE,"PgBigSerial53");var cE,uE;class MR extends(uE=rt,cE=Z,uE){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new $R(t,this.config)}}B(MR,cE,"PgBigSerial64Builder");var dE,fE;class $R extends(fE=We,dE=Z,fE){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}B($R,dE,"PgBigSerial64");function pZ(e,t){const{name:r,config:n}=pr(e,t);return n.mode==="number"?new ER(r):new MR(r)}var hE,mE;class DR extends(mE=rt,hE=Z,mE){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new IR(t,this.config)}}B(DR,hE,"PgBooleanBuilder");var pE,gE;class IR extends(gE=We,pE=Z,gE){getSQLType(){return"boolean"}}B(IR,pE,"PgBoolean");function gZ(e){return new DR(e??"")}var yE,vE;class RR extends(vE=rt,yE=Z,vE){constructor(t,r){super(t,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new FR(t,this.config)}}B(RR,yE,"PgCharBuilder");var xE,bE;class FR extends(bE=We,xE=Z,bE){constructor(){super(...arguments);B(this,"length",this.config.length);B(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}B(FR,xE,"PgChar");function yZ(e,t={}){const{name:r,config:n}=pr(e,t);return new RR(r,n)}var wE,jE;class LR extends(jE=rt,wE=Z,jE){constructor(t){super(t,"string","PgCidr")}build(t){return new zR(t,this.config)}}B(LR,wE,"PgCidrBuilder");var NE,SE;class zR extends(SE=We,NE=Z,SE){getSQLType(){return"cidr"}}B(zR,NE,"PgCidr");function vZ(e){return new LR(e??"")}var kE,PE;class BR extends(PE=rt,kE=Z,PE){constructor(t,r,n){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(t){return new WR(t,this.config)}}B(BR,kE,"PgCustomColumnBuilder");var CE,_E;class WR extends(_E=We,CE=Z,_E){constructor(r,n){super(r,n);B(this,"sqlName");B(this,"mapTo");B(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}B(WR,CE,"PgCustomColumn");function xZ(e){return(t,r)=>{const{name:n,config:a}=pr(t,r);return new BR(n,a,e)}}var AE,OE;class xu extends(OE=rt,AE=Z,OE){defaultNow(){return this.default(Cn`now()`)}}B(xu,AE,"PgDateColumnBaseBuilder");var EE,TE;class UR extends(TE=xu,EE=Z,TE){constructor(t){super(t,"date","PgDate")}build(t){return new VR(t,this.config)}}B(UR,EE,"PgDateBuilder");var ME,$E;class VR extends($E=We,ME=Z,$E){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}B(VR,ME,"PgDate");var DE,IE;class qR extends(IE=xu,DE=Z,IE){constructor(t){super(t,"string","PgDateString")}build(t){return new HR(t,this.config)}}B(qR,DE,"PgDateStringBuilder");var RE,FE;class HR extends(FE=We,RE=Z,FE){getSQLType(){return"date"}}B(HR,RE,"PgDateString");function bZ(e,t){const{name:r,config:n}=pr(e,t);return(n==null?void 0:n.mode)==="date"?new UR(r):new qR(r)}var LE,zE;class GR extends(zE=rt,LE=Z,zE){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new KR(t,this.config)}}B(GR,LE,"PgDoublePrecisionBuilder");var BE,WE;class KR extends(WE=We,BE=Z,WE){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}B(KR,BE,"PgDoublePrecision");function wZ(e){return new GR(e??"")}var UE,VE;class YR extends(VE=rt,UE=Z,VE){constructor(t){super(t,"string","PgInet")}build(t){return new QR(t,this.config)}}B(YR,UE,"PgInetBuilder");var qE,HE;class QR extends(HE=We,qE=Z,HE){getSQLType(){return"inet"}}B(QR,qE,"PgInet");function jZ(e){return new YR(e??"")}var GE,KE;class XR extends(KE=ph,GE=Z,KE){constructor(t){super(t,"number","PgInteger")}build(t){return new ZR(t,this.config)}}B(XR,GE,"PgIntegerBuilder");var YE,QE;class ZR extends(QE=We,YE=Z,QE){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}B(ZR,YE,"PgInteger");function At(e){return new XR(e??"")}var XE,ZE;class JR extends(ZE=rt,XE=Z,ZE){constructor(t,r){super(t,"string","PgInterval"),this.config.intervalConfig=r}build(t){return new e6(t,this.config)}}B(JR,XE,"PgIntervalBuilder");var JE,eT;class e6 extends(eT=We,JE=Z,eT){constructor(){super(...arguments);B(this,"fields",this.config.intervalConfig.fields);B(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${r}${n}`}}B(e6,JE,"PgInterval");function NZ(e,t={}){const{name:r,config:n}=pr(e,t);return new JR(r,n)}var tT,rT;class t6 extends(rT=rt,tT=Z,rT){constructor(t){super(t,"json","PgJson")}build(t){return new r6(t,this.config)}}B(t6,tT,"PgJsonBuilder");var nT,aT;class r6 extends(aT=We,nT=Z,aT){constructor(t,r){super(t,r)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}B(r6,nT,"PgJson");function SZ(e){return new t6(e??"")}var iT,sT;class n6 extends(sT=rt,iT=Z,sT){constructor(t){super(t,"json","PgJsonb")}build(t){return new a6(t,this.config)}}B(n6,iT,"PgJsonbBuilder");var oT,lT;class a6 extends(lT=We,oT=Z,lT){constructor(t,r){super(t,r)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}B(a6,oT,"PgJsonb");function tc(e){return new n6(e??"")}var cT,uT;class i6 extends(uT=rt,cT=Z,uT){constructor(t){super(t,"array","PgLine")}build(t){return new s6(t,this.config)}}B(i6,cT,"PgLineBuilder");var dT,fT;class s6 extends(fT=We,dT=Z,fT){getSQLType(){return"line"}mapFromDriverValue(t){const[r,n,a]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(a)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}B(s6,dT,"PgLine");var hT,mT;class o6 extends(mT=rt,hT=Z,mT){constructor(t){super(t,"json","PgLineABC")}build(t){return new l6(t,this.config)}}B(o6,hT,"PgLineABCBuilder");var pT,gT;class l6 extends(gT=We,pT=Z,gT){getSQLType(){return"line"}mapFromDriverValue(t){const[r,n,a]=t.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(a)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}B(l6,pT,"PgLineABC");function kZ(e,t){const{name:r,config:n}=pr(e,t);return!(n!=null&&n.mode)||n.mode==="tuple"?new i6(r):new o6(r)}var yT,vT;class c6 extends(vT=rt,yT=Z,vT){constructor(t){super(t,"string","PgMacaddr")}build(t){return new u6(t,this.config)}}B(c6,yT,"PgMacaddrBuilder");var xT,bT;class u6 extends(bT=We,xT=Z,bT){getSQLType(){return"macaddr"}}B(u6,xT,"PgMacaddr");function PZ(e){return new c6(e??"")}var wT,jT;class d6 extends(jT=rt,wT=Z,jT){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new f6(t,this.config)}}B(d6,wT,"PgMacaddr8Builder");var NT,ST;class f6 extends(ST=We,NT=Z,ST){getSQLType(){return"macaddr8"}}B(f6,NT,"PgMacaddr8");function CZ(e){return new d6(e??"")}var kT,PT;class h6 extends(PT=rt,kT=Z,PT){constructor(t,r,n){super(t,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(t){return new m6(t,this.config)}}B(h6,kT,"PgNumericBuilder");var CT,_T;class m6 extends(_T=We,CT=Z,_T){constructor(r,n){super(r,n);B(this,"precision");B(this,"scale");this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}B(m6,CT,"PgNumeric");function _Z(e,t){const{name:r,config:n}=pr(e,t);return new h6(r,n==null?void 0:n.precision,n==null?void 0:n.scale)}var AT,OT;class p6 extends(OT=rt,AT=Z,OT){constructor(t){super(t,"array","PgPointTuple")}build(t){return new g6(t,this.config)}}B(p6,AT,"PgPointTupleBuilder");var ET,TT;class g6 extends(TT=We,ET=Z,TT){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,n]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}B(g6,ET,"PgPointTuple");var MT,$T;class y6 extends($T=rt,MT=Z,$T){constructor(t){super(t,"json","PgPointObject")}build(t){return new v6(t,this.config)}}B(y6,MT,"PgPointObjectBuilder");var DT,IT;class v6 extends(IT=We,DT=Z,IT){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,n]=t.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}B(v6,DT,"PgPointObject");function AZ(e,t){const{name:r,config:n}=pr(e,t);return!(n!=null&&n.mode)||n.mode==="tuple"?new p6(r):new y6(r)}function OZ(e){const t=[];for(let r=0;r<e.length;r+=2)t.push(Number.parseInt(e.slice(r,r+2),16));return new Uint8Array(t)}function uP(e,t){const r=new ArrayBuffer(8),n=new DataView(r);for(let a=0;a<8;a++)n.setUint8(a,e[t+a]);return n.getFloat64(0,!0)}function x6(e){const t=OZ(e);let r=0;const n=t[r];r+=1;const a=new DataView(t.buffer),i=a.getUint32(r,n===1);if(r+=4,i&536870912&&(a.getUint32(r,n===1),r+=4),(i&65535)===1){const o=uP(t,r);r+=8;const l=uP(t,r);return r+=8,[o,l]}throw new Error("Unsupported geometry type")}var RT,FT;class b6 extends(FT=rt,RT=Z,FT){constructor(t){super(t,"array","PgGeometry")}build(t){return new w6(t,this.config)}}B(b6,RT,"PgGeometryBuilder");var LT,zT;class w6 extends(zT=We,LT=Z,zT){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return x6(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}B(w6,LT,"PgGeometry");var BT,WT;class j6 extends(WT=rt,BT=Z,WT){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new N6(t,this.config)}}B(j6,BT,"PgGeometryObjectBuilder");var UT,VT;class N6 extends(VT=We,UT=Z,VT){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const r=x6(t);return{x:r[0],y:r[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}B(N6,UT,"PgGeometryObject");function EZ(e,t){const{name:r,config:n}=pr(e,t);return!(n!=null&&n.mode)||n.mode==="tuple"?new b6(r):new j6(r)}var qT,HT;class S6 extends(HT=rt,qT=Z,HT){constructor(t,r){super(t,"number","PgReal"),this.config.length=r}build(t){return new k6(t,this.config)}}B(S6,qT,"PgRealBuilder");var GT,KT;class k6 extends(KT=We,GT=Z,KT){constructor(r,n){super(r,n);B(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}B(k6,GT,"PgReal");function TZ(e){return new S6(e??"")}var YT,QT;class P6 extends(QT=rt,YT=Z,QT){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new C6(t,this.config)}}B(P6,YT,"PgSerialBuilder");var XT,ZT;class C6 extends(ZT=We,XT=Z,ZT){getSQLType(){return"serial"}}B(C6,XT,"PgSerial");function MZ(e){return new P6(e??"")}var JT,eM;class _6 extends(eM=ph,JT=Z,eM){constructor(t){super(t,"number","PgSmallInt")}build(t){return new A6(t,this.config)}}B(_6,JT,"PgSmallIntBuilder");var tM,rM;class A6 extends(rM=We,tM=Z,rM){constructor(){super(...arguments);B(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}B(A6,tM,"PgSmallInt");function $Z(e){return new _6(e??"")}var nM,aM;class O6 extends(aM=rt,nM=Z,aM){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new E6(t,this.config)}}B(O6,nM,"PgSmallSerialBuilder");var iM,sM;class E6 extends(sM=We,iM=Z,sM){getSQLType(){return"smallserial"}}B(E6,iM,"PgSmallSerial");function DZ(e){return new O6(e??"")}var oM,lM;class T6 extends(lM=rt,oM=Z,lM){constructor(t,r){super(t,"string","PgText"),this.config.enumValues=r.enum}build(t){return new M6(t,this.config)}}B(T6,oM,"PgTextBuilder");var cM,uM;class M6 extends(uM=We,cM=Z,uM){constructor(){super(...arguments);B(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}B(M6,cM,"PgText");function ri(e,t={}){const{name:r,config:n}=pr(e,t);return new T6(r,n)}var dM,fM;class $6 extends(fM=xu,dM=Z,fM){constructor(t,r,n){super(t,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}build(t){return new D6(t,this.config)}}B($6,dM,"PgTimeBuilder");var hM,mM;class D6 extends(mM=We,hM=Z,mM){constructor(r,n){super(r,n);B(this,"withTimezone");B(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}B(D6,hM,"PgTime");function IZ(e,t={}){const{name:r,config:n}=pr(e,t);return new $6(r,n.withTimezone??!1,n.precision)}var pM,gM;class I6 extends(gM=xu,pM=Z,gM){constructor(t,r,n){super(t,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(t){return new R6(t,this.config)}}B(I6,pM,"PgTimestampBuilder");var yM,vM;class R6 extends(vM=We,yM=Z,vM){constructor(r,n){super(r,n);B(this,"withTimezone");B(this,"precision");B(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));B(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}B(R6,yM,"PgTimestamp");var xM,bM;class F6 extends(bM=xu,xM=Z,bM){constructor(t,r,n){super(t,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(t){return new L6(t,this.config)}}B(F6,xM,"PgTimestampStringBuilder");var wM,jM;class L6 extends(jM=We,wM=Z,jM){constructor(r,n){super(r,n);B(this,"withTimezone");B(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}B(L6,wM,"PgTimestampString");function mr(e,t={}){const{name:r,config:n}=pr(e,t);return(n==null?void 0:n.mode)==="string"?new F6(r,n.withTimezone??!1,n.precision):new I6(r,(n==null?void 0:n.withTimezone)??!1,n==null?void 0:n.precision)}var NM,SM;class z6 extends(SM=rt,NM=Z,SM){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(Cn`gen_random_uuid()`)}build(t){return new B6(t,this.config)}}B(z6,NM,"PgUUIDBuilder");var kM,PM;class B6 extends(PM=We,kM=Z,PM){getSQLType(){return"uuid"}}B(B6,kM,"PgUUID");function RZ(e){return new z6(e??"")}var CM,_M;class W6 extends(_M=rt,CM=Z,_M){constructor(t,r){super(t,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new U6(t,this.config)}}B(W6,CM,"PgVarcharBuilder");var AM,OM;class U6 extends(OM=We,AM=Z,OM){constructor(){super(...arguments);B(this,"length",this.config.length);B(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}B(U6,AM,"PgVarchar");function ot(e,t={}){const{name:r,config:n}=pr(e,t);return new W6(r,n)}var EM,TM;class V6 extends(TM=rt,EM=Z,TM){constructor(t,r){super(t,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(t){return new q6(t,this.config)}}B(V6,EM,"PgBinaryVectorBuilder");var MM,$M;class q6 extends($M=We,MM=Z,$M){constructor(){super(...arguments);B(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}B(q6,MM,"PgBinaryVector");function FZ(e,t){const{name:r,config:n}=pr(e,t);return new V6(r,n)}var DM,IM;class H6 extends(IM=rt,DM=Z,IM){constructor(t,r){super(t,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(t){return new G6(t,this.config)}}B(H6,DM,"PgHalfVectorBuilder");var RM,FM;class G6 extends(FM=We,RM=Z,FM){constructor(){super(...arguments);B(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}B(G6,RM,"PgHalfVector");function LZ(e,t){const{name:r,config:n}=pr(e,t);return new H6(r,n)}var LM,zM;class K6 extends(zM=rt,LM=Z,zM){constructor(t,r){super(t,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(t){return new Y6(t,this.config)}}B(K6,LM,"PgSparseVectorBuilder");var BM,WM;class Y6 extends(WM=We,BM=Z,WM){constructor(){super(...arguments);B(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}B(Y6,BM,"PgSparseVector");function zZ(e,t){const{name:r,config:n}=pr(e,t);return new K6(r,n)}var UM,VM;class Q6 extends(VM=rt,UM=Z,VM){constructor(t,r){super(t,"array","PgVector"),this.config.dimensions=r.dimensions}build(t){return new X6(t,this.config)}}B(Q6,UM,"PgVectorBuilder");var qM,HM;class X6 extends(HM=We,qM=Z,HM){constructor(){super(...arguments);B(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}B(X6,qM,"PgVector");function BZ(e,t){const{name:r,config:n}=pr(e,t);return new Q6(r,n)}function WZ(){return{bigint:mZ,bigserial:pZ,boolean:gZ,char:yZ,cidr:vZ,customType:xZ,date:bZ,doublePrecision:wZ,inet:jZ,integer:At,interval:NZ,json:SZ,jsonb:tc,line:kZ,macaddr:PZ,macaddr8:CZ,numeric:_Z,point:AZ,geometry:EZ,real:TZ,serial:MZ,smallint:$Z,smallserial:DZ,text:ri,time:IZ,timestamp:mr,uuid:RZ,varchar:ot,bit:FZ,halfvec:LZ,sparsevec:zZ,vector:BZ}}const Ib=Symbol.for("drizzle:PgInlineForeignKeys"),dP=Symbol.for("drizzle:EnableRLS");var GM,KM,YM,QM,XM;class Cd extends(XM=Gr,QM=Z,YM=Ib,KM=dP,GM=Gr.Symbol.ExtraConfigBuilder,XM){constructor(){super(...arguments);B(this,YM,[]);B(this,KM,!1);B(this,GM)}}B(Cd,QM,"PgTable"),B(Cd,"Symbol",Object.assign({},Gr.Symbol,{InlineForeignKeys:Ib,EnableRLS:dP}));function UZ(e,t,r,n,a=e){const i=new Cd(e,n,a),o=typeof t=="function"?t(WZ()):t,l=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const p=h.build(i);return i[Ib].push(...h.buildForeignKeys(p,i)),[d,p]})),c=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const p=h.buildExtraConfigColumn(i);return[d,p]})),u=Object.assign(i,l);return u[Gr.Symbol.Columns]=l,u[Gr.Symbol.ExtraConfigColumns]=c,r&&(u[Cd.Symbol.ExtraConfigBuilder]=r),Object.assign(u,{enableRLS:()=>(u[Cd.Symbol.EnableRLS]=!0,u)})}const oi=(e,t,r)=>UZ(e,t,r,void 0);var ZM;ZM=Z;class Z6{constructor(t,r){this.unique=t,this.name=r}on(...t){return new Bm(t.map(r=>{if(Xt(r,Wt))return r;r=r;const n=new zm(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),n}),this.unique,!1,this.name)}onOnly(...t){return new Bm(t.map(r=>{if(Xt(r,Wt))return r;r=r;const n=new zm(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=r.defaultConfig,n}),this.unique,!0,this.name)}using(t,...r){return new Bm(r.map(n=>{if(Xt(n,Wt))return n;n=n;const a=new zm(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),a}),this.unique,!0,this.name,t)}}B(Z6,ZM,"PgIndexBuilderOn");var JM;JM=Z;class Bm{constructor(t,r,n,a,i="btree"){B(this,"config");this.config={name:a,columns:t,unique:r,only:n,method:i}}concurrently(){return this.config.concurrently=!0,this}with(t){return this.config.with=t,this}where(t){return this.config.where=t,this}build(t){return new J6(this.config,t)}}B(Bm,JM,"PgIndexBuilder");var e4;e4=Z;class J6{constructor(t,r){B(this,"config");this.config={...t,table:r}}}B(J6,e4,"PgIndex");function VZ(e){return new Z6(!1,e)}const Et={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Ut(e,t){return t.includes(e.columnType)}function qZ(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const HZ=_e.union([_e.string(),_e.number(),_e.boolean(),_e.null()]),GZ=_e.union([HZ,_e.record(_e.any()),_e.array(_e.any())]),KZ=_e.custom(e=>e instanceof Buffer);function eF(e,t){const r=(t==null?void 0:t.zodInstance)??_e,n=(t==null?void 0:t.coerce)??{};let a;return qZ(e)&&(a=e.enumValues.length?r.enum(e.enumValues):r.string()),a||(Ut(e,["PgGeometry","PgPointTuple"])?a=r.tuple([r.number(),r.number()]):Ut(e,["PgGeometryObject","PgPointObject"])?a=r.object({x:r.number(),y:r.number()}):Ut(e,["PgHalfVector","PgVector"])?(a=r.array(r.number()),a=e.dimensions?a.length(e.dimensions):a):Ut(e,["PgLine"])?a=r.tuple([r.number(),r.number(),r.number()]):Ut(e,["PgLineABC"])?a=r.object({a:r.number(),b:r.number(),c:r.number()}):Ut(e,["PgArray"])?(a=r.array(eF(e.baseColumn,r)),a=e.size?a.length(e.size):a):e.dataType==="array"?a=r.array(r.any()):e.dataType==="number"?a=YZ(e,r,n):e.dataType==="bigint"?a=QZ(e,r,n):e.dataType==="boolean"?a=n===!0||n.boolean?r.coerce.boolean():r.boolean():e.dataType==="date"?a=n===!0||n.date?r.coerce.date():r.date():e.dataType==="string"?a=XZ(e,r,n):e.dataType==="json"?a=GZ:e.dataType==="custom"?a=r.any():e.dataType==="buffer"&&(a=KZ)),a||(a=r.any()),a}function YZ(e,t,r){let n=e.getSQLType().includes("unsigned"),a,i,o=!1;Ut(e,["MySqlTinyInt","SingleStoreTinyInt"])?(a=n?0:Et.INT8_MIN,i=n?Et.INT8_UNSIGNED_MAX:Et.INT8_MAX,o=!0):Ut(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(a=n?0:Et.INT16_MIN,i=n?Et.INT16_UNSIGNED_MAX:Et.INT16_MAX,o=!0):Ut(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(a=n?0:Et.INT24_MIN,i=n?Et.INT24_UNSIGNED_MAX:Et.INT24_MAX,o=Ut(e,["MySqlMediumInt","SingleStoreMediumInt"])):Ut(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(a=n?0:Et.INT32_MIN,i=n?Et.INT32_UNSIGNED_MAX:Et.INT32_MAX,o=!0):Ut(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(a=n?0:Et.INT48_MIN,i=n?Et.INT48_UNSIGNED_MAX:Et.INT48_MAX):Ut(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||Ut(e,["MySqlSerial","SingleStoreSerial"]),a=n?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):Ut(e,["MySqlYear","SingleStoreYear"])?(a=1901,i=2155,o=!0):(a=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let l=r===!0||r!=null&&r.number?t.coerce.number():t.number();return l=l.min(a).max(i),o?l.int():l}function QZ(e,t,r){const n=e.getSQLType().includes("unsigned"),a=n?0n:Et.INT64_MIN,i=n?Et.INT64_UNSIGNED_MAX:Et.INT64_MAX;return(r===!0||r!=null&&r.bigint?t.coerce.bigint():t.bigint()).min(a).max(i)}function XZ(e,t,r){if(Ut(e,["PgUUID"]))return t.string().uuid();let n,a,i=!1;Ut(e,["PgVarchar","SQLiteText"])?n=e.length:Ut(e,["MySqlVarChar","SingleStoreVarChar"])?n=e.length??Et.INT16_UNSIGNED_MAX:Ut(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?n=Et.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?n=Et.INT24_UNSIGNED_MAX:e.textType==="text"?n=Et.INT16_UNSIGNED_MAX:n=Et.INT8_UNSIGNED_MAX),Ut(e,["PgChar","MySqlChar","SingleStoreChar"])&&(n=e.length,i=!0),Ut(e,["PgBinaryVector"])&&(a=/^[01]+$/,n=e.dimensions);let o=r===!0||r!=null&&r.string?t.coerce.string():t.string();return o=a?o.regex(a):o,n&&i?o.length(n):n?o.max(n):o}function tF(e){return jR(e)?fZ(e):hZ(e)}function rF(e,t,r,n){const a={};for(const[i,o]of Object.entries(e)){if(!Xt(o,Lc)&&!Xt(o,Wt)&&!Xt(o,Wt.Aliased)&&typeof o=="object"){const f=jR(o)||dZ(o)?tF(o):o;a[i]=rF(f,t[i]??{},r,n);continue}const l=t[i];if(l!==void 0&&typeof l!="function"){a[i]=l;continue}const c=Xt(o,Lc)?o:void 0,u=c?eF(c,n):_e.any(),d=typeof l=="function"?l(u):u;r.never(c)||(a[i]=d,c&&(r.nullable(c)&&(a[i]=a[i].nullable()),r.optional(c)&&(a[i]=a[i].optional())))}return _e.object(a)}const ZZ={never:e=>{var t,r;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((r=e==null?void 0:e.generatedIdentity)==null?void 0:r.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},Zs=(e,t)=>{const r=tF(e);return rF(r,{},ZZ)};oi("sessions",{sid:ot("sid").primaryKey(),sess:tc("sess").notNull(),expire:mr("expire").notNull()},e=>[VZ("IDX_session_expire").on(e.expire)]);const sl=oi("users",{id:ot("id").primaryKey().default(Cn`gen_random_uuid()`),email:ot("email").unique(),firstName:ot("first_name"),lastName:ot("last_name"),profileImageUrl:ot("profile_image_url"),createdAt:mr("created_at").defaultNow(),updatedAt:mr("updated_at").defaultNow()}),JZ=oi("user_profiles",{id:ot("id").primaryKey().default(Cn`gen_random_uuid()`),userId:ot("user_id").notNull().unique().references(()=>sl.id),age:At("age"),sex:ot("sex"),heightCm:At("height_cm"),currentWeightKg:At("current_weight_kg"),goalWeightKg:At("goal_weight_kg"),activityLevel:ot("activity_level"),weightGoal:ot("weight_goal"),weeklyWeightChangeKg:At("weekly_weight_change_kg"),medication:ot("medication"),createdAt:mr("created_at").defaultNow(),updatedAt:mr("updated_at").defaultNow()}),eJ=oi("nutrition_goals",{id:ot("id").primaryKey().default(Cn`gen_random_uuid()`),userId:ot("user_id").notNull().unique().references(()=>sl.id),dailyCalories:At("daily_calories").default(2e3),dailyProtein:At("daily_protein").default(150),dailyCarbs:At("daily_carbs").default(250),dailyFat:At("daily_fat").default(65),dailyWater:At("daily_water").default(2e3),createdAt:mr("created_at").defaultNow(),updatedAt:mr("updated_at").defaultNow()}),nF=oi("food_analyses",{id:ot("id").primaryKey().default(Cn`gen_random_uuid()`),imageUrl:ri("image_url").notNull(),confidence:At("confidence").notNull(),totalCalories:At("total_calories").notNull(),totalProtein:At("total_protein").notNull(),totalCarbs:At("total_carbs").notNull(),totalFat:At("total_fat").notNull(),detectedFoods:tc("detected_foods").notNull().$type(),createdAt:mr("created_at").notNull().defaultNow()}),tJ=oi("food_confirmations",{id:ot("id").primaryKey().default(Cn`gen_random_uuid()`),userId:ot("user_id").notNull().references(()=>sl.id),imageUrl:ri("image_url").notNull(),originalConfidence:At("original_confidence").notNull(),suggestedFoods:tc("suggested_foods").notNull().$type(),alternativeOptions:tc("alternative_options").$type(),status:ot("status").notNull().default("pending"),finalFoods:tc("final_foods").$type(),userFeedback:ri("user_feedback"),createdAt:mr("created_at").notNull().defaultNow(),confirmedAt:mr("confirmed_at")}),rJ=oi("diary_entries",{id:ot("id").primaryKey().default(Cn`gen_random_uuid()`),userId:ot("user_id").notNull().references(()=>sl.id),analysisId:ot("analysis_id").notNull().references(()=>nF.id),mealType:ot("meal_type").notNull(),customMealName:ri("custom_meal_name"),mealDate:mr("meal_date").notNull(),notes:ri("notes"),createdAt:mr("created_at").notNull().defaultNow()}),nJ=oi("drink_entries",{id:ot("id").primaryKey().default(Cn`gen_random_uuid()`),userId:ot("user_id").notNull().references(()=>sl.id),drinkName:ot("drink_name").notNull(),drinkType:ot("drink_type").notNull(),amount:At("amount").notNull(),calories:At("calories").default(0),caffeine:At("caffeine").default(0),sugar:At("sugar").default(0),alcoholContent:At("alcohol_content").default(0),alcoholUnits:At("alcohol_units").default(0),loggedAt:mr("logged_at").notNull(),notes:ri("notes"),createdAt:mr("created_at").notNull().defaultNow()}),aJ=oi("weight_entries",{id:ot("id").primaryKey().default(Cn`gen_random_uuid()`),userId:ot("user_id").notNull().references(()=>sl.id),weightGrams:At("weight_grams").notNull(),loggedAt:mr("logged_at").notNull(),notes:ri("notes"),createdAt:mr("created_at").notNull().defaultNow()}),iJ=oi("simple_food_entries",{id:ot("id").primaryKey().default(Cn`gen_random_uuid()`),userId:ot("user_id").notNull().references(()=>sl.id),food:ri("food").notNull(),amount:ri("amount").notNull(),createdAt:mr("created_at").notNull().defaultNow()}),aF=_e.object({name:_e.string(),portion:_e.string(),calories:_e.number(),protein:_e.number(),carbs:_e.number(),fat:_e.number(),icon:_e.string()});Zs(nF).omit({id:!0,createdAt:!0});_e.object({detectedFoods:_e.array(aF).min(1,"At least one food item is required")});const sJ=Zs(rJ).omit({id:!0,createdAt:!0}).extend({mealType:_e.enum(["breakfast","lunch","dinner","snack","custom"]),mealDate:_e.string().or(_e.date()),notes:_e.string().optional()});sJ.partial().extend({customMealName:_e.string().optional(),portionMultiplier:_e.number().min(.1).max(10).optional()});Zs(nJ).omit({id:!0,createdAt:!0}).extend({drinkType:_e.enum(["water","coffee","tea","juice","soda","sports_drink","beer","wine","spirits","cocktail","other"]),loggedAt:_e.string().or(_e.date()),notes:_e.string().optional()});const oJ=Zs(eJ).omit({id:!0,createdAt:!0,updatedAt:!0}),lJ=Zs(JZ).omit({id:!0,createdAt:!0,updatedAt:!0}).extend({sex:_e.enum(["male","female"]).optional(),activityLevel:_e.enum(["sedentary","lightly_active","moderately_active","very_active","extra_active"]).optional(),weightGoal:_e.enum(["lose_weight","maintain_weight","gain_weight"]).optional(),medication:_e.enum(["none","ozempic","wegovy","mounjaro","other_glp1"]).optional()}),uN=Zs(aJ).omit({id:!0,createdAt:!0}).extend({loggedAt:_e.string().or(_e.date()),notes:_e.string().optional()});uN.partial().omit({userId:!0});Zs(tJ).omit({id:!0,createdAt:!0,confirmedAt:!0}).extend({status:_e.enum(["pending","confirmed","rejected"]).default("pending"),userFeedback:_e.string().optional()});_e.object({status:_e.enum(["confirmed","rejected"]),finalFoods:_e.array(aF).min(1,"At least one food item is required"),userFeedback:_e.string().optional()});Zs(iJ).omit({id:!0,createdAt:!0});const cJ=uN.extend({weight:_e.number().min(1,"Weight must be greater than 0"),unit:_e.enum(["kg","lb"]).default("kg")}).omit({weightGrams:!0,userId:!0}).refine(e=>e.unit==="kg"?e.weight>=20&&e.weight<=300:e.weight>=44&&e.weight<=660,{message:"Weight must be reasonable for the selected unit",path:["weight"]});function uJ({onSuccess:e,compact:t=!1}){const{toast:r}=Ir(),n=En(),[a,i]=j.useState("kg"),o=Ty({resolver:My(cJ),defaultValues:{weight:0,unit:"kg",loggedAt:dt(new Date,"yyyy-MM-dd"),notes:""}}),l=Jt({mutationFn:async d=>{const h={weightGrams:d.unit==="kg"?Math.round(d.weight*1e3):Math.round(d.weight*453.592),loggedAt:d.loggedAt,notes:d.notes||void 0};return $t("POST","/api/weights",h)},onSuccess:()=>{r({title:"Weight Logged",description:"Your weight entry has been saved successfully."}),n.invalidateQueries({queryKey:["/api/weights"]}),setTimeout(()=>{o.reset({weight:0,unit:"kg",loggedAt:dt(new Date,"yyyy-MM-dd"),notes:""}),i("kg")},100),e==null||e()},onError:d=>{r({title:"Error",description:d.message||"Failed to save weight entry",variant:"destructive"})}}),c=d=>{l.mutate(d)},u=d=>{const f=o.getValues("weight");if(f>0&&a!==d){const h=a==="kg"&&d==="lb"?f*2.20462:a==="lb"&&d==="kg"?f*.453592:f;o.setValue("weight",Math.round(h*10)/10)}i(d),o.setValue("unit",d)};return s.jsxs("div",{className:t?"space-y-3":"bg-card border rounded-xl p-6",children:[!t&&s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(Qr,{className:"h-5 w-5 text-blue-600"}),s.jsx("h3",{className:"text-lg font-medium",children:"Log Today's Weight"})]}),s.jsxs("form",{onSubmit:o.handleSubmit(c),className:t?"space-y-3":"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(br,{htmlFor:"loggedAt","data-testid":"label-log-date",children:"Date"}),s.jsxs("div",{className:"relative",children:[s.jsx(lt,{id:"loggedAt",type:"date",...o.register("loggedAt"),className:"pr-10","data-testid":"input-log-date"}),s.jsx(pa,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none"})]}),o.formState.errors.loggedAt&&s.jsx("p",{className:"text-sm text-red-500","data-testid":"error-log-date",children:o.formState.errors.loggedAt.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(br,{htmlFor:"weight","data-testid":"label-weight",children:"Weight"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(lt,{id:"weight",type:"number",step:"0.1",min:"0",placeholder:`Enter weight in ${a}`,...o.register("weight",{valueAsNumber:!0}),className:"flex-1","data-testid":"input-weight",onFocus:d=>{d.target.value==="0"&&(d.target.value="")}}),s.jsxs(ga,{value:a,onValueChange:u,children:[s.jsx(Bn,{className:"w-20","data-testid":"select-weight-unit",children:s.jsx(ya,{})}),s.jsxs(Wn,{children:[s.jsx(Le,{value:"kg",children:"kg"}),s.jsx(Le,{value:"lb",children:"lb"})]})]})]}),o.formState.errors.weight&&s.jsx("p",{className:"text-sm text-red-500","data-testid":"error-weight",children:o.formState.errors.weight.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(br,{htmlFor:"notes","data-testid":"label-notes",children:"Notes (Optional)"}),s.jsx(Ay,{id:"notes",placeholder:"Add notes about your weigh-in...",...o.register("notes"),rows:3,"data-testid":"input-notes"}),o.formState.errors.notes&&s.jsx("p",{className:"text-sm text-red-500","data-testid":"error-notes",children:o.formState.errors.notes.message})]}),s.jsx("div",{className:"sticky bottom-0 left-0 right-0 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 pt-4 mt-6 -mx-6 -mb-6 px-6 pb-6 z-50 shadow-lg",children:s.jsx(he,{type:"submit",disabled:l.isPending,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg shadow-md transition-colors","data-testid":"button-save-weight",children:l.isPending?s.jsx("span",{className:"text-white",children:"Saving..."}):s.jsxs("span",{className:"flex items-center justify-center text-white",children:[s.jsx(pj,{className:"h-4 w-4 mr-2"}),"Save Weight Entry"]})})})]})]})}var iF="AlertDialog",[dJ,b2e]=Xn(iF,[l5]),Wi=l5(),sF=e=>{const{__scopeAlertDialog:t,...r}=e,n=Wi(t);return s.jsx(S5,{...n,...r,modal:!0})};sF.displayName=iF;var fJ="AlertDialogTrigger",oF=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Wi(r);return s.jsx(k5,{...a,...n,ref:t})});oF.displayName=fJ;var hJ="AlertDialogPortal",lF=e=>{const{__scopeAlertDialog:t,...r}=e,n=Wi(t);return s.jsx(P5,{...n,...r})};lF.displayName=hJ;var mJ="AlertDialogOverlay",cF=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Wi(r);return s.jsx(Hj,{...a,...n,ref:t})});cF.displayName=mJ;var rc="AlertDialogContent",[pJ,gJ]=dJ(rc),yJ=Z7("AlertDialogContent"),uF=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=Wi(r),o=j.useRef(null),l=at(t,o),c=j.useRef(null);return s.jsx(tQ,{contentName:rc,titleName:dF,docsSlug:"alert-dialog",children:s.jsx(pJ,{scope:r,cancelRef:c,children:s.jsxs(Gj,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:De(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(yJ,{children:n}),s.jsx(xJ,{contentRef:o})]})})})});uF.displayName=rc;var dF="AlertDialogTitle",fF=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Wi(r);return s.jsx(Kj,{...a,...n,ref:t})});fF.displayName=dF;var hF="AlertDialogDescription",mF=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Wi(r);return s.jsx(Yj,{...a,...n,ref:t})});mF.displayName=hF;var vJ="AlertDialogAction",pF=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=Wi(r);return s.jsx(Qj,{...a,...n,ref:t})});pF.displayName=vJ;var gF="AlertDialogCancel",yF=j.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=gJ(gF,r),i=Wi(r),o=at(t,a);return s.jsx(Qj,{...i,...n,ref:o})});yF.displayName=gF;var xJ=({contentRef:e})=>{const t=`\`${rc}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${rc}\` by passing a \`${hF}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${rc}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return j.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},bJ=sF,wJ=oF,jJ=lF,vF=cF,xF=uF,bF=pF,wF=yF,jF=fF,NF=mF;const NJ=bJ,SJ=wJ,kJ=jJ,SF=j.forwardRef(({className:e,...t},r)=>s.jsx(vF,{className:Te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));SF.displayName=vF.displayName;const kF=j.forwardRef(({className:e,...t},r)=>s.jsxs(kJ,{children:[s.jsx(SF,{}),s.jsx(xF,{ref:r,className:Te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border-2 border-gray-300 bg-white dark:bg-gray-800 text-gray-900 dark:text-white p-6 shadow-2xl backdrop-blur-sm duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));kF.displayName=xF.displayName;const PF=({className:e,...t})=>s.jsx("div",{className:Te("flex flex-col space-y-2 text-center sm:text-left",e),...t});PF.displayName="AlertDialogHeader";const CF=({className:e,...t})=>s.jsx("div",{className:Te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});CF.displayName="AlertDialogFooter";const _F=j.forwardRef(({className:e,...t},r)=>s.jsx(jF,{ref:r,className:Te("text-lg font-semibold",e),...t}));_F.displayName=jF.displayName;const AF=j.forwardRef(({className:e,...t},r)=>s.jsx(NF,{ref:r,className:Te("text-sm text-muted-foreground",e),...t}));AF.displayName=NF.displayName;const OF=j.forwardRef(({className:e,...t},r)=>s.jsx(bF,{ref:r,className:Te(jj(),e),...t}));OF.displayName=bF.displayName;const EF=j.forwardRef(({className:e,...t},r)=>s.jsx(wF,{ref:r,className:Te(jj({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));EF.displayName=wF.displayName;function PJ({onEdit:e,displayUnit:t="kg",compact:r=!1}){const{toast:n}=Ir(),a=En(),[i,o]=j.useState(null),{data:l=[],isLoading:c,error:u}=It({queryKey:["/api/weights"],select:m=>m||[]}),d=Jt({mutationFn:async m=>$t("DELETE",`/api/weights/${m}`),onSuccess:()=>{n({title:"Entry Deleted",description:"Weight entry has been deleted successfully."}),a.invalidateQueries({queryKey:["/api/weights"]}),o(null)},onError:m=>{n({title:"Error",description:m.message||"Failed to delete weight entry",variant:"destructive"})}}),f=m=>{d.mutate(m)},h=m=>t==="kg"?`${(m/1e3).toFixed(1)} kg`:`${(m/453.592).toFixed(1)} lb`,p=m=>{try{const x=typeof m=="string"?W2(m):m;return dt(x,"MMM d, yyyy")}catch{return m.toString()}},g=m=>{try{const x=typeof m=="string"?W2(m):m;return dt(x,"EEEE, MMMM d, yyyy")}catch{return m.toString()}};return c?s.jsxs("div",{className:"bg-card border rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Recent Weigh-ins"}),s.jsx("div",{className:"space-y-3",children:[1,2,3].map(m=>s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"h-16 bg-muted rounded-lg"})},m))})]}):u?s.jsxs("div",{className:"bg-card border rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Recent Weigh-ins"}),s.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[s.jsx("p",{children:"Unable to load weight entries"}),s.jsx("p",{className:"text-sm",children:u.message})]})]}):l.length===0?s.jsxs("div",{className:"bg-card border rounded-xl p-6",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Recent Weigh-ins"}),s.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[s.jsx(Qr,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{children:"No weight entries yet"}),s.jsx("p",{className:"text-sm",children:"Log your first weigh-in above to track your progress"})]})]}):s.jsxs("div",{className:"bg-card border rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Recent Weigh-ins"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.length," ",l.length===1?"entry":"entries"]})]}),s.jsx("div",{className:"space-y-3","data-testid":"weight-entries-list",children:l.map((m,x)=>s.jsx(me,{className:"hover:shadow-sm transition-shadow",children:s.jsx(ye,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pa,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"font-medium","data-testid":`weight-entry-date-${m.id}`,title:g(m.loggedAt),children:p(m.loggedAt)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Qr,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-lg font-bold text-green-600","data-testid":`weight-entry-weight-${m.id}`,children:h(m.weightGrams)})]})]}),m.notes&&s.jsxs("div",{className:"flex items-start space-x-2 text-sm text-muted-foreground",children:[s.jsx(c7,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{"data-testid":`weight-entry-notes-${m.id}`,className:"line-clamp-2",children:m.notes})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx(he,{variant:"ghost",size:"sm",onClick:()=>e==null?void 0:e(m),className:"h-8 w-8 p-0 hover:bg-blue-50 hover:text-blue-600","data-testid":`button-edit-weight-${m.id}`,title:"Edit entry",children:s.jsx(vp,{className:"h-4 w-4"})}),s.jsxs(NJ,{open:i===m.id,onOpenChange:v=>o(v?m.id:null),children:[s.jsx(SJ,{asChild:!0,children:s.jsx(he,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:bg-red-50 hover:text-red-600","data-testid":`button-delete-weight-${m.id}`,title:"Delete entry",children:s.jsx(To,{className:"h-4 w-4"})})}),s.jsxs(kF,{"data-testid":"dialog-delete-weight",children:[s.jsxs(PF,{children:[s.jsx(_F,{children:"Delete Weight Entry"}),s.jsxs(AF,{children:["Are you sure you want to delete this weight entry from ",g(m.loggedAt),"? This action cannot be undone."]})]}),s.jsxs(CF,{children:[s.jsx(EF,{"data-testid":"button-cancel-delete",children:"Cancel"}),s.jsx(OF,{onClick:()=>f(m.id),disabled:d.isPending,className:"bg-red-600 hover:bg-red-700","data-testid":"button-confirm-delete",children:d.isPending?"Deleting...":"Delete"})]})]})]})]})]})})},m.id))})]})}const CJ=uN.extend({weight:_e.number().min(1,"Weight must be greater than 0"),unit:_e.enum(["kg","lb"]).default("kg")}).omit({weightGrams:!0,userId:!0}).refine(e=>e.unit==="kg"?e.weight>=20&&e.weight<=300:e.weight>=44&&e.weight<=660,{message:"Weight must be reasonable for the selected unit",path:["weight"]});function _J({entry:e,open:t,onOpenChange:r,onSuccess:n}){const[a,i]=j.useState("kg"),{toast:o}=Ir(),l=En(),c=Ty({resolver:My(CJ),defaultValues:{weight:0,unit:"kg",loggedAt:dt(new Date,"yyyy-MM-dd"),notes:""}});j.useEffect(()=>{if(e){const h=Math.round(e.weightGrams/1e3*10)/10,p="kg";c.reset({weight:h,unit:p,loggedAt:dt(new Date(e.loggedAt),"yyyy-MM-dd"),notes:e.notes||""}),i(p)}},[e,c]);const u=Jt({mutationFn:async h=>{if(!e)throw new Error("No entry to update");const g={weightGrams:h.unit==="kg"?Math.round(h.weight*1e3):Math.round(h.weight*453.592),loggedAt:h.loggedAt,notes:h.notes||null};return $t("PATCH",`/api/weights/${e.id}`,g)},onSuccess:()=>{o({title:"Success",description:"Weight entry updated successfully."}),l.invalidateQueries({queryKey:["/api/weights"]}),r(!1),n==null||n()},onError:h=>{o({title:"Error",description:h.message||"Failed to update weight entry",variant:"destructive"})}}),d=h=>{u.mutate(h)},f=h=>{const p=c.getValues("weight");if(p>0&&a!==h){const g=a==="kg"&&h==="lb"?p*2.20462:a==="lb"&&h==="kg"?p*.453592:p;c.setValue("weight",Math.round(g*10)/10)}i(h),c.setValue("unit",h)};return s.jsx(C5,{open:t,onOpenChange:r,children:s.jsxs(Xj,{className:"sm:max-w-md",children:[s.jsxs(Zj,{children:[s.jsxs(Jj,{className:"flex items-center space-x-2",children:[s.jsx(Tc,{className:"h-5 w-5 text-blue-600"}),s.jsx("span",{children:"Edit Weight Entry"})]}),s.jsx(eN,{children:"Update your weight entry details below."})]}),s.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(br,{htmlFor:"loggedAt","data-testid":"label-edit-date",children:"Date"}),s.jsxs("div",{className:"relative",children:[s.jsx(lt,{id:"loggedAt",type:"date",...c.register("loggedAt"),className:"pr-10","data-testid":"input-edit-date"}),s.jsx(pa,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none"})]}),c.formState.errors.loggedAt&&s.jsx("p",{className:"text-sm text-red-500","data-testid":"error-edit-date",children:c.formState.errors.loggedAt.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(br,{htmlFor:"weight","data-testid":"label-edit-weight",children:"Weight"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("div",{className:"flex-1 relative",children:s.jsx(lt,{id:"weight",type:"number",step:"0.1",placeholder:"Enter weight",...c.register("weight",{valueAsNumber:!0}),className:"pr-12","data-testid":"input-edit-weight"})}),s.jsxs(ga,{value:a,onValueChange:f,children:[s.jsx(Bn,{className:"w-20","data-testid":"select-edit-unit",children:s.jsx(ya,{})}),s.jsxs(Wn,{children:[s.jsx(Le,{value:"kg",children:"kg"}),s.jsx(Le,{value:"lb",children:"lb"})]})]})]}),c.formState.errors.weight&&s.jsx("p",{className:"text-sm text-red-500","data-testid":"error-edit-weight",children:c.formState.errors.weight.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(br,{htmlFor:"notes","data-testid":"label-edit-notes",children:"Notes (Optional)"}),s.jsx(Ay,{id:"notes",placeholder:"Add notes about your weigh-in...",...c.register("notes"),rows:3,"data-testid":"input-edit-notes"})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(he,{type:"button",variant:"outline",onClick:()=>r(!1),"data-testid":"button-cancel-edit",children:"Cancel"}),s.jsx(he,{type:"submit",disabled:u.isPending,"data-testid":"button-save-edit",children:u.isPending?"Updating...":"Update Entry"})]})]})]})})}var AJ=Array.isArray,fn=AJ,OJ=typeof Ah=="object"&&Ah&&Ah.Object===Object&&Ah,TF=OJ,EJ=TF,TJ=typeof self=="object"&&self&&self.Object===Object&&self,MJ=EJ||TJ||Function("return this")(),li=MJ,$J=li,DJ=$J.Symbol,gh=DJ,fP=gh,MF=Object.prototype,IJ=MF.hasOwnProperty,RJ=MF.toString,Gu=fP?fP.toStringTag:void 0;function FJ(e){var t=IJ.call(e,Gu),r=e[Gu];try{e[Gu]=void 0;var n=!0}catch{}var a=RJ.call(e);return n&&(t?e[Gu]=r:delete e[Gu]),a}var LJ=FJ,zJ=Object.prototype,BJ=zJ.toString;function WJ(e){return BJ.call(e)}var UJ=WJ,hP=gh,VJ=LJ,qJ=UJ,HJ="[object Null]",GJ="[object Undefined]",mP=hP?hP.toStringTag:void 0;function KJ(e){return e==null?e===void 0?GJ:HJ:mP&&mP in Object(e)?VJ(e):qJ(e)}var Ui=KJ;function YJ(e){return e!=null&&typeof e=="object"}var Vi=YJ,QJ=Ui,XJ=Vi,ZJ="[object Symbol]";function JJ(e){return typeof e=="symbol"||XJ(e)&&QJ(e)==ZJ}var bu=JJ,eee=fn,tee=bu,ree=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nee=/^\w*$/;function aee(e,t){if(eee(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||tee(e)?!0:nee.test(e)||!ree.test(e)||t!=null&&e in Object(t)}var dN=aee;function iee(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Js=iee;const wu=yt(Js);var see=Ui,oee=Js,lee="[object AsyncFunction]",cee="[object Function]",uee="[object GeneratorFunction]",dee="[object Proxy]";function fee(e){if(!oee(e))return!1;var t=see(e);return t==cee||t==uee||t==lee||t==dee}var fN=fee;const Ge=yt(fN);var hee=li,mee=hee["__core-js_shared__"],pee=mee,P0=pee,pP=function(){var e=/[^.]+$/.exec(P0&&P0.keys&&P0.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function gee(e){return!!pP&&pP in e}var yee=gee,vee=Function.prototype,xee=vee.toString;function bee(e){if(e!=null){try{return xee.call(e)}catch{}try{return e+""}catch{}}return""}var $F=bee,wee=fN,jee=yee,Nee=Js,See=$F,kee=/[\\^$.*+?()[\]{}|]/g,Pee=/^\[object .+?Constructor\]$/,Cee=Function.prototype,_ee=Object.prototype,Aee=Cee.toString,Oee=_ee.hasOwnProperty,Eee=RegExp("^"+Aee.call(Oee).replace(kee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Tee(e){if(!Nee(e)||jee(e))return!1;var t=wee(e)?Eee:Pee;return t.test(See(e))}var Mee=Tee;function $ee(e,t){return e==null?void 0:e[t]}var Dee=$ee,Iee=Mee,Ree=Dee;function Fee(e,t){var r=Ree(e,t);return Iee(r)?r:void 0}var ol=Fee,Lee=ol,zee=Lee(Object,"create"),Dy=zee,gP=Dy;function Bee(){this.__data__=gP?gP(null):{},this.size=0}var Wee=Bee;function Uee(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Vee=Uee,qee=Dy,Hee="__lodash_hash_undefined__",Gee=Object.prototype,Kee=Gee.hasOwnProperty;function Yee(e){var t=this.__data__;if(qee){var r=t[e];return r===Hee?void 0:r}return Kee.call(t,e)?t[e]:void 0}var Qee=Yee,Xee=Dy,Zee=Object.prototype,Jee=Zee.hasOwnProperty;function ete(e){var t=this.__data__;return Xee?t[e]!==void 0:Jee.call(t,e)}var tte=ete,rte=Dy,nte="__lodash_hash_undefined__";function ate(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=rte&&t===void 0?nte:t,this}var ite=ate,ste=Wee,ote=Vee,lte=Qee,cte=tte,ute=ite;function ju(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ju.prototype.clear=ste;ju.prototype.delete=ote;ju.prototype.get=lte;ju.prototype.has=cte;ju.prototype.set=ute;var dte=ju;function fte(){this.__data__=[],this.size=0}var hte=fte;function mte(e,t){return e===t||e!==e&&t!==t}var hN=mte,pte=hN;function gte(e,t){for(var r=e.length;r--;)if(pte(e[r][0],t))return r;return-1}var Iy=gte,yte=Iy,vte=Array.prototype,xte=vte.splice;function bte(e){var t=this.__data__,r=yte(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():xte.call(t,r,1),--this.size,!0}var wte=bte,jte=Iy;function Nte(e){var t=this.__data__,r=jte(t,e);return r<0?void 0:t[r][1]}var Ste=Nte,kte=Iy;function Pte(e){return kte(this.__data__,e)>-1}var Cte=Pte,_te=Iy;function Ate(e,t){var r=this.__data__,n=_te(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Ote=Ate,Ete=hte,Tte=wte,Mte=Ste,$te=Cte,Dte=Ote;function Nu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Nu.prototype.clear=Ete;Nu.prototype.delete=Tte;Nu.prototype.get=Mte;Nu.prototype.has=$te;Nu.prototype.set=Dte;var Ry=Nu,Ite=ol,Rte=li,Fte=Ite(Rte,"Map"),mN=Fte,yP=dte,Lte=Ry,zte=mN;function Bte(){this.size=0,this.__data__={hash:new yP,map:new(zte||Lte),string:new yP}}var Wte=Bte;function Ute(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Vte=Ute,qte=Vte;function Hte(e,t){var r=e.__data__;return qte(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Fy=Hte,Gte=Fy;function Kte(e){var t=Gte(this,e).delete(e);return this.size-=t?1:0,t}var Yte=Kte,Qte=Fy;function Xte(e){return Qte(this,e).get(e)}var Zte=Xte,Jte=Fy;function ere(e){return Jte(this,e).has(e)}var tre=ere,rre=Fy;function nre(e,t){var r=rre(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var are=nre,ire=Wte,sre=Yte,ore=Zte,lre=tre,cre=are;function Su(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Su.prototype.clear=ire;Su.prototype.delete=sre;Su.prototype.get=ore;Su.prototype.has=lre;Su.prototype.set=cre;var pN=Su,DF=pN,ure="Expected a function";function gN(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ure);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(gN.Cache||DF),r}gN.Cache=DF;var IF=gN;const dre=yt(IF);var fre=IF,hre=500;function mre(e){var t=fre(e,function(n){return r.size===hre&&r.clear(),n}),r=t.cache;return t}var pre=mre,gre=pre,yre=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,vre=/\\(\\)?/g,xre=gre(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(yre,function(r,n,a,i){t.push(a?i.replace(vre,"$1"):n||r)}),t}),bre=xre;function wre(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var yN=wre,vP=gh,jre=yN,Nre=fn,Sre=bu,kre=1/0,xP=vP?vP.prototype:void 0,bP=xP?xP.toString:void 0;function RF(e){if(typeof e=="string")return e;if(Nre(e))return jre(e,RF)+"";if(Sre(e))return bP?bP.call(e):"";var t=e+"";return t=="0"&&1/e==-kre?"-0":t}var Pre=RF,Cre=Pre;function _re(e){return e==null?"":Cre(e)}var FF=_re,Are=fn,Ore=dN,Ere=bre,Tre=FF;function Mre(e,t){return Are(e)?e:Ore(e,t)?[e]:Ere(Tre(e))}var LF=Mre,$re=bu,Dre=1/0;function Ire(e){if(typeof e=="string"||$re(e))return e;var t=e+"";return t=="0"&&1/e==-Dre?"-0":t}var Ly=Ire,Rre=LF,Fre=Ly;function Lre(e,t){t=Rre(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Fre(t[r++])];return r&&r==n?e:void 0}var vN=Lre,zre=vN;function Bre(e,t,r){var n=e==null?void 0:zre(e,t);return n===void 0?r:n}var zF=Bre;const Hn=yt(zF);function Wre(e){return e==null}var Ure=Wre;const Qe=yt(Ure);var Vre=Ui,qre=fn,Hre=Vi,Gre="[object String]";function Kre(e){return typeof e=="string"||!qre(e)&&Hre(e)&&Vre(e)==Gre}var Yre=Kre;const yh=yt(Yre);var BF={exports:{}},pt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xN=Symbol.for("react.element"),bN=Symbol.for("react.portal"),zy=Symbol.for("react.fragment"),By=Symbol.for("react.strict_mode"),Wy=Symbol.for("react.profiler"),Uy=Symbol.for("react.provider"),Vy=Symbol.for("react.context"),Qre=Symbol.for("react.server_context"),qy=Symbol.for("react.forward_ref"),Hy=Symbol.for("react.suspense"),Gy=Symbol.for("react.suspense_list"),Ky=Symbol.for("react.memo"),Yy=Symbol.for("react.lazy"),Xre=Symbol.for("react.offscreen"),WF;WF=Symbol.for("react.module.reference");function Zn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case xN:switch(e=e.type,e){case zy:case Wy:case By:case Hy:case Gy:return e;default:switch(e=e&&e.$$typeof,e){case Qre:case Vy:case qy:case Yy:case Ky:case Uy:return e;default:return t}}case bN:return t}}}pt.ContextConsumer=Vy;pt.ContextProvider=Uy;pt.Element=xN;pt.ForwardRef=qy;pt.Fragment=zy;pt.Lazy=Yy;pt.Memo=Ky;pt.Portal=bN;pt.Profiler=Wy;pt.StrictMode=By;pt.Suspense=Hy;pt.SuspenseList=Gy;pt.isAsyncMode=function(){return!1};pt.isConcurrentMode=function(){return!1};pt.isContextConsumer=function(e){return Zn(e)===Vy};pt.isContextProvider=function(e){return Zn(e)===Uy};pt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===xN};pt.isForwardRef=function(e){return Zn(e)===qy};pt.isFragment=function(e){return Zn(e)===zy};pt.isLazy=function(e){return Zn(e)===Yy};pt.isMemo=function(e){return Zn(e)===Ky};pt.isPortal=function(e){return Zn(e)===bN};pt.isProfiler=function(e){return Zn(e)===Wy};pt.isStrictMode=function(e){return Zn(e)===By};pt.isSuspense=function(e){return Zn(e)===Hy};pt.isSuspenseList=function(e){return Zn(e)===Gy};pt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===zy||e===Wy||e===By||e===Hy||e===Gy||e===Xre||typeof e=="object"&&e!==null&&(e.$$typeof===Yy||e.$$typeof===Ky||e.$$typeof===Uy||e.$$typeof===Vy||e.$$typeof===qy||e.$$typeof===WF||e.getModuleId!==void 0)};pt.typeOf=Zn;BF.exports=pt;var Zre=BF.exports,Jre=Ui,ene=Vi,tne="[object Number]";function rne(e){return typeof e=="number"||ene(e)&&Jre(e)==tne}var UF=rne;const nne=yt(UF);var ane=UF;function ine(e){return ane(e)&&e!=+e}var sne=ine;const vh=yt(sne);var xa=function(t){return t===0?0:t>0?1:-1},xo=function(t){return yh(t)&&t.indexOf("%")===t.length-1},ce=function(t){return nne(t)&&!vh(t)},lr=function(t){return ce(t)||yh(t)},one=0,xh=function(t){var r=++one;return"".concat(t||"").concat(r)},el=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ce(t)&&!yh(t))return n;var i;if(xo(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return vh(i)&&(i=n),a&&i>r&&(i=r),i},ss=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},lne=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},da=function(t,r){return ce(t)&&ce(r)?function(n){return t+n*(r-t)}:function(){return r}};function Gp(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Hn(n,t))===r})}function nc(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Rb(e){"@babel/helpers - typeof";return Rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rb(e)}var cne=["viewBox","children"],une=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],wP=["points","pathLength"],C0={svg:cne,polygon:wP,polyline:wP},wN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Kp=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(j.isValidElement(t)&&(n=t.props),!wu(n))return null;var a={};return Object.keys(n).forEach(function(i){wN.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},dne=function(t,r,n){return function(a){return t(r,n,a),null}},Yp=function(t,r,n){if(!wu(t)||Rb(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];wN.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=dne(o,r,n))}),a},fne=["children"],hne=["children"];function jP(e,t){if(e==null)return{};var r=mne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fb(e){"@babel/helpers - typeof";return Fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fb(e)}var NP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Si=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},SP=null,_0=null,jN=function e(t){if(t===SP&&Array.isArray(_0))return _0;var r=[];return j.Children.forEach(t,function(n){Qe(n)||(Zre.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),_0=r,SP=t,r};function Gn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Si(a)}):n=[Si(t)],jN(e).forEach(function(a){var i=Hn(a,"type.displayName")||Hn(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function yn(e,t){var r=Gn(e,t);return r&&r[0]}var kP=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!ce(n)||n<=0||!ce(a)||a<=0)},pne=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],gne=function(t){return t&&t.type&&yh(t.type)&&pne.indexOf(t.type)>=0},yne=function(t){return t&&Fb(t)==="object"&&"clipDot"in t},vne=function(t,r,n,a){var i,o=(i=C0==null?void 0:C0[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Ge(t)&&(a&&o.includes(r)||une.includes(r))||n&&wN.includes(r)},Je=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(j.isValidElement(t)&&(a=t.props),!wu(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;vne((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},Lb=function e(t,r){if(t===r)return!0;var n=j.Children.count(t);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return PP(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!PP(i,o))return!1}return!0},PP=function(t,r){if(Qe(t)&&Qe(r))return!0;if(!Qe(t)&&!Qe(r)){var n=t.props||{},a=n.children,i=jP(n,fne),o=r.props||{},l=o.children,c=jP(o,hne);return a&&l?nc(i,c)&&Lb(a,l):!a&&!l?nc(i,c):!1}return!1},CP=function(t,r){var n=[],a={};return jN(t).forEach(function(i,o){if(gne(i))n.push(i);else if(i){var l=Si(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},xne=function(t){var r=t&&t.type;return r&&NP[r]?NP[r]:null},bne=function(t,r){return jN(r).indexOf(t)},wne=["children","width","height","viewBox","className","style","title","desc"];function zb(){return zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zb.apply(this,arguments)}function jne(e,t){if(e==null)return{};var r=Nne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Nne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bb(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=jne(e,wne),d=a||{width:r,height:n,x:0,y:0},f=tt("recharts-surface",i);return O.createElement("svg",zb({},Je(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),O.createElement("title",null,l),O.createElement("desc",null,c),t)}var Sne=["children","className"];function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wb.apply(this,arguments)}function kne(e,t){if(e==null)return{};var r=Pne(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Gt=O.forwardRef(function(e,t){var r=e.children,n=e.className,a=kne(e,Sne),i=tt("recharts-layer",n);return O.createElement("g",Wb({className:i},Je(a,!0),{ref:t}),r)}),ki=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Cne(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var _ne=Cne,Ane=_ne;function One(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Ane(e,t,r)}var Ene=One,Tne="\\ud800-\\udfff",Mne="\\u0300-\\u036f",$ne="\\ufe20-\\ufe2f",Dne="\\u20d0-\\u20ff",Ine=Mne+$ne+Dne,Rne="\\ufe0e\\ufe0f",Fne="\\u200d",Lne=RegExp("["+Fne+Tne+Ine+Rne+"]");function zne(e){return Lne.test(e)}var VF=zne;function Bne(e){return e.split("")}var Wne=Bne,qF="\\ud800-\\udfff",Une="\\u0300-\\u036f",Vne="\\ufe20-\\ufe2f",qne="\\u20d0-\\u20ff",Hne=Une+Vne+qne,Gne="\\ufe0e\\ufe0f",Kne="["+qF+"]",Ub="["+Hne+"]",Vb="\\ud83c[\\udffb-\\udfff]",Yne="(?:"+Ub+"|"+Vb+")",HF="[^"+qF+"]",GF="(?:\\ud83c[\\udde6-\\uddff]){2}",KF="[\\ud800-\\udbff][\\udc00-\\udfff]",Qne="\\u200d",YF=Yne+"?",QF="["+Gne+"]?",Xne="(?:"+Qne+"(?:"+[HF,GF,KF].join("|")+")"+QF+YF+")*",Zne=QF+YF+Xne,Jne="(?:"+[HF+Ub+"?",Ub,GF,KF,Kne].join("|")+")",eae=RegExp(Vb+"(?="+Vb+")|"+Jne+Zne,"g");function tae(e){return e.match(eae)||[]}var rae=tae,nae=Wne,aae=VF,iae=rae;function sae(e){return aae(e)?iae(e):nae(e)}var oae=sae,lae=Ene,cae=VF,uae=oae,dae=FF;function fae(e){return function(t){t=dae(t);var r=cae(t)?uae(t):void 0,n=r?r[0]:t.charAt(0),a=r?lae(r,1).join(""):t.slice(1);return n[e]()+a}}var hae=fae,mae=hae,pae=mae("toUpperCase"),gae=pae;const Qy=yt(gae);function bt(e){return function(){return e}}const XF=Math.cos,Qp=Math.sin,Aa=Math.sqrt,Xp=Math.PI,Xy=2*Xp,qb=Math.PI,Hb=2*qb,co=1e-6,yae=Hb-co;function ZF(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function vae(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ZF;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class xae{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ZF:vae(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>co)if(!(Math.abs(f*c-u*d)>co)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,g=a-l,m=c*c+u*u,x=p*p+g*g,v=Math.sqrt(m),b=Math.sqrt(h),y=i*Math.tan((qb-Math.acos((m+h-x)/(2*v*b)))/2),S=y/b,w=y/v;Math.abs(S-1)>co&&this._append`L${t+S*d},${r+S*f}`,this._append`A${i},${i},0,0,${+(f*p>d*g)},${this._x1=t+w*c},${this._y1=r+w*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>co||Math.abs(this._y1-d)>co)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Hb+Hb),h>yae?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>co&&this._append`A${n},${n},0,${+(h>=qb)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function NN(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new xae(t)}function SN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function JF(e){this._context=e}JF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Zy(e){return new JF(e)}function eL(e){return e[0]}function tL(e){return e[1]}function rL(e,t){var r=bt(!0),n=null,a=Zy,i=null,o=NN(l);e=typeof e=="function"?e:e===void 0?eL:bt(e),t=typeof t=="function"?t:t===void 0?tL:bt(t);function l(c){var u,d=(c=SN(c)).length,f,h=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:bt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:bt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:bt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function rm(e,t,r){var n=null,a=bt(!0),i=null,o=Zy,l=null,c=NN(u);e=typeof e=="function"?e:e===void 0?eL:bt(+e),t=typeof t=="function"?t:bt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?tL:bt(+r);function u(f){var h,p,g,m=(f=SN(f)).length,x,v=!1,b,y=new Array(m),S=new Array(m);for(i==null&&(l=o(b=c())),h=0;h<=m;++h){if(!(h<m&&a(x=f[h],h,f))===v)if(v=!v)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=p;--g)l.point(y[g],S[g]);l.lineEnd(),l.areaEnd()}v&&(y[h]=+e(x,h,f),S[h]=+t(x,h,f),l.point(n?+n(x,h,f):y[h],r?+r(x,h,f):S[h]))}if(b)return l=null,b+""||null}function d(){return rL().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:bt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:bt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:bt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:bt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:bt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:bt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:bt(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class nL{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function bae(e){return new nL(e,!0)}function wae(e){return new nL(e,!1)}const kN={draw(e,t){const r=Aa(t/Xp);e.moveTo(r,0),e.arc(0,0,r,0,Xy)}},jae={draw(e,t){const r=Aa(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},aL=Aa(1/3),Nae=aL*2,Sae={draw(e,t){const r=Aa(t/Nae),n=r*aL;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},kae={draw(e,t){const r=Aa(t),n=-r/2;e.rect(n,n,r,r)}},Pae=.8908130915292852,iL=Qp(Xp/10)/Qp(7*Xp/10),Cae=Qp(Xy/10)*iL,_ae=-XF(Xy/10)*iL,Aae={draw(e,t){const r=Aa(t*Pae),n=Cae*r,a=_ae*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Xy*i/5,l=XF(o),c=Qp(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},A0=Aa(3),Oae={draw(e,t){const r=-Aa(t/(A0*3));e.moveTo(0,r*2),e.lineTo(-A0*r,-r),e.lineTo(A0*r,-r),e.closePath()}},Tn=-.5,Mn=Aa(3)/2,Gb=1/Aa(12),Eae=(Gb/2+1)*3,Tae={draw(e,t){const r=Aa(t/Eae),n=r/2,a=r*Gb,i=n,o=r*Gb+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Tn*n-Mn*a,Mn*n+Tn*a),e.lineTo(Tn*i-Mn*o,Mn*i+Tn*o),e.lineTo(Tn*l-Mn*c,Mn*l+Tn*c),e.lineTo(Tn*n+Mn*a,Tn*a-Mn*n),e.lineTo(Tn*i+Mn*o,Tn*o-Mn*i),e.lineTo(Tn*l+Mn*c,Tn*c-Mn*l),e.closePath()}};function Mae(e,t){let r=null,n=NN(a);e=typeof e=="function"?e:bt(e||kN),t=typeof t=="function"?t:bt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:bt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:bt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Zp(){}function Jp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function sL(e){this._context=e}sL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Jp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Jp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $ae(e){return new sL(e)}function oL(e){this._context=e}oL.prototype={areaStart:Zp,areaEnd:Zp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Jp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Dae(e){return new oL(e)}function lL(e){this._context=e}lL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Jp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Iae(e){return new lL(e)}function cL(e){this._context=e}cL.prototype={areaStart:Zp,areaEnd:Zp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Rae(e){return new cL(e)}function _P(e){return e<0?-1:1}function AP(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(_P(i)+_P(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function OP(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function O0(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function eg(e){this._context=e}eg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:O0(this,this._t0,OP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,O0(this,OP(this,r=AP(this,e,t)),r);break;default:O0(this,this._t0,r=AP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function uL(e){this._context=new dL(e)}(uL.prototype=Object.create(eg.prototype)).point=function(e,t){eg.prototype.point.call(this,t,e)};function dL(e){this._context=e}dL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Fae(e){return new eg(e)}function Lae(e){return new uL(e)}function fL(e){this._context=e}fL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=EP(e),a=EP(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function EP(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function zae(e){return new fL(e)}function Jy(e,t){this._context=e,this._t=t}Jy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Bae(e){return new Jy(e,.5)}function Wae(e){return new Jy(e,0)}function Uae(e){return new Jy(e,1)}function zc(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Kb(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Vae(e,t){return e[t]}function qae(e){const t=[];return t.key=e,t}function Hae(){var e=bt([]),t=Kb,r=zc,n=Vae;function a(i){var o=Array.from(e.apply(this,arguments),qae),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=SN(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:bt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:bt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Kb:typeof i=="function"?i:bt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??zc,a):r},a}function Gae(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}zc(e,t)}}function Kae(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}zc(e,t)}}function Yae(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,g=0;g<l;++g){var m=e[t[g]],x=m[n][1]||0,v=m[n-1][1]||0;p+=x-v}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,zc(e,t)}}function gf(e){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(e)}var Qae=["type","size","sizeType"];function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yb.apply(this,arguments)}function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){Xae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xae(e,t,r){return t=Zae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zae(e){var t=Jae(e,"string");return gf(t)=="symbol"?t:t+""}function Jae(e,t){if(gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eie(e,t){if(e==null)return{};var r=tie(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var hL={symbolCircle:kN,symbolCross:jae,symbolDiamond:Sae,symbolSquare:kae,symbolStar:Aae,symbolTriangle:Oae,symbolWye:Tae},rie=Math.PI/180,nie=function(t){var r="symbol".concat(Qy(t));return hL[r]||kN},aie=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*rie;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},iie=function(t,r){hL["symbol".concat(Qy(t))]=r},PN=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=eie(t,Qae),u=MP(MP({},c),{},{type:n,size:i,sizeType:l}),d=function(){var x=nie(n),v=Mae().type(x).size(aie(i,l,n));return v()},f=u.className,h=u.cx,p=u.cy,g=Je(u,!0);return h===+h&&p===+p&&i===+i?O.createElement("path",Yb({},g,{className:tt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};PN.registerSymbol=iie;function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function Qb(){return Qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qb.apply(this,arguments)}function $P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(r),!0).forEach(function(n){yf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pL(n.key),n)}}function cie(e,t,r){return t&&lie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uie(e,t,r){return t=tg(t),die(e,mL()?Reflect.construct(t,r||[],tg(e).constructor):t.apply(e,r))}function die(e,t){if(t&&(Bc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fie(e)}function fie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mL=function(){return!!e})()}function tg(e){return tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tg(e)}function hie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xb(e,t)}function Xb(e,t){return Xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Xb(e,t)}function yf(e,t,r){return t=pL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pL(e){var t=mie(e,"string");return Bc(t)=="symbol"?t:t+""}function mie(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $n=32,CN=function(e){function t(){return oie(this,t),uie(this,t,arguments)}return hie(t,e),cie(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=$n/2,o=$n/6,l=$n/3,c=n.inactive?a:n.color;if(n.type==="plainline")return O.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:$n,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return O.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat($n,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return O.createElement("path",{stroke:"none",fill:c,d:"M0,".concat($n/8,"h").concat($n,"v").concat($n*3/4,"h").concat(-$n,"z"),className:"recharts-legend-icon"});if(O.isValidElement(n.legendIcon)){var u=sie({},n);return delete u.legendIcon,O.cloneElement(n.legendIcon,u)}return O.createElement(PN,{fill:c,cx:i,cy:i,size:$n,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:$n,height:$n},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,g){var m=p.formatter||c,x=tt(yf(yf({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var v=Ge(p.value)?null:p.value;ki(!Ge(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=p.inactive?u:p.color;return O.createElement("li",Qb({className:x,style:f,key:"legend-item-".concat(g)},Yp(n.props,p,g)),O.createElement(Bb,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),O.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(v,p,g):v))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return O.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(j.PureComponent);yf(CN,"displayName","Legend");yf(CN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var pie=Ry;function gie(){this.__data__=new pie,this.size=0}var yie=gie;function vie(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var xie=vie;function bie(e){return this.__data__.get(e)}var wie=bie;function jie(e){return this.__data__.has(e)}var Nie=jie,Sie=Ry,kie=mN,Pie=pN,Cie=200;function _ie(e,t){var r=this.__data__;if(r instanceof Sie){var n=r.__data__;if(!kie||n.length<Cie-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Pie(n)}return r.set(e,t),this.size=r.size,this}var Aie=_ie,Oie=Ry,Eie=yie,Tie=xie,Mie=wie,$ie=Nie,Die=Aie;function ku(e){var t=this.__data__=new Oie(e);this.size=t.size}ku.prototype.clear=Eie;ku.prototype.delete=Tie;ku.prototype.get=Mie;ku.prototype.has=$ie;ku.prototype.set=Die;var gL=ku,Iie="__lodash_hash_undefined__";function Rie(e){return this.__data__.set(e,Iie),this}var Fie=Rie;function Lie(e){return this.__data__.has(e)}var zie=Lie,Bie=pN,Wie=Fie,Uie=zie;function rg(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Bie;++t<r;)this.add(e[t])}rg.prototype.add=rg.prototype.push=Wie;rg.prototype.has=Uie;var yL=rg;function Vie(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var vL=Vie;function qie(e,t){return e.has(t)}var xL=qie,Hie=yL,Gie=vL,Kie=xL,Yie=1,Qie=2;function Xie(e,t,r,n,a,i){var o=r&Yie,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&Qie?new Hie:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var g=e[f],m=t[f];if(n)var x=o?n(m,g,f,t,e,i):n(g,m,f,e,t,i);if(x!==void 0){if(x)continue;h=!1;break}if(p){if(!Gie(t,function(v,b){if(!Kie(p,b)&&(g===v||a(g,v,r,n,i)))return p.push(b)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var bL=Xie,Zie=li,Jie=Zie.Uint8Array,ese=Jie;function tse(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var rse=tse;function nse(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var _N=nse,DP=gh,IP=ese,ase=hN,ise=bL,sse=rse,ose=_N,lse=1,cse=2,use="[object Boolean]",dse="[object Date]",fse="[object Error]",hse="[object Map]",mse="[object Number]",pse="[object RegExp]",gse="[object Set]",yse="[object String]",vse="[object Symbol]",xse="[object ArrayBuffer]",bse="[object DataView]",RP=DP?DP.prototype:void 0,E0=RP?RP.valueOf:void 0;function wse(e,t,r,n,a,i,o){switch(r){case bse:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case xse:return!(e.byteLength!=t.byteLength||!i(new IP(e),new IP(t)));case use:case dse:case mse:return ase(+e,+t);case fse:return e.name==t.name&&e.message==t.message;case pse:case yse:return e==t+"";case hse:var l=sse;case gse:var c=n&lse;if(l||(l=ose),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=cse,o.set(e,t);var d=ise(l(e),l(t),n,a,i,o);return o.delete(e),d;case vse:if(E0)return E0.call(e)==E0.call(t)}return!1}var jse=wse;function Nse(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var wL=Nse,Sse=wL,kse=fn;function Pse(e,t,r){var n=t(e);return kse(e)?n:Sse(n,r(e))}var Cse=Pse;function _se(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var Ase=_se;function Ose(){return[]}var Ese=Ose,Tse=Ase,Mse=Ese,$se=Object.prototype,Dse=$se.propertyIsEnumerable,FP=Object.getOwnPropertySymbols,Ise=FP?function(e){return e==null?[]:(e=Object(e),Tse(FP(e),function(t){return Dse.call(e,t)}))}:Mse,Rse=Ise;function Fse(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Lse=Fse,zse=Ui,Bse=Vi,Wse="[object Arguments]";function Use(e){return Bse(e)&&zse(e)==Wse}var Vse=Use,LP=Vse,qse=Vi,jL=Object.prototype,Hse=jL.hasOwnProperty,Gse=jL.propertyIsEnumerable,Kse=LP(function(){return arguments}())?LP:function(e){return qse(e)&&Hse.call(e,"callee")&&!Gse.call(e,"callee")},AN=Kse,ng={exports:{}};function Yse(){return!1}var Qse=Yse;ng.exports;(function(e,t){var r=li,n=Qse,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(ng,ng.exports);var NL=ng.exports,Xse=9007199254740991,Zse=/^(?:0|[1-9]\d*)$/;function Jse(e,t){var r=typeof e;return t=t??Xse,!!t&&(r=="number"||r!="symbol"&&Zse.test(e))&&e>-1&&e%1==0&&e<t}var ON=Jse,eoe=9007199254740991;function toe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=eoe}var EN=toe,roe=Ui,noe=EN,aoe=Vi,ioe="[object Arguments]",soe="[object Array]",ooe="[object Boolean]",loe="[object Date]",coe="[object Error]",uoe="[object Function]",doe="[object Map]",foe="[object Number]",hoe="[object Object]",moe="[object RegExp]",poe="[object Set]",goe="[object String]",yoe="[object WeakMap]",voe="[object ArrayBuffer]",xoe="[object DataView]",boe="[object Float32Array]",woe="[object Float64Array]",joe="[object Int8Array]",Noe="[object Int16Array]",Soe="[object Int32Array]",koe="[object Uint8Array]",Poe="[object Uint8ClampedArray]",Coe="[object Uint16Array]",_oe="[object Uint32Array]",St={};St[boe]=St[woe]=St[joe]=St[Noe]=St[Soe]=St[koe]=St[Poe]=St[Coe]=St[_oe]=!0;St[ioe]=St[soe]=St[voe]=St[ooe]=St[xoe]=St[loe]=St[coe]=St[uoe]=St[doe]=St[foe]=St[hoe]=St[moe]=St[poe]=St[goe]=St[yoe]=!1;function Aoe(e){return aoe(e)&&noe(e.length)&&!!St[roe(e)]}var Ooe=Aoe;function Eoe(e){return function(t){return e(t)}}var SL=Eoe,ag={exports:{}};ag.exports;(function(e,t){var r=TF,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(ag,ag.exports);var Toe=ag.exports,Moe=Ooe,$oe=SL,zP=Toe,BP=zP&&zP.isTypedArray,Doe=BP?$oe(BP):Moe,kL=Doe,Ioe=Lse,Roe=AN,Foe=fn,Loe=NL,zoe=ON,Boe=kL,Woe=Object.prototype,Uoe=Woe.hasOwnProperty;function Voe(e,t){var r=Foe(e),n=!r&&Roe(e),a=!r&&!n&&Loe(e),i=!r&&!n&&!a&&Boe(e),o=r||n||a||i,l=o?Ioe(e.length,String):[],c=l.length;for(var u in e)(t||Uoe.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||zoe(u,c)))&&l.push(u);return l}var qoe=Voe,Hoe=Object.prototype;function Goe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Hoe;return e===r}var Koe=Goe;function Yoe(e,t){return function(r){return e(t(r))}}var PL=Yoe,Qoe=PL,Xoe=Qoe(Object.keys,Object),Zoe=Xoe,Joe=Koe,ele=Zoe,tle=Object.prototype,rle=tle.hasOwnProperty;function nle(e){if(!Joe(e))return ele(e);var t=[];for(var r in Object(e))rle.call(e,r)&&r!="constructor"&&t.push(r);return t}var ale=nle,ile=fN,sle=EN;function ole(e){return e!=null&&sle(e.length)&&!ile(e)}var bh=ole,lle=qoe,cle=ale,ule=bh;function dle(e){return ule(e)?lle(e):cle(e)}var ev=dle,fle=Cse,hle=Rse,mle=ev;function ple(e){return fle(e,mle,hle)}var gle=ple,WP=gle,yle=1,vle=Object.prototype,xle=vle.hasOwnProperty;function ble(e,t,r,n,a,i){var o=r&yle,l=WP(e),c=l.length,u=WP(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:xle.call(t,h)))return!1}var p=i.get(e),g=i.get(t);if(p&&g)return p==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var x=o;++f<c;){h=l[f];var v=e[h],b=t[h];if(n)var y=o?n(b,v,h,t,e,i):n(v,b,h,e,t,i);if(!(y===void 0?v===b||a(v,b,r,n,i):y)){m=!1;break}x||(x=h=="constructor")}if(m&&!x){var S=e.constructor,w=t.constructor;S!=w&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(m=!1)}return i.delete(e),i.delete(t),m}var wle=ble,jle=ol,Nle=li,Sle=jle(Nle,"DataView"),kle=Sle,Ple=ol,Cle=li,_le=Ple(Cle,"Promise"),Ale=_le,Ole=ol,Ele=li,Tle=Ole(Ele,"Set"),CL=Tle,Mle=ol,$le=li,Dle=Mle($le,"WeakMap"),Ile=Dle,Zb=kle,Jb=mN,ew=Ale,tw=CL,rw=Ile,_L=Ui,Pu=$F,UP="[object Map]",Rle="[object Object]",VP="[object Promise]",qP="[object Set]",HP="[object WeakMap]",GP="[object DataView]",Fle=Pu(Zb),Lle=Pu(Jb),zle=Pu(ew),Ble=Pu(tw),Wle=Pu(rw),uo=_L;(Zb&&uo(new Zb(new ArrayBuffer(1)))!=GP||Jb&&uo(new Jb)!=UP||ew&&uo(ew.resolve())!=VP||tw&&uo(new tw)!=qP||rw&&uo(new rw)!=HP)&&(uo=function(e){var t=_L(e),r=t==Rle?e.constructor:void 0,n=r?Pu(r):"";if(n)switch(n){case Fle:return GP;case Lle:return UP;case zle:return VP;case Ble:return qP;case Wle:return HP}return t});var Ule=uo,T0=gL,Vle=bL,qle=jse,Hle=wle,KP=Ule,YP=fn,QP=NL,Gle=kL,Kle=1,XP="[object Arguments]",ZP="[object Array]",nm="[object Object]",Yle=Object.prototype,JP=Yle.hasOwnProperty;function Qle(e,t,r,n,a,i){var o=YP(e),l=YP(t),c=o?ZP:KP(e),u=l?ZP:KP(t);c=c==XP?nm:c,u=u==XP?nm:u;var d=c==nm,f=u==nm,h=c==u;if(h&&QP(e)){if(!QP(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new T0),o||Gle(e)?Vle(e,t,r,n,a,i):qle(e,t,c,r,n,a,i);if(!(r&Kle)){var p=d&&JP.call(e,"__wrapped__"),g=f&&JP.call(t,"__wrapped__");if(p||g){var m=p?e.value():e,x=g?t.value():t;return i||(i=new T0),a(m,x,r,n,i)}}return h?(i||(i=new T0),Hle(e,t,r,n,a,i)):!1}var Xle=Qle,Zle=Xle,eC=Vi;function AL(e,t,r,n,a){return e===t?!0:e==null||t==null||!eC(e)&&!eC(t)?e!==e&&t!==t:Zle(e,t,r,n,AL,a)}var TN=AL,Jle=gL,ece=TN,tce=1,rce=2;function nce(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new Jle;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?ece(d,u,tce|rce,n,f):h))return!1}}return!0}var ace=nce,ice=Js;function sce(e){return e===e&&!ice(e)}var OL=sce,oce=OL,lce=ev;function cce(e){for(var t=lce(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,oce(a)]}return t}var uce=cce;function dce(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var EL=dce,fce=ace,hce=uce,mce=EL;function pce(e){var t=hce(e);return t.length==1&&t[0][2]?mce(t[0][0],t[0][1]):function(r){return r===e||fce(r,e,t)}}var gce=pce;function yce(e,t){return e!=null&&t in Object(e)}var vce=yce,xce=LF,bce=AN,wce=fn,jce=ON,Nce=EN,Sce=Ly;function kce(e,t,r){t=xce(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=Sce(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&Nce(a)&&jce(o,a)&&(wce(e)||bce(e)))}var Pce=kce,Cce=vce,_ce=Pce;function Ace(e,t){return e!=null&&_ce(e,t,Cce)}var Oce=Ace,Ece=TN,Tce=zF,Mce=Oce,$ce=dN,Dce=OL,Ice=EL,Rce=Ly,Fce=1,Lce=2;function zce(e,t){return $ce(e)&&Dce(t)?Ice(Rce(e),t):function(r){var n=Tce(r,e);return n===void 0&&n===t?Mce(r,e):Ece(t,n,Fce|Lce)}}var Bce=zce;function Wce(e){return e}var Cu=Wce;function Uce(e){return function(t){return t==null?void 0:t[e]}}var Vce=Uce,qce=vN;function Hce(e){return function(t){return qce(t,e)}}var Gce=Hce,Kce=Vce,Yce=Gce,Qce=dN,Xce=Ly;function Zce(e){return Qce(e)?Kce(Xce(e)):Yce(e)}var Jce=Zce,eue=gce,tue=Bce,rue=Cu,nue=fn,aue=Jce;function iue(e){return typeof e=="function"?e:e==null?rue:typeof e=="object"?nue(e)?tue(e[0],e[1]):eue(e):aue(e)}var eo=iue;function sue(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var TL=sue;function oue(e){return e!==e}var lue=oue;function cue(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var uue=cue,due=TL,fue=lue,hue=uue;function mue(e,t,r){return t===t?hue(e,t,r):due(e,fue,r)}var pue=mue,gue=pue;function yue(e,t){var r=e==null?0:e.length;return!!r&&gue(e,t,0)>-1}var vue=yue;function xue(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var bue=xue;function wue(){}var jue=wue,M0=CL,Nue=jue,Sue=_N,kue=1/0,Pue=M0&&1/Sue(new M0([,-0]))[1]==kue?function(e){return new M0(e)}:Nue,Cue=Pue,_ue=yL,Aue=vue,Oue=bue,Eue=xL,Tue=Cue,Mue=_N,$ue=200;function Due(e,t,r){var n=-1,a=Aue,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=Oue;else if(i>=$ue){var u=t?null:Tue(e);if(u)return Mue(u);o=!1,a=Eue,c=new _ue}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Iue=Due,Rue=eo,Fue=Iue;function Lue(e,t){return e&&e.length?Fue(e,Rue(t)):[]}var zue=Lue;const tC=yt(zue);function ML(e,t,r){return t===!0?tC(e,r):Ge(t)?tC(e,t):e}function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}var Bue=["ref"];function rC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(r),!0).forEach(function(n){tv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DL(n.key),n)}}function Uue(e,t,r){return t&&nC(e.prototype,t),r&&nC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vue(e,t,r){return t=ig(t),que(e,$L()?Reflect.construct(t,r||[],ig(e).constructor):t.apply(e,r))}function que(e,t){if(t&&(Wc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hue(e)}function Hue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $L(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($L=function(){return!!e})()}function ig(e){return ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ig(e)}function Gue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nw(e,t)}function nw(e,t){return nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nw(e,t)}function tv(e,t,r){return t=DL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DL(e){var t=Kue(e,"string");return Wc(t)=="symbol"?t:t+""}function Kue(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yue(e,t){if(e==null)return{};var r=Que(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Que(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xue(e){return e.value}function Zue(e,t){if(O.isValidElement(e))return O.cloneElement(e,t);if(typeof e=="function")return O.createElement(e,t);t.ref;var r=Yue(t,Bue);return O.createElement(CN,r)}var aC=1,ac=function(e){function t(){var r;Wue(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Vue(this,t,[].concat(a)),tv(r,"lastBoundingBox",{width:-1,height:-1}),r}return Gue(t,e),Uue(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>aC||Math.abs(a.height-this.lastBoundingBox.height)>aC)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?di({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return di(di({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=di(di({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return O.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},Zue(i,di(di({},this.props),{},{payload:ML(d,u,Xue)})))}}],[{key:"getWithHeight",value:function(n,a){var i=di(di({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&ce(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(j.PureComponent);tv(ac,"displayName","Legend");tv(ac,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var iC=gh,Jue=AN,ede=fn,sC=iC?iC.isConcatSpreadable:void 0;function tde(e){return ede(e)||Jue(e)||!!(sC&&e&&e[sC])}var rde=tde,nde=wL,ade=rde;function IL(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=ade),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?IL(l,t-1,r,n,a):nde(a,l):n||(a[a.length]=l)}return a}var RL=IL;function ide(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var sde=ide,ode=sde,lde=ode(),cde=lde,ude=cde,dde=ev;function fde(e,t){return e&&ude(e,t,dde)}var FL=fde,hde=bh;function mde(e,t){return function(r,n){if(r==null)return r;if(!hde(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var pde=mde,gde=FL,yde=pde,vde=yde(gde),MN=vde,xde=MN,bde=bh;function wde(e,t){var r=-1,n=bde(e)?Array(e.length):[];return xde(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var LL=wde;function jde(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Nde=jde,oC=bu;function Sde(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=oC(e),o=t!==void 0,l=t===null,c=t===t,u=oC(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var kde=Sde,Pde=kde;function Cde(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=Pde(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var _de=Cde,$0=yN,Ade=vN,Ode=eo,Ede=LL,Tde=Nde,Mde=SL,$de=_de,Dde=Cu,Ide=fn;function Rde(e,t,r){t.length?t=$0(t,function(i){return Ide(i)?function(o){return Ade(o,i.length===1?i[0]:i)}:i}):t=[Dde];var n=-1;t=$0(t,Mde(Ode));var a=Ede(e,function(i,o,l){var c=$0(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Tde(a,function(i,o){return $de(i,o,r)})}var Fde=Rde;function Lde(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var zde=Lde,Bde=zde,lC=Math.max;function Wde(e,t,r){return t=lC(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=lC(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),Bde(e,this,l)}}var Ude=Wde;function Vde(e){return function(){return e}}var qde=Vde,Hde=ol,Gde=function(){try{var e=Hde(Object,"defineProperty");return e({},"",{}),e}catch{}}(),zL=Gde,Kde=qde,cC=zL,Yde=Cu,Qde=cC?function(e,t){return cC(e,"toString",{configurable:!0,enumerable:!1,value:Kde(t),writable:!0})}:Yde,Xde=Qde,Zde=800,Jde=16,efe=Date.now;function tfe(e){var t=0,r=0;return function(){var n=efe(),a=Jde-(n-r);if(r=n,a>0){if(++t>=Zde)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var rfe=tfe,nfe=Xde,afe=rfe,ife=afe(nfe),sfe=ife,ofe=Cu,lfe=Ude,cfe=sfe;function ufe(e,t){return cfe(lfe(e,t,ofe),e+"")}var dfe=ufe,ffe=hN,hfe=bh,mfe=ON,pfe=Js;function gfe(e,t,r){if(!pfe(r))return!1;var n=typeof t;return(n=="number"?hfe(r)&&mfe(t,r.length):n=="string"&&t in r)?ffe(r[t],e):!1}var rv=gfe,yfe=RL,vfe=Fde,xfe=dfe,uC=rv,bfe=xfe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&uC(e,t[0],t[1])?t=[]:r>2&&uC(t[0],t[1],t[2])&&(t=[t[0]]),vfe(e,yfe(t,1),[])}),wfe=bfe;const $N=yt(wfe);function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aw.apply(this,arguments)}function jfe(e,t){return Pfe(e)||kfe(e,t)||Sfe(e,t)||Nfe()}function Nfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sfe(e,t){if(e){if(typeof e=="string")return dC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dC(e,t)}}function dC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Pfe(e){if(Array.isArray(e))return e}function fC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fC(Object(r),!0).forEach(function(n){Cfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cfe(e,t,r){return t=_fe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _fe(e){var t=Afe(e,"string");return vf(t)=="symbol"?t:t+""}function Afe(e,t){if(vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ofe(e){return Array.isArray(e)&&lr(e[0])&&lr(e[1])?e.join(" ~ "):e}var Efe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,g=t.labelClassName,m=t.label,x=t.labelFormatter,v=t.accessibilityLayer,b=v===void 0?!1:v,y=function(){if(d&&d.length){var _={padding:0,margin:0},R=(h?$N(d,h):d).map(function(L,D){if(L.type==="none")return null;var $=D0({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},l),I=L.formatter||f||Ofe,E=L.value,W=L.name,K=E,Q=W;if(I&&K!=null&&Q!=null){var X=I(E,W,L,D,d);if(Array.isArray(X)){var fe=jfe(X,2);K=fe[0],Q=fe[1]}else K=X}return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:$},lr(Q)?O.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,lr(Q)?O.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,O.createElement("span",{className:"recharts-tooltip-item-value"},K),O.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:_},R)}return null},S=D0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),w=D0({margin:0},u),N=!Qe(m),k=N?m:"",P=tt("recharts-default-tooltip",p),C=tt("recharts-tooltip-label",g);N&&x&&d!==void 0&&d!==null&&(k=x(m,d));var M=b?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",aw({className:P,style:S},M),O.createElement("p",{className:C,style:w},O.isValidElement(k)?k:"".concat(k)),y())};function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function am(e,t,r){return t=Tfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tfe(e){var t=Mfe(e,"string");return xf(t)=="symbol"?t:t+""}function Mfe(e,t){if(xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ku="recharts-tooltip-wrapper",$fe={visibility:"hidden"};function Dfe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return tt(Ku,am(am(am(am({},"".concat(Ku,"-right"),ce(r)&&t&&ce(t.x)&&r>=t.x),"".concat(Ku,"-left"),ce(r)&&t&&ce(t.x)&&r<t.x),"".concat(Ku,"-bottom"),ce(n)&&t&&ce(t.y)&&n>=t.y),"".concat(Ku,"-top"),ce(n)&&t&&ce(t.y)&&n<t.y))}function hC(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&ce(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,m=c[n]+u;return g>m?Math.max(d,c[n]):Math.max(f,c[n])}function Ife(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Rfe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=hC({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=hC({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Ife({translateX:d,translateY:f,useTranslate3d:l})):u=$fe,{cssProperties:u,cssClasses:Dfe({translateX:d,translateY:f,coordinate:r})}}function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function mC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(r),!0).forEach(function(n){sw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ffe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WL(n.key),n)}}function zfe(e,t,r){return t&&Lfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bfe(e,t,r){return t=sg(t),Wfe(e,BL()?Reflect.construct(t,r||[],sg(e).constructor):t.apply(e,r))}function Wfe(e,t){if(t&&(Uc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ufe(e)}function Ufe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BL=function(){return!!e})()}function sg(e){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sg(e)}function Vfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iw(e,t)}function iw(e,t){return iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iw(e,t)}function sw(e,t,r){return t=WL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WL(e){var t=qfe(e,"string");return Uc(t)=="symbol"?t:t+""}function qfe(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gC=1,Hfe=function(e){function t(){var r;Ffe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Bfe(this,t,[].concat(a)),sw(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),sw(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Vfe(t,e),zfe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>gC||Math.abs(n.height-this.state.lastBoundingBox.height)>gC)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,g=a.position,m=a.reverseDirection,x=a.useTranslate3d,v=a.viewBox,b=a.wrapperStyle,y=Rfe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:v}),S=y.cssClasses,w=y.cssProperties,N=pC(pC({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return O.createElement("div",{tabIndex:-1,className:S,style:N,ref:function(P){n.wrapperNode=P}},u)}}])}(j.PureComponent),Gfe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Pi={isSsr:Gfe(),get:function(t){return Pi[t]},set:function(t,r){if(typeof t=="string")Pi[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Pi[a]=t[a]})}}};function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function yC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(r),!0).forEach(function(n){DN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VL(n.key),n)}}function Qfe(e,t,r){return t&&Yfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xfe(e,t,r){return t=og(t),Zfe(e,UL()?Reflect.construct(t,r||[],og(e).constructor):t.apply(e,r))}function Zfe(e,t){if(t&&(Vc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jfe(e)}function Jfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UL=function(){return!!e})()}function og(e){return og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},og(e)}function ehe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ow(e,t)}function ow(e,t){return ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ow(e,t)}function DN(e,t,r){return t=VL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VL(e){var t=the(e,"string");return Vc(t)=="symbol"?t:t+""}function the(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rhe(e){return e.dataKey}function nhe(e,t){return O.isValidElement(e)?O.cloneElement(e,t):typeof e=="function"?O.createElement(e,t):O.createElement(Efe,t)}var Ta=function(e){function t(){return Kfe(this,t),Xfe(this,t,arguments)}return ehe(t,e),Qfe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,g=a.payload,m=a.payloadUniqBy,x=a.position,v=a.reverseDirection,b=a.useTranslate3d,y=a.viewBox,S=a.wrapperStyle,w=g??[];f&&w.length&&(w=ML(g.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),m,rhe));var N=w.length>0;return O.createElement(Hfe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:N,offset:p,position:x,reverseDirection:v,useTranslate3d:b,viewBox:y,wrapperStyle:S},nhe(u,vC(vC({},this.props),{},{payload:w})))}}])}(j.PureComponent);DN(Ta,"displayName","Tooltip");DN(Ta,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Pi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var ahe=li,ihe=function(){return ahe.Date.now()},she=ihe,ohe=/\s/;function lhe(e){for(var t=e.length;t--&&ohe.test(e.charAt(t)););return t}var che=lhe,uhe=che,dhe=/^\s+/;function fhe(e){return e&&e.slice(0,uhe(e)+1).replace(dhe,"")}var hhe=fhe,mhe=hhe,xC=Js,phe=bu,bC=NaN,ghe=/^[-+]0x[0-9a-f]+$/i,yhe=/^0b[01]+$/i,vhe=/^0o[0-7]+$/i,xhe=parseInt;function bhe(e){if(typeof e=="number")return e;if(phe(e))return bC;if(xC(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=xC(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=mhe(e);var r=yhe.test(e);return r||vhe.test(e)?xhe(e.slice(2),r?2:8):ghe.test(e)?bC:+e}var qL=bhe,whe=Js,I0=she,wC=qL,jhe="Expected a function",Nhe=Math.max,She=Math.min;function khe(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(jhe);t=wC(t)||0,whe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?Nhe(wC(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(N){var k=n,P=a;return n=a=void 0,u=N,o=e.apply(P,k),o}function g(N){return u=N,l=setTimeout(v,t),d?p(N):o}function m(N){var k=N-c,P=N-u,C=t-k;return f?She(C,i-P):C}function x(N){var k=N-c,P=N-u;return c===void 0||k>=t||k<0||f&&P>=i}function v(){var N=I0();if(x(N))return b(N);l=setTimeout(v,m(N))}function b(N){return l=void 0,h&&n?p(N):(n=a=void 0,o)}function y(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function S(){return l===void 0?o:b(I0())}function w(){var N=I0(),k=x(N);if(n=arguments,a=this,c=N,k){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(v,t),p(c)}return l===void 0&&(l=setTimeout(v,t)),o}return w.cancel=y,w.flush=S,w}var Phe=khe,Che=Phe,_he=Js,Ahe="Expected a function";function Ohe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(Ahe);return _he(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),Che(e,t,{leading:n,maxWait:t,trailing:a})}var Ehe=Ohe;const HL=yt(Ehe);function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function jC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function im(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(r),!0).forEach(function(n){The(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function The(e,t,r){return t=Mhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mhe(e){var t=$he(e,"string");return bf(t)=="symbol"?t:t+""}function $he(e,t){if(bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dhe(e,t){return Lhe(e)||Fhe(e,t)||Rhe(e,t)||Ihe()}function Ihe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rhe(e,t){if(e){if(typeof e=="string")return NC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NC(e,t)}}function NC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fhe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Lhe(e){if(Array.isArray(e))return e}var zhe=j.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,g=e.debounce,m=g===void 0?0:g,x=e.id,v=e.className,b=e.onResize,y=e.style,S=y===void 0?{}:y,w=j.useRef(null),N=j.useRef();N.current=b,j.useImperativeHandle(t,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var k=j.useState({containerWidth:a.width,containerHeight:a.height}),P=Dhe(k,2),C=P[0],M=P[1],A=j.useCallback(function(R,L){M(function(D){var $=Math.round(R),I=Math.round(L);return D.containerWidth===$&&D.containerHeight===I?D:{containerWidth:$,containerHeight:I}})},[]);j.useEffect(function(){var R=function(W){var K,Q=W[0].contentRect,X=Q.width,fe=Q.height;A(X,fe),(K=N.current)===null||K===void 0||K.call(N,X,fe)};m>0&&(R=HL(R,m,{trailing:!0,leading:!1}));var L=new ResizeObserver(R),D=w.current.getBoundingClientRect(),$=D.width,I=D.height;return A($,I),L.observe(w.current),function(){L.disconnect()}},[A,m]);var _=j.useMemo(function(){var R=C.containerWidth,L=C.containerHeight;if(R<0||L<0)return null;ki(xo(o)||xo(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ki(!r||r>0,"The aspect(%s) must be greater than zero.",r);var D=xo(o)?R:o,$=xo(c)?L:c;r&&r>0&&(D?$=D/r:$&&(D=$*r),h&&$>h&&($=h)),ki(D>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,$,o,c,d,f,r);var I=!Array.isArray(p)&&Si(p.type).endsWith("Chart");return O.Children.map(p,function(E){return O.isValidElement(E)?j.cloneElement(E,im({width:D,height:$},I?{style:im({height:"100%",width:"100%",maxHeight:$,maxWidth:D},E.props.style)}:{})):E})},[r,p,c,h,f,d,C,o]);return O.createElement("div",{id:x?"".concat(x):void 0,className:tt("recharts-responsive-container",v),style:im(im({},S),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:w},_)}),GL=function(t){return null};GL.displayName="Cell";function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function SC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(r),!0).forEach(function(n){Bhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bhe(e,t,r){return t=Whe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Whe(e){var t=Uhe(e,"string");return wf(t)=="symbol"?t:t+""}function Uhe(e,t){if(wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yl={widthCache:{},cacheCount:0},Vhe=2e3,qhe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kC="recharts_measurement_span";function Hhe(e){var t=lw({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var _d=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Pi.isSsr)return{width:0,height:0};var n=Hhe(r),a=JSON.stringify({text:t,copyStyle:n});if(yl.widthCache[a])return yl.widthCache[a];try{var i=document.getElementById(kC);i||(i=document.createElement("span"),i.setAttribute("id",kC),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=lw(lw({},qhe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return yl.widthCache[a]=c,++yl.cacheCount>Vhe&&(yl.cacheCount=0,yl.widthCache={}),c}catch{return{width:0,height:0}}},Ghe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function lg(e,t){return Xhe(e)||Qhe(e,t)||Yhe(e,t)||Khe()}function Khe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yhe(e,t){if(e){if(typeof e=="string")return PC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PC(e,t)}}function PC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qhe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Xhe(e){if(Array.isArray(e))return e}function Zhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eme(n.key),n)}}function Jhe(e,t,r){return t&&CC(e.prototype,t),r&&CC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eme(e){var t=tme(e,"string");return jf(t)=="symbol"?t:t+""}function tme(e,t){if(jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _C=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rme=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,nme=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,KL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ame=Object.keys(KL),Rl="NaN";function ime(e,t){return e*KL[t]}var sm=function(){function e(t,r){Zhe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!rme.test(r)&&(this.num=NaN,this.unit=""),ame.includes(r)&&(this.num=ime(t,r),this.unit="px")}return Jhe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=nme.exec(r))!==null&&n!==void 0?n:[],i=lg(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function YL(e){if(e.includes(Rl))return Rl;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=_C.exec(t))!==null&&r!==void 0?r:[],a=lg(n,4),i=a[1],o=a[2],l=a[3],c=sm.parse(i??""),u=sm.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Rl;t=t.replace(_C,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=AC.exec(t))!==null&&f!==void 0?f:[],p=lg(h,4),g=p[1],m=p[2],x=p[3],v=sm.parse(g??""),b=sm.parse(x??""),y=m==="+"?v.add(b):v.subtract(b);if(y.isNaN())return Rl;t=t.replace(AC,y.toString())}return t}var OC=/\(([^()]*)\)/;function sme(e){for(var t=e;t.includes("(");){var r=OC.exec(t),n=lg(r,2),a=n[1];t=t.replace(OC,YL(a))}return t}function ome(e){var t=e.replace(/\s+/g,"");return t=sme(t),t=YL(t),t}function lme(e){try{return ome(e)}catch{return Rl}}function R0(e){var t=lme(e.slice(5,-1));return t===Rl?"":t}var cme=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ume=["dx","dy","angle","className","breakAll"];function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cw.apply(this,arguments)}function EC(e,t){if(e==null)return{};var r=dme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function TC(e,t){return pme(e)||mme(e,t)||hme(e,t)||fme()}function fme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hme(e,t){if(e){if(typeof e=="string")return MC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MC(e,t)}}function MC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mme(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function pme(e){if(Array.isArray(e))return e}var QL=/[ \f\n\r\t\v\u2028\u2029]+/,XL=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Qe(r)||(n?i=r.toString().split(""):i=r.toString().split(QL));var o=i.map(function(c){return{word:c,width:_d(c,a).width}}),l=n?0:_d("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},gme=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=ce(o),f=l,h=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function($,I){var E=I.word,W=I.width,K=$[$.length-1];if(K&&(a==null||i||K.width+W+n<Number(a)))K.words.push(E),K.width+=W+n;else{var Q={words:[E],width:W};$.push(Q)}return $},[])},p=h(r),g=function(D){return D.reduce(function($,I){return $.width>I.width?$:I})};if(!d)return p;for(var m="",x=function(D){var $=f.slice(0,D),I=XL({breakAll:u,style:c,children:$+m}).wordsWithComputedWidth,E=h(I),W=E.length>o||g(E).width>Number(a);return[W,E]},v=0,b=f.length-1,y=0,S;v<=b&&y<=f.length-1;){var w=Math.floor((v+b)/2),N=w-1,k=x(N),P=TC(k,2),C=P[0],M=P[1],A=x(w),_=TC(A,1),R=_[0];if(!C&&!R&&(v=w+1),C&&R&&(b=w-1),!C&&R){S=M;break}y++}return S||p},$C=function(t){var r=Qe(t)?[]:t.toString().split(QL);return[{words:r}]},yme=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Pi.isSsr){var c,u,d=XL({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return $C(a);return gme({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return $C(a)},DC="#808080",cg=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,x=t.fill,v=x===void 0?DC:x,b=EC(t,cme),y=j.useMemo(function(){return yme({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),S=b.dx,w=b.dy,N=b.angle,k=b.className,P=b.breakAll,C=EC(b,ume);if(!lr(n)||!lr(i))return null;var M=n+(ce(S)?S:0),A=i+(ce(w)?w:0),_;switch(m){case"start":_=R0("calc(".concat(u,")"));break;case"middle":_=R0("calc(".concat((y.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:_=R0("calc(".concat(y.length-1," * -").concat(l,")"));break}var R=[];if(f){var L=y[0].width,D=b.width;R.push("scale(".concat((ce(D)?D/L:1)/L,")"))}return N&&R.push("rotate(".concat(N,", ").concat(M,", ").concat(A,")")),R.length&&(C.transform=R.join(" ")),O.createElement("text",cw({},Je(C,!0),{x:M,y:A,className:tt("recharts-text",k),textAnchor:p,fill:v.includes("url")?DC:v}),y.map(function($,I){var E=$.words.join(P?"":" ");return O.createElement("tspan",{x:M,dy:I===0?_:l,key:"".concat(E,"-").concat(I)},E)}))};function Os(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vme(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function IN(e){let t,r,n;e.length!==2?(t=Os,r=(l,c)=>Os(e(l),c),n=(l,c)=>e(l)-c):(t=e===Os||e===vme?e:xme,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function xme(){return 0}function ZL(e){return e===null?NaN:+e}function*bme(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const wme=IN(Os),wh=wme.right;IN(ZL).center;class IC extends Map{constructor(t,r=Sme){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(RC(this,t))}has(t){return super.has(RC(this,t))}set(t,r){return super.set(jme(this,t),r)}delete(t){return super.delete(Nme(this,t))}}function RC({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function jme({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Nme({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Sme(e){return e!==null&&typeof e=="object"?e.valueOf():e}function kme(e=Os){if(e===Os)return JL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function JL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Pme=Math.sqrt(50),Cme=Math.sqrt(10),_me=Math.sqrt(2);function ug(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=Pme?10:i>=Cme?5:i>=_me?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?ug(e,t,r*2):[l,c,u]}function uw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?ug(t,e,r):ug(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function dw(e,t,r){return t=+t,e=+e,r=+r,ug(e,t,r)[2]}function fw(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?dw(t,e,r):dw(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function FC(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function LC(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function e8(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?JL:kme(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));e8(e,t,p,g,a)}const i=e[t];let o=r,l=n;for(Yu(e,r,t),a(e[n],i)>0&&Yu(e,r,n);o<l;){for(Yu(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Yu(e,r,l):(++l,Yu(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Yu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Ame(e,t,r){if(e=Float64Array.from(bme(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return LC(e);if(t>=1)return FC(e);var n,a=(n-1)*t,i=Math.floor(a),o=FC(e8(e,i).subarray(0,i+1)),l=LC(e.subarray(i+1));return o+(l-o)*(a-i)}}function Ome(e,t,r=ZL){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function Eme(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Jn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function qi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const hw=Symbol("implicit");function RN(){var e=new IC,t=[],r=[],n=hw;function a(i){let o=e.get(i);if(o===void 0){if(n!==hw)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new IC;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return RN(t,r).unknown(n)},Jn.apply(a,arguments),a}function Nf(){var e=RN().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,g=p?a:n,m=p?n:a;i=(m-g)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),g+=(m-g-i*(h-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var x=Eme(h).map(function(v){return g+i*v});return r(p?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Nf(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},Jn.apply(f(),arguments)}function t8(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t8(t())},e}function Ad(){return t8(Nf.apply(null,arguments).paddingInner(1))}function FN(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function r8(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function jh(){}var Sf=.7,dg=1/Sf,ic="\\s*([+-]?\\d+)\\s*",kf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Tme=/^#([0-9a-f]{3,8})$/,Mme=new RegExp(`^rgb\\(${ic},${ic},${ic}\\)$`),$me=new RegExp(`^rgb\\(${Qa},${Qa},${Qa}\\)$`),Dme=new RegExp(`^rgba\\(${ic},${ic},${ic},${kf}\\)$`),Ime=new RegExp(`^rgba\\(${Qa},${Qa},${Qa},${kf}\\)$`),Rme=new RegExp(`^hsl\\(${kf},${Qa},${Qa}\\)$`),Fme=new RegExp(`^hsla\\(${kf},${Qa},${Qa},${kf}\\)$`),zC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};FN(jh,Pf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:BC,formatHex:BC,formatHex8:Lme,formatHsl:zme,formatRgb:WC,toString:WC});function BC(){return this.rgb().formatHex()}function Lme(){return this.rgb().formatHex8()}function zme(){return n8(this).formatHsl()}function WC(){return this.rgb().formatRgb()}function Pf(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Tme.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?UC(t):r===3?new ln(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?om(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?om(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Mme.exec(e))?new ln(t[1],t[2],t[3],1):(t=$me.exec(e))?new ln(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Dme.exec(e))?om(t[1],t[2],t[3],t[4]):(t=Ime.exec(e))?om(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Rme.exec(e))?HC(t[1],t[2]/100,t[3]/100,1):(t=Fme.exec(e))?HC(t[1],t[2]/100,t[3]/100,t[4]):zC.hasOwnProperty(e)?UC(zC[e]):e==="transparent"?new ln(NaN,NaN,NaN,0):null}function UC(e){return new ln(e>>16&255,e>>8&255,e&255,1)}function om(e,t,r,n){return n<=0&&(e=t=r=NaN),new ln(e,t,r,n)}function Bme(e){return e instanceof jh||(e=Pf(e)),e?(e=e.rgb(),new ln(e.r,e.g,e.b,e.opacity)):new ln}function mw(e,t,r,n){return arguments.length===1?Bme(e):new ln(e,t,r,n??1)}function ln(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}FN(ln,mw,r8(jh,{brighter(e){return e=e==null?dg:Math.pow(dg,e),new ln(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Sf:Math.pow(Sf,e),new ln(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ln($o(this.r),$o(this.g),$o(this.b),fg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VC,formatHex:VC,formatHex8:Wme,formatRgb:qC,toString:qC}));function VC(){return`#${bo(this.r)}${bo(this.g)}${bo(this.b)}`}function Wme(){return`#${bo(this.r)}${bo(this.g)}${bo(this.b)}${bo((isNaN(this.opacity)?1:this.opacity)*255)}`}function qC(){const e=fg(this.opacity);return`${e===1?"rgb(":"rgba("}${$o(this.r)}, ${$o(this.g)}, ${$o(this.b)}${e===1?")":`, ${e})`}`}function fg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $o(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function bo(e){return e=$o(e),(e<16?"0":"")+e.toString(16)}function HC(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ma(e,t,r,n)}function n8(e){if(e instanceof ma)return new ma(e.h,e.s,e.l,e.opacity);if(e instanceof jh||(e=Pf(e)),!e)return new ma;if(e instanceof ma)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new ma(o,l,c,e.opacity)}function Ume(e,t,r,n){return arguments.length===1?n8(e):new ma(e,t,r,n??1)}function ma(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}FN(ma,Ume,r8(jh,{brighter(e){return e=e==null?dg:Math.pow(dg,e),new ma(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Sf:Math.pow(Sf,e),new ma(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ln(F0(e>=240?e-240:e+120,a,n),F0(e,a,n),F0(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ma(GC(this.h),lm(this.s),lm(this.l),fg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fg(this.opacity);return`${e===1?"hsl(":"hsla("}${GC(this.h)}, ${lm(this.s)*100}%, ${lm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function GC(e){return e=(e||0)%360,e<0?e+360:e}function lm(e){return Math.max(0,Math.min(1,e||0))}function F0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const LN=e=>()=>e;function Vme(e,t){return function(r){return e+r*t}}function qme(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Hme(e){return(e=+e)==1?a8:function(t,r){return r-t?qme(t,r,e):LN(isNaN(t)?r:t)}}function a8(e,t){var r=t-e;return r?Vme(e,r):LN(isNaN(e)?t:e)}const KC=function e(t){var r=Hme(t);function n(a,i){var o=r((a=mw(a)).r,(i=mw(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=a8(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function Gme(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function Kme(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Yme(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=_u(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function Qme(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function hg(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Xme(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=_u(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var pw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,L0=new RegExp(pw.source,"g");function Zme(e){return function(){return e}}function Jme(e){return function(t){return e(t)+""}}function epe(e,t){var r=pw.lastIndex=L0.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=pw.exec(e))&&(a=L0.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:hg(n,a)})),r=L0.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?Jme(c[0].x):Zme(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function _u(e,t){var r=typeof t,n;return t==null||r==="boolean"?LN(t):(r==="number"?hg:r==="string"?(n=Pf(t))?(t=n,KC):epe:t instanceof Pf?KC:t instanceof Date?Qme:Kme(t)?Gme:Array.isArray(t)?Yme:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Xme:hg)(e,t)}function zN(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function tpe(e,t){t===void 0&&(t=e,e=_u);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function rpe(e){return function(){return e}}function mg(e){return+e}var YC=[0,1];function Kr(e){return e}function gw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:rpe(isNaN(t)?NaN:.5)}function npe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function ape(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=gw(a,n),i=r(o,i)):(n=gw(n,a),i=r(i,o)),function(l){return i(n(l))}}function ipe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=gw(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=wh(e,l,1,n)-1;return i[c](a[c](l))}}function Nh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function nv(){var e=YC,t=YC,r=_u,n,a,i,o=Kr,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Kr&&(o=npe(e[0],e[h-1])),l=h>2?ipe:ape,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),hg)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,mg),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=zN,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Kr,d()):o!==Kr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function BN(){return nv()(Kr,Kr)}function spe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function pg(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function qc(e){return e=pg(Math.abs(e)),e?e[1]:NaN}function ope(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function lpe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var cpe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cf(e){if(!(t=cpe.exec(e)))throw new Error("invalid format: "+e);var t;return new WN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Cf.prototype=WN.prototype;function WN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}WN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function upe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var i8;function dpe(e,t){var r=pg(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(i8=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+pg(e,Math.max(0,t+i-1))[0]}function QC(e,t){var r=pg(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const XC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:spe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>QC(e*100,t),r:QC,s:dpe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ZC(e){return e}var JC=Array.prototype.map,e_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fpe(e){var t=e.grouping===void 0||e.thousands===void 0?ZC:ope(JC.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?ZC:lpe(JC.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Cf(f);var h=f.fill,p=f.align,g=f.sign,m=f.symbol,x=f.zero,v=f.width,b=f.comma,y=f.precision,S=f.trim,w=f.type;w==="n"?(b=!0,w="g"):XC[w]||(y===void 0&&(y=12),S=!0,w="g"),(x||h==="0"&&p==="=")&&(x=!0,h="0",p="=");var N=m==="$"?r:m==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",k=m==="$"?n:/[%p]/.test(w)?o:"",P=XC[w],C=/[defgprs%]/.test(w);y=y===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function M(A){var _=N,R=k,L,D,$;if(w==="c")R=P(A)+R,A="";else{A=+A;var I=A<0||1/A<0;if(A=isNaN(A)?c:P(Math.abs(A),y),S&&(A=upe(A)),I&&+A==0&&g!=="+"&&(I=!1),_=(I?g==="("?g:l:g==="-"||g==="("?"":g)+_,R=(w==="s"?e_[8+i8/3]:"")+R+(I&&g==="("?")":""),C){for(L=-1,D=A.length;++L<D;)if($=A.charCodeAt(L),48>$||$>57){R=($===46?a+A.slice(L+1):A.slice(L))+R,A=A.slice(0,L);break}}}b&&!x&&(A=t(A,1/0));var E=_.length+A.length+R.length,W=E<v?new Array(v-E+1).join(h):"";switch(b&&x&&(A=t(W+A,W.length?v-R.length:1/0),W=""),p){case"<":A=_+A+R+W;break;case"=":A=_+W+A+R;break;case"^":A=W.slice(0,E=W.length>>1)+_+A+R+W.slice(E);break;default:A=W+_+A+R;break}return i(A)}return M.toString=function(){return f+""},M}function d(f,h){var p=u((f=Cf(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(qc(h)/3)))*3,m=Math.pow(10,-g),x=e_[8+g/3];return function(v){return p(m*v)+x}}return{format:u,formatPrefix:d}}var cm,UN,s8;hpe({thousands:",",grouping:[3],currency:["$",""]});function hpe(e){return cm=fpe(e),UN=cm.format,s8=cm.formatPrefix,cm}function mpe(e){return Math.max(0,-qc(Math.abs(e)))}function ppe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qc(t)/3)))*3-qc(Math.abs(e)))}function gpe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,qc(t)-qc(e))+1}function o8(e,t,r,n){var a=fw(e,t,r),i;switch(n=Cf(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=ppe(a,o))&&(n.precision=i),s8(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=gpe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=mpe(a))&&(n.precision=i-(n.type==="%")*2);break}}return UN(n)}function to(e){var t=e.domain;return e.ticks=function(r){var n=t();return uw(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return o8(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=dw(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function gg(){var e=BN();return e.copy=function(){return Nh(e,gg())},Jn.apply(e,arguments),to(e)}function l8(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,mg),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return l8(e).unknown(t)},e=arguments.length?Array.from(e,mg):[0,1],to(r)}function c8(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function t_(e){return Math.log(e)}function r_(e){return Math.exp(e)}function ype(e){return-Math.log(-e)}function vpe(e){return-Math.exp(-e)}function xpe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bpe(e){return e===10?xpe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function wpe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function n_(e){return(t,r)=>-e(-t,r)}function VN(e){const t=e(t_,r_),r=t.domain;let n=10,a,i;function o(){return a=wpe(n),i=bpe(n),r()[0]<0?(a=n_(a),i=n_(i),e(ype,vpe)):e(t_,r_),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),g,m;const x=l==null?10:+l;let v=[];if(!(n%1)&&p-h<x){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;v.push(m)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<u)){if(m>d)break;v.push(m)}v.length*2<x&&(v=uw(u,d,x))}else v=uw(h,p,Math.min(p-h,x)).map(i);return f?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Cf(c)).precision==null&&(c.trim=!0),c=UN(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(c8(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function u8(){const e=VN(nv()).domain([1,10]);return e.copy=()=>Nh(e,u8()).base(e.base()),Jn.apply(e,arguments),e}function a_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function i_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function qN(e){var t=1,r=e(a_(t),i_(t));return r.constant=function(n){return arguments.length?e(a_(t=+n),i_(t)):t},to(r)}function d8(){var e=qN(nv());return e.copy=function(){return Nh(e,d8()).constant(e.constant())},Jn.apply(e,arguments)}function s_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function jpe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Npe(e){return e<0?-e*e:e*e}function HN(e){var t=e(Kr,Kr),r=1;function n(){return r===1?e(Kr,Kr):r===.5?e(jpe,Npe):e(s_(r),s_(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},to(t)}function GN(){var e=HN(nv());return e.copy=function(){return Nh(e,GN()).exponent(e.exponent())},Jn.apply(e,arguments),e}function Spe(){return GN.apply(null,arguments).exponent(.5)}function o_(e){return Math.sign(e)*e*e}function kpe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function f8(){var e=BN(),t=[0,1],r=!1,n;function a(i){var o=kpe(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(o_(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,mg)).map(o_)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return f8(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Jn.apply(a,arguments),to(a)}function h8(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Ome(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[wh(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Os),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return h8().domain(e).range(t).unknown(n)},Jn.apply(i,arguments)}function m8(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[wh(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return m8().domain([e,t]).range(a).unknown(i)},Jn.apply(to(o),arguments)}function p8(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[wh(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return p8().domain(e).range(t).unknown(r)},Jn.apply(a,arguments)}const z0=new Date,B0=new Date;function ur(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>ur(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(z0.setTime(+i),B0.setTime(+o),e(z0),e(B0),Math.floor(r(z0,B0))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const yg=ur(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);yg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ur(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):yg);yg.range;const bi=1e3,Un=bi*60,wi=Un*60,Ri=wi*24,KN=Ri*7,l_=Ri*30,W0=Ri*365,wo=ur(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*bi)},(e,t)=>(t-e)/bi,e=>e.getUTCSeconds());wo.range;const YN=ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bi)},(e,t)=>{e.setTime(+e+t*Un)},(e,t)=>(t-e)/Un,e=>e.getMinutes());YN.range;const QN=ur(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Un)},(e,t)=>(t-e)/Un,e=>e.getUTCMinutes());QN.range;const XN=ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bi-e.getMinutes()*Un)},(e,t)=>{e.setTime(+e+t*wi)},(e,t)=>(t-e)/wi,e=>e.getHours());XN.range;const ZN=ur(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*wi)},(e,t)=>(t-e)/wi,e=>e.getUTCHours());ZN.range;const Sh=ur(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Un)/Ri,e=>e.getDate()-1);Sh.range;const av=ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ri,e=>e.getUTCDate()-1);av.range;const g8=ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ri,e=>Math.floor(e/Ri));g8.range;function ll(e){return ur(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Un)/KN)}const iv=ll(0),vg=ll(1),Ppe=ll(2),Cpe=ll(3),Hc=ll(4),_pe=ll(5),Ape=ll(6);iv.range;vg.range;Ppe.range;Cpe.range;Hc.range;_pe.range;Ape.range;function cl(e){return ur(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/KN)}const sv=cl(0),xg=cl(1),Ope=cl(2),Epe=cl(3),Gc=cl(4),Tpe=cl(5),Mpe=cl(6);sv.range;xg.range;Ope.range;Epe.range;Gc.range;Tpe.range;Mpe.range;const JN=ur(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());JN.range;const eS=ur(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());eS.range;const Fi=ur(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Fi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ur(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Fi.range;const Li=ur(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Li.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ur(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Li.range;function y8(e,t,r,n,a,i){const o=[[wo,1,bi],[wo,5,5*bi],[wo,15,15*bi],[wo,30,30*bi],[i,1,Un],[i,5,5*Un],[i,15,15*Un],[i,30,30*Un],[a,1,wi],[a,3,3*wi],[a,6,6*wi],[a,12,12*wi],[n,1,Ri],[n,2,2*Ri],[r,1,KN],[t,1,l_],[t,3,3*l_],[e,1,W0]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),g=p?p.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,p=IN(([,,x])=>x).right(o,h);if(p===o.length)return e.every(fw(u/W0,d/W0,f));if(p===0)return yg.every(Math.max(fw(u,d,f),1));const[g,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(m)}return[l,c]}const[$pe,Dpe]=y8(Li,eS,sv,g8,ZN,QN),[Ipe,Rpe]=y8(Fi,JN,iv,Sh,XN,YN);function U0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function V0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Qu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Fpe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Xu(a),d=Zu(a),f=Xu(i),h=Zu(i),p=Xu(o),g=Zu(o),m=Xu(l),x=Zu(l),v=Xu(c),b=Zu(c),y={a:I,A:E,b:W,B:K,c:null,d:m_,e:m_,f:oge,g:yge,G:xge,H:age,I:ige,j:sge,L:v8,m:lge,M:cge,p:Q,q:X,Q:y_,s:v_,S:uge,u:dge,U:fge,V:hge,w:mge,W:pge,x:null,X:null,y:gge,Y:vge,Z:bge,"%":g_},S={a:fe,A:Ae,b:ze,B:Re,c:null,d:p_,e:p_,f:Sge,g:$ge,G:Ige,H:wge,I:jge,j:Nge,L:b8,m:kge,M:Pge,p:ve,q:ke,Q:y_,s:v_,S:Cge,u:_ge,U:Age,V:Oge,w:Ege,W:Tge,x:null,X:null,y:Mge,Y:Dge,Z:Rge,"%":g_},w={a:M,A,b:_,B:R,c:L,d:f_,e:f_,f:ege,g:d_,G:u_,H:h_,I:h_,j:Qpe,L:Jpe,m:Ype,M:Xpe,p:C,q:Kpe,Q:rge,s:nge,S:Zpe,u:Upe,U:Vpe,V:qpe,w:Wpe,W:Hpe,x:D,X:$,y:d_,Y:u_,Z:Gpe,"%":tge};y.x=N(r,y),y.X=N(n,y),y.c=N(t,y),S.x=N(r,S),S.X=N(n,S),S.c=N(t,S);function N(J,ie){return function(V){var z=[],se=-1,H=0,ae=J.length,Ne,G,xe;for(V instanceof Date||(V=new Date(+V));++se<ae;)J.charCodeAt(se)===37&&(z.push(J.slice(H,se)),(G=c_[Ne=J.charAt(++se)])!=null?Ne=J.charAt(++se):G=Ne==="e"?" ":"0",(xe=ie[Ne])&&(Ne=xe(V,G)),z.push(Ne),H=se+1);return z.push(J.slice(H,se)),z.join("")}}function k(J,ie){return function(V){var z=Qu(1900,void 0,1),se=P(z,J,V+="",0),H,ae;if(se!=V.length)return null;if("Q"in z)return new Date(z.Q);if("s"in z)return new Date(z.s*1e3+("L"in z?z.L:0));if(ie&&!("Z"in z)&&(z.Z=0),"p"in z&&(z.H=z.H%12+z.p*12),z.m===void 0&&(z.m="q"in z?z.q:0),"V"in z){if(z.V<1||z.V>53)return null;"w"in z||(z.w=1),"Z"in z?(H=V0(Qu(z.y,0,1)),ae=H.getUTCDay(),H=ae>4||ae===0?xg.ceil(H):xg(H),H=av.offset(H,(z.V-1)*7),z.y=H.getUTCFullYear(),z.m=H.getUTCMonth(),z.d=H.getUTCDate()+(z.w+6)%7):(H=U0(Qu(z.y,0,1)),ae=H.getDay(),H=ae>4||ae===0?vg.ceil(H):vg(H),H=Sh.offset(H,(z.V-1)*7),z.y=H.getFullYear(),z.m=H.getMonth(),z.d=H.getDate()+(z.w+6)%7)}else("W"in z||"U"in z)&&("w"in z||(z.w="u"in z?z.u%7:"W"in z?1:0),ae="Z"in z?V0(Qu(z.y,0,1)).getUTCDay():U0(Qu(z.y,0,1)).getDay(),z.m=0,z.d="W"in z?(z.w+6)%7+z.W*7-(ae+5)%7:z.w+z.U*7-(ae+6)%7);return"Z"in z?(z.H+=z.Z/100|0,z.M+=z.Z%100,V0(z)):U0(z)}}function P(J,ie,V,z){for(var se=0,H=ie.length,ae=V.length,Ne,G;se<H;){if(z>=ae)return-1;if(Ne=ie.charCodeAt(se++),Ne===37){if(Ne=ie.charAt(se++),G=w[Ne in c_?ie.charAt(se++):Ne],!G||(z=G(J,V,z))<0)return-1}else if(Ne!=V.charCodeAt(z++))return-1}return z}function C(J,ie,V){var z=u.exec(ie.slice(V));return z?(J.p=d.get(z[0].toLowerCase()),V+z[0].length):-1}function M(J,ie,V){var z=p.exec(ie.slice(V));return z?(J.w=g.get(z[0].toLowerCase()),V+z[0].length):-1}function A(J,ie,V){var z=f.exec(ie.slice(V));return z?(J.w=h.get(z[0].toLowerCase()),V+z[0].length):-1}function _(J,ie,V){var z=v.exec(ie.slice(V));return z?(J.m=b.get(z[0].toLowerCase()),V+z[0].length):-1}function R(J,ie,V){var z=m.exec(ie.slice(V));return z?(J.m=x.get(z[0].toLowerCase()),V+z[0].length):-1}function L(J,ie,V){return P(J,t,ie,V)}function D(J,ie,V){return P(J,r,ie,V)}function $(J,ie,V){return P(J,n,ie,V)}function I(J){return o[J.getDay()]}function E(J){return i[J.getDay()]}function W(J){return c[J.getMonth()]}function K(J){return l[J.getMonth()]}function Q(J){return a[+(J.getHours()>=12)]}function X(J){return 1+~~(J.getMonth()/3)}function fe(J){return o[J.getUTCDay()]}function Ae(J){return i[J.getUTCDay()]}function ze(J){return c[J.getUTCMonth()]}function Re(J){return l[J.getUTCMonth()]}function ve(J){return a[+(J.getUTCHours()>=12)]}function ke(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var ie=N(J+="",y);return ie.toString=function(){return J},ie},parse:function(J){var ie=k(J+="",!1);return ie.toString=function(){return J},ie},utcFormat:function(J){var ie=N(J+="",S);return ie.toString=function(){return J},ie},utcParse:function(J){var ie=k(J+="",!0);return ie.toString=function(){return J},ie}}}var c_={"-":"",_:" ",0:"0"},gr=/^\s*\d+/,Lpe=/^%/,zpe=/[\\^$*+?|[\]().{}]/g;function st(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Bpe(e){return e.replace(zpe,"\\$&")}function Xu(e){return new RegExp("^(?:"+e.map(Bpe).join("|")+")","i")}function Zu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Wpe(e,t,r){var n=gr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Upe(e,t,r){var n=gr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Vpe(e,t,r){var n=gr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function qpe(e,t,r){var n=gr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Hpe(e,t,r){var n=gr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function u_(e,t,r){var n=gr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function d_(e,t,r){var n=gr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Gpe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Kpe(e,t,r){var n=gr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Ype(e,t,r){var n=gr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function f_(e,t,r){var n=gr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Qpe(e,t,r){var n=gr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function h_(e,t,r){var n=gr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Xpe(e,t,r){var n=gr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Zpe(e,t,r){var n=gr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Jpe(e,t,r){var n=gr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function ege(e,t,r){var n=gr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function tge(e,t,r){var n=Lpe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function rge(e,t,r){var n=gr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function nge(e,t,r){var n=gr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function m_(e,t){return st(e.getDate(),t,2)}function age(e,t){return st(e.getHours(),t,2)}function ige(e,t){return st(e.getHours()%12||12,t,2)}function sge(e,t){return st(1+Sh.count(Fi(e),e),t,3)}function v8(e,t){return st(e.getMilliseconds(),t,3)}function oge(e,t){return v8(e,t)+"000"}function lge(e,t){return st(e.getMonth()+1,t,2)}function cge(e,t){return st(e.getMinutes(),t,2)}function uge(e,t){return st(e.getSeconds(),t,2)}function dge(e){var t=e.getDay();return t===0?7:t}function fge(e,t){return st(iv.count(Fi(e)-1,e),t,2)}function x8(e){var t=e.getDay();return t>=4||t===0?Hc(e):Hc.ceil(e)}function hge(e,t){return e=x8(e),st(Hc.count(Fi(e),e)+(Fi(e).getDay()===4),t,2)}function mge(e){return e.getDay()}function pge(e,t){return st(vg.count(Fi(e)-1,e),t,2)}function gge(e,t){return st(e.getFullYear()%100,t,2)}function yge(e,t){return e=x8(e),st(e.getFullYear()%100,t,2)}function vge(e,t){return st(e.getFullYear()%1e4,t,4)}function xge(e,t){var r=e.getDay();return e=r>=4||r===0?Hc(e):Hc.ceil(e),st(e.getFullYear()%1e4,t,4)}function bge(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+st(t/60|0,"0",2)+st(t%60,"0",2)}function p_(e,t){return st(e.getUTCDate(),t,2)}function wge(e,t){return st(e.getUTCHours(),t,2)}function jge(e,t){return st(e.getUTCHours()%12||12,t,2)}function Nge(e,t){return st(1+av.count(Li(e),e),t,3)}function b8(e,t){return st(e.getUTCMilliseconds(),t,3)}function Sge(e,t){return b8(e,t)+"000"}function kge(e,t){return st(e.getUTCMonth()+1,t,2)}function Pge(e,t){return st(e.getUTCMinutes(),t,2)}function Cge(e,t){return st(e.getUTCSeconds(),t,2)}function _ge(e){var t=e.getUTCDay();return t===0?7:t}function Age(e,t){return st(sv.count(Li(e)-1,e),t,2)}function w8(e){var t=e.getUTCDay();return t>=4||t===0?Gc(e):Gc.ceil(e)}function Oge(e,t){return e=w8(e),st(Gc.count(Li(e),e)+(Li(e).getUTCDay()===4),t,2)}function Ege(e){return e.getUTCDay()}function Tge(e,t){return st(xg.count(Li(e)-1,e),t,2)}function Mge(e,t){return st(e.getUTCFullYear()%100,t,2)}function $ge(e,t){return e=w8(e),st(e.getUTCFullYear()%100,t,2)}function Dge(e,t){return st(e.getUTCFullYear()%1e4,t,4)}function Ige(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Gc(e):Gc.ceil(e),st(e.getUTCFullYear()%1e4,t,4)}function Rge(){return"+0000"}function g_(){return"%"}function y_(e){return+e}function v_(e){return Math.floor(+e/1e3)}var vl,j8,N8;Fge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Fge(e){return vl=Fpe(e),j8=vl.format,vl.parse,N8=vl.utcFormat,vl.utcParse,vl}function Lge(e){return new Date(e)}function zge(e){return e instanceof Date?+e:+new Date(+e)}function tS(e,t,r,n,a,i,o,l,c,u){var d=BN(),f=d.invert,h=d.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),x=u("%I %p"),v=u("%a %d"),b=u("%b %d"),y=u("%B"),S=u("%Y");function w(N){return(c(N)<N?p:l(N)<N?g:o(N)<N?m:i(N)<N?x:n(N)<N?a(N)<N?v:b:r(N)<N?y:S)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,zge)):h().map(Lge)},d.ticks=function(N){var k=h();return e(k[0],k[k.length-1],N??10)},d.tickFormat=function(N,k){return k==null?w:u(k)},d.nice=function(N){var k=h();return(!N||typeof N.range!="function")&&(N=t(k[0],k[k.length-1],N??10)),N?h(c8(k,N)):d},d.copy=function(){return Nh(d,tS(e,t,r,n,a,i,o,l,c,u))},d}function Bge(){return Jn.apply(tS(Ipe,Rpe,Fi,JN,iv,Sh,XN,YN,wo,j8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Wge(){return Jn.apply(tS($pe,Dpe,Li,eS,sv,av,ZN,QN,wo,N8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ov(){var e=0,t=1,r,n,a,i,o=Kr,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,g;return arguments.length?([p,g]=h,o=f(p,g),u):[o(0),o(1)]}}return u.range=d(_u),u.rangeRound=d(zN),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function ro(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function S8(){var e=to(ov()(Kr));return e.copy=function(){return ro(e,S8())},qi.apply(e,arguments)}function k8(){var e=VN(ov()).domain([1,10]);return e.copy=function(){return ro(e,k8()).base(e.base())},qi.apply(e,arguments)}function P8(){var e=qN(ov());return e.copy=function(){return ro(e,P8()).constant(e.constant())},qi.apply(e,arguments)}function rS(){var e=HN(ov());return e.copy=function(){return ro(e,rS()).exponent(e.exponent())},qi.apply(e,arguments)}function Uge(){return rS.apply(null,arguments).exponent(.5)}function C8(){var e=[],t=Kr;function r(n){if(n!=null&&!isNaN(n=+n))return t((wh(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Os),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Ame(e,i/n))},r.copy=function(){return C8(t).domain(e)},qi.apply(r,arguments)}function lv(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=Kr,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(x){var v,b,y;return arguments.length?([v,b,y]=x,u=tpe(m,[v,b,y]),p):[u(0),u(.5),u(1)]}}return p.range=g(_u),p.rangeRound=g(zN),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,a=m(e),i=m(t),o=m(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function _8(){var e=to(lv()(Kr));return e.copy=function(){return ro(e,_8())},qi.apply(e,arguments)}function A8(){var e=VN(lv()).domain([.1,1,10]);return e.copy=function(){return ro(e,A8()).base(e.base())},qi.apply(e,arguments)}function O8(){var e=qN(lv());return e.copy=function(){return ro(e,O8()).constant(e.constant())},qi.apply(e,arguments)}function nS(){var e=HN(lv());return e.copy=function(){return ro(e,nS()).exponent(e.exponent())},qi.apply(e,arguments)}function Vge(){return nS.apply(null,arguments).exponent(.5)}const x_=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Nf,scaleDiverging:_8,scaleDivergingLog:A8,scaleDivergingPow:nS,scaleDivergingSqrt:Vge,scaleDivergingSymlog:O8,scaleIdentity:l8,scaleImplicit:hw,scaleLinear:gg,scaleLog:u8,scaleOrdinal:RN,scalePoint:Ad,scalePow:GN,scaleQuantile:h8,scaleQuantize:m8,scaleRadial:f8,scaleSequential:S8,scaleSequentialLog:k8,scaleSequentialPow:rS,scaleSequentialQuantile:C8,scaleSequentialSqrt:Uge,scaleSequentialSymlog:P8,scaleSqrt:Spe,scaleSymlog:d8,scaleThreshold:p8,scaleTime:Bge,scaleUtc:Wge,tickFormat:o8},Symbol.toStringTag,{value:"Module"}));var qge=bu;function Hge(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!qge(o):r(o,l)))var l=o,c=i}return c}var E8=Hge;function Gge(e,t){return e>t}var Kge=Gge,Yge=E8,Qge=Kge,Xge=Cu;function Zge(e){return e&&e.length?Yge(e,Xge,Qge):void 0}var Jge=Zge;const cv=yt(Jge);function eye(e,t){return e<t}var tye=eye,rye=E8,nye=tye,aye=Cu;function iye(e){return e&&e.length?rye(e,aye,nye):void 0}var sye=iye;const uv=yt(sye);var oye=yN,lye=eo,cye=LL,uye=fn;function dye(e,t){var r=uye(e)?oye:cye;return r(e,lye(t))}var fye=dye,hye=RL,mye=fye;function pye(e,t){return hye(mye(e,t),1)}var gye=pye;const yye=yt(gye);var vye=TN;function xye(e,t){return vye(e,t)}var bye=xye;const dv=yt(bye);var Au=1e9,wye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},iS,Ot=!0,Qn="[DecimalError] ",Do=Qn+"Invalid argument: ",aS=Qn+"Exponent out of range: ",Ou=Math.floor,fo=Math.pow,jye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wn,dr=1e7,kt=7,T8=9007199254740991,bg=Ou(T8/kt),we={};we.absoluteValue=we.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};we.comparedTo=we.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};we.decimalPlaces=we.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*kt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};we.dividedBy=we.div=function(e){return Ci(this,new this.constructor(e))};we.dividedToIntegerBy=we.idiv=function(e){var t=this,r=t.constructor;return xt(Ci(t,new r(e),0,1),r.precision)};we.equals=we.eq=function(e){return!this.cmp(e)};we.exponent=function(){return er(this)};we.greaterThan=we.gt=function(e){return this.cmp(e)>0};we.greaterThanOrEqualTo=we.gte=function(e){return this.cmp(e)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(e){return this.cmp(e)<0};we.lessThanOrEqualTo=we.lte=function(e){return this.cmp(e)<1};we.logarithm=we.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(wn))throw Error(Qn+"NaN");if(r.s<1)throw Error(Qn+(r.s?"NaN":"-Infinity"));return r.eq(wn)?new n(0):(Ot=!1,t=Ci(_f(r,i),_f(e,i),i),Ot=!0,xt(t,a))};we.minus=we.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?D8(t,e):M8(t,(e.s=-e.s,e))};we.modulo=we.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Qn+"NaN");return r.s?(Ot=!1,t=Ci(r,e,0,1).times(e),Ot=!0,r.minus(t)):xt(new n(r),a)};we.naturalExponential=we.exp=function(){return $8(this)};we.naturalLogarithm=we.ln=function(){return _f(this)};we.negated=we.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};we.plus=we.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?M8(t,e):D8(t,(e.s=-e.s,e))};we.precision=we.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Do+e);if(t=er(a)+1,n=a.d.length-1,r=n*kt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};we.squareRoot=we.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Qn+"NaN")}for(e=er(l),Ot=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Ba(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ou((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Ci(l,i,o+2)).times(.5),Ba(i.d).slice(0,o)===(t=Ba(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(xt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Ot=!0,xt(n,r)};we.times=we.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*h[a-n-1]+t,i[a--]=l%dr|0,t=l/dr|0;i[a]=(i[a]+t)%dr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ot?xt(e,f.precision):e};we.toDecimalPlaces=we.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ni(e,0,Au),t===void 0?t=n.rounding:ni(t,0,8),xt(r,e+er(r)+1,t))};we.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=tl(n,!0):(ni(e,0,Au),t===void 0?t=a.rounding:ni(t,0,8),n=xt(new a(n),e+1,t),r=tl(n,!0,e+1)),r};we.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?tl(a):(ni(e,0,Au),t===void 0?t=i.rounding:ni(t,0,8),n=xt(new i(a),e+er(a)+1,t),r=tl(n.abs(),!1,e+er(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};we.toInteger=we.toint=function(){var e=this,t=e.constructor;return xt(new t(e),er(e)+1,t.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(wn);if(l=new c(l),!l.s){if(e.s<1)throw Error(Qn+"Infinity");return l}if(l.eq(wn))return l;if(n=c.precision,e.eq(wn))return xt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=T8){for(a=new c(wn),t=Math.ceil(n/kt+4),Ot=!1;r%2&&(a=a.times(l),w_(a.d,t)),r=Ou(r/2),r!==0;)l=l.times(l),w_(l.d,t);return Ot=!0,e.s<0?new c(wn).div(a):xt(a,n)}}else if(i<0)throw Error(Qn+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ot=!1,a=e.times(_f(l,n+u)),Ot=!0,a=$8(a),a.s=i,a};we.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=er(a),n=tl(a,r<=i.toExpNeg||r>=i.toExpPos)):(ni(e,1,Au),t===void 0?t=i.rounding:ni(t,0,8),a=xt(new i(a),e,t),r=er(a),n=tl(a,e<=r||r<=i.toExpNeg,e)),n};we.toSignificantDigits=we.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ni(e,1,Au),t===void 0?t=n.rounding:ni(t,0,8)),xt(new n(r),e,t)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=er(e),r=e.constructor;return tl(e,t<=r.toExpNeg||t>=r.toExpPos)};function M8(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ot?xt(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/kt),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/dr|0,c[i]%=dr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,Ot?xt(t,f):t}function ni(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Do+e)}function Ba(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=kt-n.length,r&&(i+=ts(r)),i+=n;o=e[t],n=o+"",r=kt-n.length,r&&(i+=ts(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ci=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%dr|0,o=i/dr|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*dr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,p,g,m,x,v,b,y,S,w,N,k,P,C=n.constructor,M=n.s==a.s?1:-1,A=n.d,_=a.d;if(!n.s)return new C(n);if(!a.s)throw Error(Qn+"Division by zero");for(c=n.e-a.e,k=_.length,w=A.length,p=new C(M),g=p.d=[],u=0;_[u]==(A[u]||0);)++u;if(_[u]>(A[u]||0)&&--c,i==null?b=i=C.precision:o?b=i+(er(n)-er(a))+1:b=i,b<0)return new C(0);if(b=b/kt+2|0,u=0,k==1)for(d=0,_=_[0],b++;(u<w||d)&&b--;u++)y=d*dr+(A[u]||0),g[u]=y/_|0,d=y%_|0;else{for(d=dr/(_[0]+1)|0,d>1&&(_=e(_,d),A=e(A,d),k=_.length,w=A.length),S=k,m=A.slice(0,k),x=m.length;x<k;)m[x++]=0;P=_.slice(),P.unshift(0),N=_[0],_[1]>=dr/2&&++N;do d=0,l=t(_,m,k,x),l<0?(v=m[0],k!=x&&(v=v*dr+(m[1]||0)),d=v/N|0,d>1?(d>=dr&&(d=dr-1),f=e(_,d),h=f.length,x=m.length,l=t(f,m,h,x),l==1&&(d--,r(f,k<h?P:_,h))):(d==0&&(l=d=1),f=_.slice()),h=f.length,h<x&&f.unshift(0),r(m,f,x),l==-1&&(x=m.length,l=t(_,m,k,x),l<1&&(d++,r(m,k<x?P:_,x))),x=m.length):l===0&&(d++,m=[0]),g[u++]=d,l&&m[0]?m[x++]=A[S]||0:(m=[A[S]],x=1);while((S++<w||m[0]!==void 0)&&b--)}return g[0]||g.shift(),p.e=c,xt(p,o?i+er(p)+1:i)}}();function $8(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(er(e)>16)throw Error(aS+er(e));if(!e.s)return new d(wn);for(t==null?(Ot=!1,l=f):l=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(fo(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(wn),d.precision=l;;){if(a=xt(a.times(e),l),r=r.times(++c),o=i.plus(Ci(a,r,l)),Ba(o.d).slice(0,l)===Ba(i.d).slice(0,l)){for(;u--;)i=xt(i.times(i),l);return d.precision=f,t==null?(Ot=!0,xt(i,f)):i}i=o}}function er(e){for(var t=e.e*kt,r=e.d[0];r>=10;r/=10)t++;return t}function q0(e,t,r){if(t>e.LN10.sd())throw Ot=!0,r&&(e.precision=r),Error(Qn+"LN10 precision limit exceeded");return xt(new e(e.LN10),t)}function ts(e){for(var t="";e--;)t+="0";return t}function _f(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,p=e,g=p.d,m=p.constructor,x=m.precision;if(p.s<1)throw Error(Qn+(p.s?"NaN":"-Infinity"));if(p.eq(wn))return new m(0);if(t==null?(Ot=!1,u=x):u=t,p.eq(10))return t==null&&(Ot=!0),q0(m,u);if(u+=h,m.precision=u,r=Ba(g),n=r.charAt(0),i=er(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ba(p.d),n=r.charAt(0),f++;i=er(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=q0(m,u+2,x).times(i+""),p=_f(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=x,t==null?(Ot=!0,xt(p,x)):p;for(l=o=p=Ci(p.minus(wn),p.plus(wn),u),d=xt(p.times(p),u),a=3;;){if(o=xt(o.times(d),u),c=l.plus(Ci(o,new m(a),u)),Ba(c.d).slice(0,u)===Ba(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(q0(m,u+2,x).times(i+""))),l=Ci(l,new m(f),u),m.precision=x,t==null?(Ot=!0,xt(l,x)):l;l=c,a+=2}}function b_(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ou(r/kt),e.d=[],n=(r+1)%kt,r<0&&(n+=kt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=kt;n<a;)e.d.push(+t.slice(n,n+=kt));t=t.slice(n),n=kt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ot&&(e.e>bg||e.e<-bg))throw Error(aS+r)}else e.s=0,e.e=0,e.d=[0];return e}function xt(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=kt,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/kt),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=kt,a=n-kt+o}if(r!==void 0&&(i=fo(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/fo(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=er(e),f.length=1,t=t-i-1,f[0]=fo(10,(kt-t%kt)%kt),e.e=Ou(-t/kt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=fo(10,kt-n),f[d]=a>0?(u/fo(10,o-a)%fo(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==dr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=dr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ot&&(e.e>bg||e.e<-bg))throw Error(aS+er(e));return e}function D8(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ot?xt(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/kt),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=dr-1;--c[i],c[a]+=dr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ot?xt(t,p):t):new h(0)}function tl(e,t,r){var n,a=er(e),i=Ba(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ts(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ts(-a-1)+i,r&&(n=r-o)>0&&(i+=ts(n))):a>=o?(i+=ts(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+ts(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=ts(n))),e.s<0?"-"+i:i}function w_(e,t){if(e.length>t)return e.length=t,!0}function I8(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Do+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return b_(o,i.toString())}else if(typeof i!="string")throw Error(Do+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,jye.test(i))b_(o,i);else throw Error(Do+i)}if(a.prototype=we,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=I8,a.config=a.set=Nye,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Nye(e){if(!e||typeof e!="object")throw Error(Qn+"Object expected");var t,r,n,a=["precision",1,Au,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ou(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Do+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Do+r+": "+n);return this}var iS=I8(wye);wn=new iS(1);const gt=iS;function Sye(e){return _ye(e)||Cye(e)||Pye(e)||kye()}function kye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pye(e,t){if(e){if(typeof e=="string")return yw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yw(e,t)}}function Cye(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function _ye(e){if(Array.isArray(e))return yw(e)}function yw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Aye=function(t){return t},R8={"@@functional/placeholder":!0},F8=function(t){return t===R8},j_=function(t){return function r(){return arguments.length===0||arguments.length===1&&F8(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Oye=function e(t,r){return t===1?r:j_(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==R8}).length;return o>=t?r.apply(void 0,a):e(t-o,j_(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return F8(f)?c.shift():f});return r.apply(void 0,Sye(d).concat(c))}))})},fv=function(t){return Oye(t.length,t)},vw=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},Eye=fv(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Tye=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Aye;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},xw=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},L8=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function Mye(e){var t;return e===0?t=1:t=Math.floor(new gt(e).abs().log(10).toNumber())+1,t}function $ye(e,t,r){for(var n=new gt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var Dye=fv(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),Iye=fv(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Rye=fv(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const hv={rangeStep:$ye,getDigitCount:Mye,interpolateNumber:Dye,uninterpolateNumber:Iye,uninterpolateTruncation:Rye};function bw(e){return zye(e)||Lye(e)||z8(e)||Fye()}function Fye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lye(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function zye(e){if(Array.isArray(e))return ww(e)}function Af(e,t){return Uye(e)||Wye(e,t)||z8(e,t)||Bye()}function Bye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z8(e,t){if(e){if(typeof e=="string")return ww(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ww(e,t)}}function ww(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wye(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function Uye(e){if(Array.isArray(e))return e}function B8(e){var t=Af(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function W8(e,t,r){if(e.lte(0))return new gt(0);var n=hv.getDigitCount(e.toNumber()),a=new gt(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new gt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new gt(Math.ceil(c))}function Vye(e,t,r){var n=1,a=new gt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new gt(10).pow(hv.getDigitCount(e)-1),a=new gt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new gt(Math.floor(e)))}else e===0?a=new gt(Math.floor((t-1)/2)):r||(a=new gt(Math.floor(e)));var o=Math.floor((t-1)/2),l=Tye(Eye(function(c){return a.add(new gt(c-o).mul(n)).toNumber()}),vw);return l(0,t)}function U8(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new gt(0),tickMin:new gt(0),tickMax:new gt(0)};var i=W8(new gt(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new gt(0):(o=new gt(e).add(t).div(2),o=o.sub(new gt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new gt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?U8(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new gt(l).mul(i)),tickMax:o.add(new gt(c).mul(i))})}function qye(e){var t=Af(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=B8([r,n]),c=Af(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(bw(vw(0,a-1).map(function(){return 1/0}))):[].concat(bw(vw(0,a-1).map(function(){return-1/0})),[d]);return r>n?xw(f):f}if(u===d)return Vye(u,a,i);var h=U8(u,d,o,i),p=h.step,g=h.tickMin,m=h.tickMax,x=hv.rangeStep(g,m.add(new gt(.1).mul(p)),p);return r>n?xw(x):x}function Hye(e,t){var r=Af(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=B8([n,a]),l=Af(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=W8(new gt(u).sub(c).div(d-1),i,0),h=[].concat(bw(hv.rangeStep(new gt(c),new gt(u).sub(new gt(.99).mul(f)),f)),[u]);return n>a?xw(h):h}var Gye=L8(qye),Kye=L8(Hye),Yye="Invariant failed";function rl(e,t){throw new Error(Yye)}var Qye=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wg.apply(this,arguments)}function Xye(e,t){return tve(e)||eve(e,t)||Jye(e,t)||Zye()}function Zye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jye(e,t){if(e){if(typeof e=="string")return N_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N_(e,t)}}function N_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function tve(e){if(Array.isArray(e))return e}function rve(e,t){if(e==null)return{};var r=nve(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ave(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ive(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,H8(n.key),n)}}function sve(e,t,r){return t&&ive(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ove(e,t,r){return t=jg(t),lve(e,V8()?Reflect.construct(t,r||[],jg(e).constructor):t.apply(e,r))}function lve(e,t){if(t&&(Kc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cve(e)}function cve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V8=function(){return!!e})()}function jg(e){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jg(e)}function uve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jw(e,t)}function jw(e,t){return jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jw(e,t)}function q8(e,t,r){return t=H8(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H8(e){var t=dve(e,"string");return Kc(t)=="symbol"?t:t+""}function dve(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kh=function(e){function t(){return ave(this,t),ove(this,t,arguments)}return uve(t,e),sve(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=rve(n,Qye),p=Je(h,!1);this.props.direction==="x"&&d.type!=="number"&&rl();var g=c.map(function(m){var x=u(m,l),v=x.x,b=x.y,y=x.value,S=x.errorVal;if(!S)return null;var w=[],N,k;if(Array.isArray(S)){var P=Xye(S,2);N=P[0],k=P[1]}else N=k=S;if(i==="vertical"){var C=d.scale,M=b+a,A=M+o,_=M-o,R=C(y-N),L=C(y+k);w.push({x1:L,y1:A,x2:L,y2:_}),w.push({x1:R,y1:M,x2:L,y2:M}),w.push({x1:R,y1:A,x2:R,y2:_})}else if(i==="horizontal"){var D=f.scale,$=v+a,I=$-o,E=$+o,W=D(y-N),K=D(y+k);w.push({x1:I,y1:K,x2:E,y2:K}),w.push({x1:$,y1:W,x2:$,y2:K}),w.push({x1:I,y1:W,x2:E,y2:W})}return O.createElement(Gt,wg({className:"recharts-errorBar",key:"bar-".concat(w.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},p),w.map(function(Q){return O.createElement("line",wg({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return O.createElement(Gt,{className:"recharts-errorBars"},g)}}])}(O.Component);q8(kh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});q8(kh,"displayName","ErrorBar");function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function S_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ao(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S_(Object(r),!0).forEach(function(n){fve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fve(e,t,r){return t=hve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hve(e){var t=mve(e,"string");return Of(t)=="symbol"?t:t+""}function mve(e,t){if(Of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G8=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=yn(r,ac);if(!o)return null;var l=ac.defaultProps,c=l!==void 0?ao(ao({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return d.concat(g.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?ao(ao({},h),f.props):{},g=p.dataKey,m=p.name,x=p.legendType,v=p.hide;return{inactive:v,dataKey:g,type:c.iconType||x||"square",color:sS(f),value:m||g,payload:p}}),ao(ao(ao({},c),ac.getWithHeight(o,a)),{},{payload:u,item:o})};function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function k_(e){return vve(e)||yve(e)||gve(e)||pve()}function pve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gve(e,t){if(e){if(typeof e=="string")return Nw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nw(e,t)}}function yve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vve(e){if(Array.isArray(e))return Nw(e)}function Nw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P_(Object(r),!0).forEach(function(n){sc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sc(e,t,r){return t=xve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xve(e){var t=bve(e,"string");return Ef(t)=="symbol"?t:t+""}function bve(e,t){if(Ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _n(e,t,r){return Qe(e)||Qe(t)?r:lr(t)?Hn(e,t,r):Ge(t)?t(e):r}function Od(e,t,r,n){var a=yye(e,function(l){return _n(l,t)});if(r==="number"){var i=a.filter(function(l){return ce(l)||parseFloat(l)});return i.length?[uv(i),cv(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Qe(l)}):a;return o.map(function(l){return lr(l)||l instanceof Date?l:""})}var wve=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(xa(f-d)!==xa(h-f)){var g=[];if(xa(h-f)===xa(c[1]-c[0])){p=h;var m=f+c[1]-c[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{p=d;var x=h+c[1]-c[0];g[0]=Math.min(f,(x+f)/2),g[1]=Math.max(f,(x+f)/2)}var v=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>v[0]&&t<=v[1]||t>=g[0]&&t<=g[1]){o=a[u].index;break}}else{var b=Math.min(d,h),y=Math.max(d,h);if(t>(b+f)/2&&t<=(y+f)/2){o=a[u].index;break}}}else for(var S=0;S<l;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},sS=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Bt(Bt({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},jve=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var g=d[f[h]],m=g.items,x=g.cateAxisId,v=m.filter(function(k){return Si(k.type).indexOf("Bar")>=0});if(v&&v.length){var b=v[0].type.defaultProps,y=b!==void 0?Bt(Bt({},b),v[0].props):v[0].props,S=y.barSize,w=y[x];o[w]||(o[w]=[]);var N=Qe(S)?r:S;o[w].push({item:v[0],stackList:v.slice(1),barSize:Qe(N)?void 0:el(N,n,0)})}}return o},Nve=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=el(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/c,g=o.reduce(function(S,w){return S+w.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&p>0&&(h=!0,p*=.9,g=c*p);var m=(a-g)/2>>0,x={offset:m-u,size:0};d=o.reduce(function(S,w){var N={item:w.item,position:{offset:x.offset+x.size+u,size:h?p:w.barSize}},k=[].concat(k_(S),[N]);return x=k[k.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){k.push({item:P,position:x})}),k},f)}else{var v=el(n,a,0,!0);a-2*v-(c-1)*u<=0&&(u=0);var b=(a-2*v-(c-1)*u)/c;b>1&&(b>>=0);var y=l===+l?Math.min(b,l):b;d=o.reduce(function(S,w,N){var k=[].concat(k_(S),[{item:w.item,position:{offset:v+(b+u)*N+(b-y)/2,size:y}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(P){k.push({item:P,position:k[k.length-1].position})}),k},f)}return d},Sve=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=G8({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&ce(t[p]))return Bt(Bt({},t),{},sc({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&ce(t[g]))return Bt(Bt({},t),{},sc({},g,t[g]+(h||0)))}return t},kve=function(t,r,n){return Qe(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},K8=function(t,r,n,a,i){var o=r.props.children,l=Gn(o,kh).filter(function(u){return kve(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=_n(d,n);if(Qe(f))return u;var h=Array.isArray(f)?[uv(f),cv(f)]:[f,f],p=c.reduce(function(g,m){var x=_n(d,m,0),v=h[0]-Math.abs(Array.isArray(x)?x[0]:x),b=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(v,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Pve=function(t,r,n,a,i){var o=r.map(function(l){return K8(t,l,n,i,a)}).filter(function(l){return!Qe(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Y8=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&K8(t,c,u,a)||Od(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},Q8=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},X8=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},ji=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?xa(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!vh(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},H0=new WeakMap,um=function(t,r){if(typeof r!="function")return t;H0.has(t)||H0.set(t,new WeakMap);var n=H0.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},Cve=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Nf(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:gg(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ad(),realScaleType:"point"}:i==="category"?{scale:Nf(),realScaleType:"band"}:{scale:gg(),realScaleType:"linear"};if(yh(a)){var c="scale".concat(Qy(a));return{scale:(x_[c]||Ad)(),realScaleType:x_[c]?c:"point"}}return Ge(a)?{scale:a}:{scale:Ad(),realScaleType:"point"}},C_=1e-4,_ve=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-C_,o=Math.max(a[0],a[1])+C_,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},Ave=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},Ove=function(t,r){if(!r||r.length!==2||!ce(r[0])||!ce(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!ce(t[0])||t[0]<n)&&(i[0]=n),(!ce(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},Eve=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=vh(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},Tve=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=vh(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Mve={sign:Eve,expand:Gae,none:zc,silhouette:Kae,wiggle:Yae,positive:Tve},$ve=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=Mve[n],o=Hae().keys(a).value(function(l,c){return+_n(l,c,0)}).order(Kb).offset(i);return o(t)},Dve=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,g=(p=h.type)!==null&&p!==void 0&&p.defaultProps?Bt(Bt({},h.type.defaultProps),h.props):h.props,m=g.stackId,x=g.hide;if(x)return f;var v=g[n],b=f[v]||{hasStack:!1,stackGroups:{}};if(lr(m)){var y=b.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};y.items.push(h),b.hasStack=!0,b.stackGroups[m]=y}else b.stackGroups[xh("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Bt(Bt({},f),{},sc({},v,b))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,x){var v=p.stackGroups[x];return Bt(Bt({},m),{},sc({},x,{numericAxisId:n,cateAxisId:a,items:v.items,stackedData:$ve(t,v.items,i)}))},g)}return Bt(Bt({},f),{},sc({},h,p))},d)},Ive=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=Gye(u,i,l);return t.domain([uv(d),cv(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=Kye(f,i,l);return{niceTicks:h}}return null};function __(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Qe(a[t.dataKey])){var l=Gp(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=_n(a,Qe(o)?t.dataKey:o);return Qe(c)?null:t.scale(c)}var A_=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=_n(o,r.dataKey,r.domain[l]);return Qe(c)?null:r.scale(c)-i/2+a},Rve=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},Fve=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Bt(Bt({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(lr(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Lve=function(t){return t.reduce(function(r,n){return[uv(n.concat([r[0]]).filter(ce)),cv(n.concat([r[1]]).filter(ce))]},[1/0,-1/0])},Z8=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=Lve(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},O_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,E_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Sw=function(t,r,n){if(Ge(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(ce(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(O_.test(t[0])){var i=+O_.exec(t[0])[1];a[0]=r[0]-i}else Ge(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(ce(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(E_.test(t[1])){var o=+E_.exec(t[1])[1];a[1]=r[1]+o}else Ge(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Ng=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=$N(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},T_=function(t,r,n){return!t||!t.length||dv(t,Hn(n,"type.defaultProps.domain"))?r:t},J8=function(t,r){var n=t.type.defaultProps?Bt(Bt({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Bt(Bt({},Je(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:sS(t),value:_n(r,a),type:c,payload:r,chartType:u,hide:d})};function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function M_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M_(Object(r),!0).forEach(function(n){zve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zve(e,t,r){return t=Bve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bve(e){var t=Wve(e,"string");return Tf(t)=="symbol"?t:t+""}function Wve(e,t){if(Tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sg=Math.PI/180,Uve=function(t){return t*180/Math.PI},wr=function(t,r,n,a){return{x:t+Math.cos(-Sg*a)*n,y:r+Math.sin(-Sg*a)*n}},Vve=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},qve=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=Vve({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:Uve(u),angleInRadian:u}},Hve=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},Gve=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},D_=function(t,r){var n=t.x,a=t.y,i=qve({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Hve(r),f=d.startAngle,h=d.endAngle,p=l,g;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}return g?$_($_({},r),{},{radius:o,angle:Gve(p,r)}):null};function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}var Kve=["offset"];function Yve(e){return Jve(e)||Zve(e)||Xve(e)||Qve()}function Qve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xve(e,t){if(e){if(typeof e=="string")return kw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kw(e,t)}}function Zve(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jve(e){if(Array.isArray(e))return kw(e)}function kw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function e0e(e,t){if(e==null)return{};var r=t0e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function t0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function I_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(r),!0).forEach(function(n){r0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r0e(e,t,r){return t=n0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n0e(e){var t=a0e(e,"string");return Mf(t)=="symbol"?t:t+""}function a0e(e,t){if(Mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $f(){return $f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$f.apply(this,arguments)}var i0e=function(t){var r=t.value,n=t.formatter,a=Qe(t.children)?r:t.children;return Ge(n)?n(a):a},s0e=function(t,r){var n=xa(r-t),a=Math.min(Math.abs(r-t),360);return n*a},o0e=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,g=c.endAngle,m=c.clockWise,x=(f+h)/2,v=s0e(p,g),b=v>=0?1:-1,y,S;a==="insideStart"?(y=p+b*o,S=m):a==="insideEnd"?(y=g-b*o,S=!m):a==="end"&&(y=g+b*o,S=m),S=v<=0?S:!S;var w=wr(u,d,x,y),N=wr(u,d,x,y+(S?1:-1)*359),k="M".concat(w.x,",").concat(w.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(S?0:1,`,
    `).concat(N.x,",").concat(N.y),P=Qe(t.id)?xh("recharts-radial-line-"):t.id;return O.createElement("text",$f({},n,{dominantBaseline:"central",className:tt("recharts-radial-bar-label",l)}),O.createElement("defs",null,O.createElement("path",{id:P,d:k})),O.createElement("textPath",{xlinkHref:"#".concat(P)},r))},l0e=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=wr(o,l,u+n,h),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,v=wr(o,l,x,h),b=v.x,y=v.y;return{x:b,y,textAnchor:"middle",verticalAnchor:"middle"}},c0e=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",g=f>0?"start":"end",m=u>=0?1:-1,x=m*a,v=m>0?"end":"start",b=m>0?"start":"end";if(i==="top"){var y={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return rr(rr({},y),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var S={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return rr(rr({},S),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var w={x:l-x,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return rr(rr({},w),n?{width:Math.max(w.x-n.x,0),height:d}:{})}if(i==="right"){var N={x:l+u+x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return rr(rr({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:d}:{})}var k=n?{width:u,height:d}:{};return i==="insideLeft"?rr({x:l+x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},k):i==="insideRight"?rr({x:l+u-x,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},k):i==="insideTop"?rr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},k):i==="insideBottom"?rr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},k):i==="insideTopLeft"?rr({x:l+x,y:c+h,textAnchor:b,verticalAnchor:g},k):i==="insideTopRight"?rr({x:l+u-x,y:c+h,textAnchor:v,verticalAnchor:g},k):i==="insideBottomLeft"?rr({x:l+x,y:c+d-h,textAnchor:b,verticalAnchor:p},k):i==="insideBottomRight"?rr({x:l+u-x,y:c+d-h,textAnchor:v,verticalAnchor:p},k):wu(i)&&(ce(i.x)||xo(i.x))&&(ce(i.y)||xo(i.y))?rr({x:l+el(i.x,u),y:c+el(i.y,d),textAnchor:"end",verticalAnchor:"end"},k):rr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},u0e=function(t){return"cx"in t&&ce(t.cx)};function Or(e){var t=e.offset,r=t===void 0?5:t,n=e0e(e,Kve),a=rr({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||Qe(l)&&Qe(c)&&!j.isValidElement(u)&&!Ge(u))return null;if(j.isValidElement(u))return j.cloneElement(u,a);var p;if(Ge(u)){if(p=j.createElement(u,a),j.isValidElement(p))return p}else p=i0e(a);var g=u0e(i),m=Je(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return o0e(a,p,m);var x=g?l0e(a):c0e(a);return O.createElement(cg,$f({className:tt("recharts-label",f)},m,x,{breakAll:h}),p)}Or.displayName="Label";var ez=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,g=t.left,m=t.width,x=t.height,v=t.clockWise,b=t.labelViewBox;if(b)return b;if(ce(m)&&ce(x)){if(ce(f)&&ce(h))return{x:f,y:h,width:m,height:x};if(ce(p)&&ce(g))return{x:p,y:g,width:m,height:x}}return ce(f)&&ce(h)?{x:f,y:h,width:0,height:0}:ce(r)&&ce(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:v}:t.viewBox?t.viewBox:{}},d0e=function(t,r){return t?t===!0?O.createElement(Or,{key:"label-implicit",viewBox:r}):lr(t)?O.createElement(Or,{key:"label-implicit",viewBox:r,value:t}):j.isValidElement(t)?t.type===Or?j.cloneElement(t,{key:"label-implicit",viewBox:r}):O.createElement(Or,{key:"label-implicit",content:t,viewBox:r}):Ge(t)?O.createElement(Or,{key:"label-implicit",content:t,viewBox:r}):wu(t)?O.createElement(Or,$f({viewBox:r},t,{key:"label-implicit"})):null:null},f0e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=ez(t),o=Gn(a,Or).map(function(c,u){return j.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=d0e(t.label,r||i);return[l].concat(Yve(o))};Or.parseViewBox=ez;Or.renderCallByParent=f0e;function h0e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var m0e=h0e;const p0e=yt(m0e);function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}var g0e=["valueAccessor"],y0e=["data","dataKey","clockWise","id","textBreakAll"];function v0e(e){return j0e(e)||w0e(e)||b0e(e)||x0e()}function x0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b0e(e,t){if(e){if(typeof e=="string")return Pw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pw(e,t)}}function w0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j0e(e){if(Array.isArray(e))return Pw(e)}function Pw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kg.apply(this,arguments)}function R_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function F_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R_(Object(r),!0).forEach(function(n){N0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N0e(e,t,r){return t=S0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S0e(e){var t=k0e(e,"string");return Df(t)=="symbol"?t:t+""}function k0e(e,t){if(Df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L_(e,t){if(e==null)return{};var r=P0e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function P0e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var C0e=function(t){return Array.isArray(t.value)?p0e(t.value):t.value};function Es(e){var t=e.valueAccessor,r=t===void 0?C0e:t,n=L_(e,g0e),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=L_(n,y0e);return!a||!a.length?null:O.createElement(Gt,{className:"recharts-label-list"},a.map(function(d,f){var h=Qe(i)?r(d,f):_n(d&&d.payload,i),p=Qe(l)?{}:{id:"".concat(l,"-").concat(f)};return O.createElement(Or,kg({},Je(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:Or.parseViewBox(Qe(o)?d:F_(F_({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Es.displayName="LabelList";function _0e(e,t){return e?e===!0?O.createElement(Es,{key:"labelList-implicit",data:t}):O.isValidElement(e)||Ge(e)?O.createElement(Es,{key:"labelList-implicit",data:t,content:e}):wu(e)?O.createElement(Es,kg({data:t},e,{key:"labelList-implicit"})):null:null}function A0e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Gn(n,Es).map(function(o,l){return j.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=_0e(e.label,t);return[i].concat(v0e(a))}Es.renderCallByParent=A0e;function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cw.apply(this,arguments)}function z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z_(Object(r),!0).forEach(function(n){O0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O0e(e,t,r){return t=E0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E0e(e){var t=T0e(e,"string");return If(t)=="symbol"?t:t+""}function T0e(e,t){if(If(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M0e=function(t,r){var n=xa(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},dm=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/Sg,h=u?i:i+o*f,p=wr(r,n,d,h),g=wr(r,n,a,h),m=u?i-o*f:i,x=wr(r,n,d*Math.cos(f*Sg),m);return{center:p,circleTangency:g,lineTangency:x,theta:f}},tz=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=M0e(o,l),u=o+c,d=wr(r,n,i,o),f=wr(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=wr(r,n,a,o),g=wr(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},$0e=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=xa(d-u),h=dm({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,g=h.lineTangency,m=h.theta,x=dm({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),v=x.circleTangency,b=x.lineTangency,y=x.theta,S=c?Math.abs(u-d):Math.abs(u-d)-m-y;if(S<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):tz({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var w="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var N=dm({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=N.circleTangency,P=N.lineTangency,C=N.theta,M=dm({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),A=M.circleTangency,_=M.lineTangency,R=M.theta,L=c?Math.abs(u-d):Math.abs(u-d)-C-R;if(L<0&&o===0)return"".concat(w,"L").concat(r,",").concat(n,"Z");w+="L".concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else w+="L".concat(r,",").concat(n,"Z");return w},D0e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},rz=function(t){var r=B_(B_({},D0e),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=tt("recharts-sector",h),g=o-i,m=el(l,g,0,!0),x;return m>0&&Math.abs(d-f)<360?x=$0e({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=tz({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),O.createElement("path",Cw({},Je(r,!0),{className:p,d:x,role:"img"}))};function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function _w(){return _w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_w.apply(this,arguments)}function W_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(r),!0).forEach(function(n){I0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I0e(e,t,r){return t=R0e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R0e(e){var t=F0e(e,"string");return Rf(t)=="symbol"?t:t+""}function F0e(e,t){if(Rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V_={curveBasisClosed:Dae,curveBasisOpen:Iae,curveBasis:$ae,curveBumpX:bae,curveBumpY:wae,curveLinearClosed:Rae,curveLinear:Zy,curveMonotoneX:Fae,curveMonotoneY:Lae,curveNatural:zae,curveStep:Bae,curveStepAfter:Uae,curveStepBefore:Wae},fm=function(t){return t.x===+t.x&&t.y===+t.y},Ju=function(t){return t.x},ed=function(t){return t.y},L0e=function(t,r){if(Ge(t))return t;var n="curve".concat(Qy(t));return(n==="curveMonotone"||n==="curveBump")&&r?V_["".concat(n).concat(r==="vertical"?"Y":"X")]:V_[n]||Zy},z0e=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=L0e(n,l),f=u?i.filter(function(m){return fm(m)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return fm(m)}):o,g=f.map(function(m,x){return U_(U_({},m),{},{base:p[x]})});return l==="vertical"?h=rm().y(ed).x1(Ju).x0(function(m){return m.base.x}):h=rm().x(Ju).y1(ed).y0(function(m){return m.base.y}),h.defined(fm).curve(d),h(g)}return l==="vertical"&&ce(o)?h=rm().y(ed).x1(Ju).x0(o):ce(o)?h=rm().x(Ju).y1(ed).y0(o):h=rL().x(Ju).y(ed),h.defined(fm).curve(d),h(f)},Aw=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?z0e(t):a;return O.createElement("path",_w({},Je(t,!1),Kp(t),{className:tt("recharts-curve",r),d:o,ref:i}))},nz={exports:{}},B0e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",W0e=B0e,U0e=W0e;function az(){}function iz(){}iz.resetWarningCache=az;var V0e=function(){function e(n,a,i,o,l,c){if(c!==U0e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:iz,resetWarningCache:az};return r.PropTypes=r,r};nz.exports=V0e();var q0e=nz.exports;const ct=yt(q0e);var H0e=Object.getOwnPropertyNames,G0e=Object.getOwnPropertySymbols,K0e=Object.prototype.hasOwnProperty;function q_(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function hm(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function H_(e){return H0e(e).concat(G0e(e))}var Y0e=Object.hasOwn||function(e,t){return K0e.call(e,t)};function ul(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Q0e="__v",X0e="__o",Z0e="_owner",G_=Object.getOwnPropertyDescriptor,K_=Object.keys;function J0e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function exe(e,t){return ul(e.getTime(),t.getTime())}function txe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function rxe(e,t){return e===t}function Y_(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var nxe=ul;function axe(e,t,r){var n=K_(e),a=n.length;if(K_(t).length!==a)return!1;for(;a-- >0;)if(!sz(e,t,r,n[a]))return!1;return!0}function td(e,t,r){var n=H_(e),a=n.length;if(H_(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!sz(e,t,r,i)||(o=G_(e,i),l=G_(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function ixe(e,t){return ul(e.valueOf(),t.valueOf())}function sxe(e,t){return e.source===t.source&&e.flags===t.flags}function Q_(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function oxe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function lxe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function sz(e,t,r,n){return(n===Z0e||n===X0e||n===Q0e)&&(e.$$typeof||t.$$typeof)?!0:Y0e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var cxe="[object Arguments]",uxe="[object Boolean]",dxe="[object Date]",fxe="[object Error]",hxe="[object Map]",mxe="[object Number]",pxe="[object Object]",gxe="[object RegExp]",yxe="[object Set]",vxe="[object String]",xxe="[object URL]",bxe=Array.isArray,X_=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Z_=Object.assign,wxe=Object.prototype.toString.call.bind(Object.prototype.toString);function jxe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,m,x){if(g===m)return!0;if(g==null||m==null)return!1;var v=typeof g;if(v!==typeof m)return!1;if(v!=="object")return v==="number"?o(g,m,x):v==="function"?a(g,m,x):!1;var b=g.constructor;if(b!==m.constructor)return!1;if(b===Object)return l(g,m,x);if(bxe(g))return t(g,m,x);if(X_!=null&&X_(g))return f(g,m,x);if(b===Date)return r(g,m,x);if(b===RegExp)return u(g,m,x);if(b===Map)return i(g,m,x);if(b===Set)return d(g,m,x);var y=wxe(g);return y===dxe?r(g,m,x):y===gxe?u(g,m,x):y===hxe?i(g,m,x):y===yxe?d(g,m,x):y===pxe?typeof g.then!="function"&&typeof m.then!="function"&&l(g,m,x):y===xxe?h(g,m,x):y===fxe?n(g,m,x):y===cxe?l(g,m,x):y===uxe||y===mxe||y===vxe?c(g,m,x):!1}}function Nxe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?td:J0e,areDatesEqual:exe,areErrorsEqual:txe,areFunctionsEqual:rxe,areMapsEqual:n?q_(Y_,td):Y_,areNumbersEqual:nxe,areObjectsEqual:n?td:axe,arePrimitiveWrappersEqual:ixe,areRegExpsEqual:sxe,areSetsEqual:n?q_(Q_,td):Q_,areTypedArraysEqual:n?td:oxe,areUrlsEqual:lxe};if(r&&(a=Z_({},a,r(a))),t){var i=hm(a.areArraysEqual),o=hm(a.areMapsEqual),l=hm(a.areObjectsEqual),c=hm(a.areSetsEqual);a=Z_({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function Sxe(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function kxe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var Pxe=no();no({strict:!0});no({circular:!0});no({circular:!0,strict:!0});no({createInternalComparator:function(){return ul}});no({strict:!0,createInternalComparator:function(){return ul}});no({circular:!0,createInternalComparator:function(){return ul}});no({circular:!0,createInternalComparator:function(){return ul},strict:!0});function no(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=Nxe(e),c=jxe(l),u=n?n(c):Sxe(c);return kxe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function Cxe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function J_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):Cxe(a)};requestAnimationFrame(n)}function Ow(e){"@babel/helpers - typeof";return Ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ow(e)}function _xe(e){return Txe(e)||Exe(e)||Oxe(e)||Axe()}function Axe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oxe(e,t){if(e){if(typeof e=="string")return eA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eA(e,t)}}function eA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Exe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Txe(e){if(Array.isArray(e))return e}function Mxe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=_xe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){J_(a.bind(null,u),c);return}a(c),J_(a.bind(null,u));return}Ow(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Ff(e){"@babel/helpers - typeof";return Ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ff(e)}function tA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(r),!0).forEach(function(n){oz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oz(e,t,r){return t=$xe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $xe(e){var t=Dxe(e,"string");return Ff(t)==="symbol"?t:String(t)}function Dxe(e,t){if(Ff(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ff(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ixe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},Rxe=function(t){return t},Fxe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ed=function(t,r){return Object.keys(r).reduce(function(n,a){return rA(rA({},n),{},oz({},a,t(a,r[a])))},{})},nA=function(t,r,n){return t.map(function(a){return"".concat(Fxe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Lxe(e,t){return Wxe(e)||Bxe(e,t)||lz(e,t)||zxe()}function zxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Wxe(e){if(Array.isArray(e))return e}function Uxe(e){return Hxe(e)||qxe(e)||lz(e)||Vxe()}function Vxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lz(e,t){if(e){if(typeof e=="string")return Ew(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ew(e,t)}}function qxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hxe(e){if(Array.isArray(e))return Ew(e)}function Ew(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Pg=1e-4,cz=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},uz=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},aA=function(t,r){return function(n){var a=cz(t,r);return uz(a,n)}},Gxe=function(t,r){return function(n){var a=cz(t,r),i=[].concat(Uxe(a.map(function(o,l){return o*l}).slice(1)),[0]);return uz(i,n)}},iA=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=Lxe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=aA(a,o),h=aA(i,l),p=Gxe(a,o),g=function(v){return v>1?1:v<0?0:v},m=function(v){for(var b=v>1?1:v,y=b,S=0;S<8;++S){var w=f(y)-b,N=p(y);if(Math.abs(w-b)<Pg||N<Pg)return h(y);y=g(y-w/N)}return h(y)};return m.isStepper=!1,m},Kxe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,g=h*i,m=h+(p-g)*l/1e3,x=h*l/1e3+d;return Math.abs(x-f)<Pg&&Math.abs(m)<Pg?[f,0]:[x,m]};return c.isStepper=!0,c.dt=l,c},Yxe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return iA(a);case"spring":return Kxe();default:if(a.split("(")[0]==="cubic-bezier")return iA(a)}return typeof a=="function"?a:null};function Lf(e){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}function sA(e){return Zxe(e)||Xxe(e)||dz(e)||Qxe()}function Qxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zxe(e){if(Array.isArray(e))return Mw(e)}function oA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(r),!0).forEach(function(n){Tw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tw(e,t,r){return t=Jxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jxe(e){var t=ebe(e,"string");return Lf(t)==="symbol"?t:String(t)}function ebe(e,t){if(Lf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tbe(e,t){return abe(e)||nbe(e,t)||dz(e,t)||rbe()}function rbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dz(e,t){if(e){if(typeof e=="string")return Mw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mw(e,t)}}function Mw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function abe(e){if(Array.isArray(e))return e}var Cg=function(t,r,n){return t+(r-t)*n},$w=function(t){var r=t.from,n=t.to;return r!==n},ibe=function e(t,r,n){var a=Ed(function(i,o){if($w(o)){var l=t(o.from,o.to,o.velocity),c=tbe(l,2),u=c[0],d=c[1];return vr(vr({},o),{},{from:u,velocity:d})}return o},r);return n<1?Ed(function(i,o){return $w(o)?vr(vr({},o),{},{velocity:Cg(o.velocity,a[i].velocity,n),from:Cg(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const sbe=function(e,t,r,n,a){var i=Ixe(e,t),o=i.reduce(function(x,v){return vr(vr({},x),{},Tw({},v,[e[v],t[v]]))},{}),l=i.reduce(function(x,v){return vr(vr({},x),{},Tw({},v,{from:e[v],velocity:0,to:t[v]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Ed(function(v,b){return b.from},l)},p=function(){return!Object.values(l).filter($w).length},g=function(v){u||(u=v);var b=v-u,y=b/r.dt;l=ibe(r,l,y),a(vr(vr(vr({},e),t),h())),u=v,p()||(c=requestAnimationFrame(f))},m=function(v){d||(d=v);var b=(v-d)/n,y=Ed(function(w,N){return Cg.apply(void 0,sA(N).concat([r(b)]))},o);if(a(vr(vr(vr({},e),t),y)),b<1)c=requestAnimationFrame(f);else{var S=Ed(function(w,N){return Cg.apply(void 0,sA(N).concat([r(1)]))},o);a(vr(vr(vr({},e),t),S))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}var obe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function lbe(e,t){if(e==null)return{};var r=cbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cbe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function G0(e){return hbe(e)||fbe(e)||dbe(e)||ube()}function ube(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dbe(e,t){if(e){if(typeof e=="string")return Dw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dw(e,t)}}function fbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hbe(e){if(Array.isArray(e))return Dw(e)}function Dw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(r),!0).forEach(function(n){hd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hd(e,t,r){return t=fz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fz(n.key),n)}}function gbe(e,t,r){return t&&pbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fz(e){var t=ybe(e,"string");return Yc(t)==="symbol"?t:String(t)}function ybe(e,t){if(Yc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Iw(e,t)}function Iw(e,t){return Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Iw(e,t)}function xbe(e){var t=bbe();return function(){var n=_g(e),a;if(t){var i=_g(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return Rw(this,a)}}function Rw(e,t){if(t&&(Yc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fw(e)}function Fw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _g(e){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_g(e)}var zi=function(e){vbe(r,e);var t=xbe(r);function r(n,a){var i;mbe(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Fw(i)),i.changeStyle=i.changeStyle.bind(Fw(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),Rw(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},Rw(i);i.state={style:c?hd({},c,u):u}}else i.state={style:{}};return i}return gbe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?hd({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(Pxe(a.to,d)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?f:a.to;if(this.state&&h){var x={style:c?hd({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(x)}this.runAnimation(ta(ta({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=sbe(o,l,Yxe(u),c,this.changeStyle),g=function(){i.stopJSAnimation=p()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,x,v){if(v===0)return m;var b=x.duration,y=x.easing,S=y===void 0?"ease":y,w=x.style,N=x.properties,k=x.onAnimationEnd,P=v>0?o[v-1]:x,C=N||Object.keys(w);if(typeof S=="function"||S==="spring")return[].concat(G0(m),[i.runJSAnimation.bind(i,{from:P.style,to:w,duration:b,easing:S}),b]);var M=nA(C,b,S),A=ta(ta(ta({},P.style),w),{},{transition:M});return[].concat(G0(m),[A,b,k]).filter(Rxe)};return this.manager.start([c].concat(G0(o.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Mxe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?hd({},l,c):c,x=nA(Object.keys(m),o,u);g.start([d,i,ta(ta({},m),{},{transition:x}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=lbe(a,obe),u=j.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var g=p.props,m=g.style,x=m===void 0?{}:m,v=g.className,b=j.cloneElement(p,ta(ta({},c),{},{style:ta(ta({},x),d),className:v}));return b};return u===1?f(j.Children.only(i)):O.createElement("div",null,j.Children.map(i,function(h){return f(h)}))}}]),r}(j.PureComponent);zi.displayName="Animate";zi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};zi.propTypes={from:ct.oneOfType([ct.object,ct.string]),to:ct.oneOfType([ct.object,ct.string]),attributeName:ct.string,duration:ct.number,begin:ct.number,easing:ct.oneOfType([ct.string,ct.func]),steps:ct.arrayOf(ct.shape({duration:ct.number.isRequired,style:ct.object.isRequired,easing:ct.oneOfType([ct.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ct.func]),properties:ct.arrayOf("string"),onAnimationEnd:ct.func})),children:ct.oneOfType([ct.node,ct.func]),isActive:ct.bool,canBegin:ct.bool,onAnimationEnd:ct.func,shouldReAnimate:ct.bool,onAnimationStart:ct.func,onAnimationReStart:ct.func};function zf(e){"@babel/helpers - typeof";return zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zf(e)}function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ag.apply(this,arguments)}function wbe(e,t){return kbe(e)||Sbe(e,t)||Nbe(e,t)||jbe()}function jbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nbe(e,t){if(e){if(typeof e=="string")return cA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cA(e,t)}}function cA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function kbe(e){if(Array.isArray(e))return e}function uA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(r),!0).forEach(function(n){Pbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pbe(e,t,r){return t=Cbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cbe(e){var t=_be(e,"string");return zf(t)=="symbol"?t:t+""}function _be(e,t){if(zf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fA=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+a,`
            L `).concat(t+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},Abe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},Obe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oS=function(t){var r=dA(dA({},Obe),t),n=j.useRef(),a=j.useState(-1),i=wbe(a,2),o=i[0],l=i[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,x=r.animationBegin,v=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var y=tt("recharts-rectangle",p);return b?O.createElement(zi,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:g,isActive:b},function(S){var w=S.width,N=S.height,k=S.x,P=S.y;return O.createElement(zi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,isActive:v,easing:g},O.createElement("path",Ag({},Je(r,!0),{className:y,d:fA(k,P,w,N,h),ref:n})))}):O.createElement("path",Ag({},Je(r,!0),{className:y,d:fA(c,u,d,f,h)}))};function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lw.apply(this,arguments)}var lS=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=tt("recharts-dot",i);return r===+r&&n===+n&&a===+a?O.createElement("circle",Lw({},Je(t,!1),Kp(t),{className:o,cx:r,cy:n,r:a})):null};function Bf(e){"@babel/helpers - typeof";return Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bf(e)}var Ebe=["x","y","top","left","width","height","className"];function zw(){return zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zw.apply(this,arguments)}function hA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tbe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(r),!0).forEach(function(n){Mbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mbe(e,t,r){return t=$be(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $be(e){var t=Dbe(e,"string");return Bf(t)=="symbol"?t:t+""}function Dbe(e,t){if(Bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ibe(e,t){if(e==null)return{};var r=Rbe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Fbe=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},Lbe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,g=t.className,m=Ibe(t,Ebe),x=Tbe({x:n,y:i,top:l,left:u,width:f,height:p},m);return!ce(n)||!ce(i)||!ce(f)||!ce(p)||!ce(l)||!ce(u)?null:O.createElement("path",zw({},Je(x,!0),{className:tt("recharts-cross",g),d:Fbe(n,i,f,p,l,u)}))},zbe=PL,Bbe=zbe(Object.getPrototypeOf,Object),Wbe=Bbe,Ube=Ui,Vbe=Wbe,qbe=Vi,Hbe="[object Object]",Gbe=Function.prototype,Kbe=Object.prototype,hz=Gbe.toString,Ybe=Kbe.hasOwnProperty,Qbe=hz.call(Object);function Xbe(e){if(!qbe(e)||Ube(e)!=Hbe)return!1;var t=Vbe(e);if(t===null)return!0;var r=Ybe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&hz.call(r)==Qbe}var Zbe=Xbe;const Jbe=yt(Zbe);var ewe=Ui,twe=Vi,rwe="[object Boolean]";function nwe(e){return e===!0||e===!1||twe(e)&&ewe(e)==rwe}var awe=nwe;const iwe=yt(awe);function Wf(e){"@babel/helpers - typeof";return Wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wf(e)}function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Og.apply(this,arguments)}function swe(e,t){return uwe(e)||cwe(e,t)||lwe(e,t)||owe()}function owe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lwe(e,t){if(e){if(typeof e=="string")return mA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mA(e,t)}}function mA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function uwe(e){if(Array.isArray(e))return e}function pA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(r),!0).forEach(function(n){dwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dwe(e,t,r){return t=fwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fwe(e){var t=hwe(e,"string");return Wf(t)=="symbol"?t:t+""}function hwe(e,t){if(Wf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yA=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},mwe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pwe=function(t){var r=gA(gA({},mwe),t),n=j.useRef(),a=j.useState(-1),i=swe(a,2),o=i[0],l=i[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var y=n.current.getTotalLength();y&&l(y)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,x=r.animationBegin,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var b=tt("recharts-trapezoid",p);return v?O.createElement(zi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:g,isActive:v},function(y){var S=y.upperWidth,w=y.lowerWidth,N=y.height,k=y.x,P=y.y;return O.createElement(zi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:m,easing:g},O.createElement("path",Og({},Je(r,!0),{className:b,d:yA(k,P,S,w,N),ref:n})))}):O.createElement("g",null,O.createElement("path",Og({},Je(r,!0),{className:b,d:yA(c,u,d,f,h)})))},gwe=["option","shapeType","propTransformer","activeClassName","isActive"];function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function ywe(e,t){if(e==null)return{};var r=vwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Eg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(r),!0).forEach(function(n){xwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xwe(e,t,r){return t=bwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bwe(e){var t=wwe(e,"string");return Uf(t)=="symbol"?t:t+""}function wwe(e,t){if(Uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jwe(e,t){return Eg(Eg({},t),e)}function Nwe(e,t){return e==="symbols"}function xA(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return O.createElement(oS,r);case"trapezoid":return O.createElement(pwe,r);case"sector":return O.createElement(rz,r);case"symbols":if(Nwe(t))return O.createElement(PN,r);break;default:return null}}function Swe(e){return j.isValidElement(e)?e.props:e}function kwe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?jwe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=ywe(e,gwe),u;if(j.isValidElement(t))u=j.cloneElement(t,Eg(Eg({},c),Swe(t)));else if(Ge(t))u=t(c);else if(Jbe(t)&&!iwe(t)){var d=a(t,c);u=O.createElement(xA,{shapeType:r,elementProps:d})}else{var f=c;u=O.createElement(xA,{shapeType:r,elementProps:f})}return l?O.createElement(Gt,{className:o},u):u}function mv(e,t){return t!=null&&"trapezoids"in e.props}function pv(e,t){return t!=null&&"sectors"in e.props}function Vf(e,t){return t!=null&&"points"in e.props}function Pwe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function Cwe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function _we(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Awe(e,t){var r;return mv(e,t)?r=Pwe:pv(e,t)?r=Cwe:Vf(e,t)&&(r=_we),r}function Owe(e,t){var r;return mv(e,t)?r="trapezoids":pv(e,t)?r="sectors":Vf(e,t)&&(r="points"),r}function Ewe(e,t){if(mv(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(pv(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Vf(e,t)?t.payload:{}}function Twe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Owe(r,t),i=Ewe(r,t),o=n.filter(function(c,u){var d=dv(i,c),f=r.props[a].filter(function(g){var m=Awe(r,t);return m(g,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var Mwe=Math.ceil,$we=Math.max;function Dwe(e,t,r,n){for(var a=-1,i=$we(Mwe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var Iwe=Dwe,Rwe=qL,bA=1/0,Fwe=17976931348623157e292;function Lwe(e){if(!e)return e===0?e:0;if(e=Rwe(e),e===bA||e===-bA){var t=e<0?-1:1;return t*Fwe}return e===e?e:0}var mz=Lwe,zwe=Iwe,Bwe=rv,K0=mz;function Wwe(e){return function(t,r,n){return n&&typeof n!="number"&&Bwe(t,r,n)&&(r=n=void 0),t=K0(t),r===void 0?(r=t,t=0):r=K0(r),n=n===void 0?t<r?1:-1:K0(n),zwe(t,r,n,e)}}var Uwe=Wwe,Vwe=Uwe,qwe=Vwe(),Hwe=qwe;const Tg=yt(Hwe);function qf(e){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(e)}function wA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(r),!0).forEach(function(n){pz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pz(e,t,r){return t=Gwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gwe(e){var t=Kwe(e,"string");return qf(t)=="symbol"?t:t+""}function Kwe(e,t){if(qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ywe=["Webkit","Moz","O","ms"],Qwe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Ywe.reduce(function(i,o){return jA(jA({},i),{},pz({},o+n,r))},{});return a[t]=r,a};function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mg.apply(this,arguments)}function NA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(r),!0).forEach(function(n){mn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yz(n.key),n)}}function Zwe(e,t,r){return t&&SA(e.prototype,t),r&&SA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jwe(e,t,r){return t=$g(t),e1e(e,gz()?Reflect.construct(t,r||[],$g(e).constructor):t.apply(e,r))}function e1e(e,t){if(t&&(Qc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t1e(e)}function t1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gz=function(){return!!e})()}function $g(e){return $g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$g(e)}function r1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bw(e,t)}function Bw(e,t){return Bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Bw(e,t)}function mn(e,t,r){return t=yz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yz(e){var t=n1e(e,"string");return Qc(t)=="symbol"?t:t+""}function n1e(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a1e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Ad().domain(Tg(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},kA=function(t){return t.changedTouches&&!!t.changedTouches.length},Xc=function(e){function t(r){var n;return Xwe(this,t),n=Jwe(this,t,[r]),mn(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),mn(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),mn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),mn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),mn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),mn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),mn(n,"handleSlideDragStart",function(a){var i=kA(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return r1e(t,e),Zwe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=_n(i[n],l,n);return Ge(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,g=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var x=this.getIndex({startX:o+m,endX:l+m});(x.startIndex!==h||x.endIndex!==p)&&g&&g(x),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=kA(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,g=d.onChange,m=d.gap,x=d.data,v={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+h-p-u):b<0&&(b=Math.max(b,f-u)),v[o]=u+b;var y=this.getIndex(v),S=y.startIndex,w=y.endIndex,N=function(){var P=x.length-1;return o==="startX"&&(l>c?S%m===0:w%m===0)||l<c&&w===P||o==="endX"&&(l>c?w%m===0:S%m===0)||l>c&&w===P};this.setState(mn(mn({},o,u+b),"brushMoveStartX",n.pageX),function(){g&&N()&&g(y)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(mn({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return O.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=j.Children.only(u);return f?O.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,g=c.data,m=c.startIndex,x=c.endIndex,v=Math.max(n,this.props.x),b=Y0(Y0({},Je(this.props,!1)),{},{x:v,y:u,width:d,height:f}),y=p||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[x])===null||o===void 0?void 0:o.name);return O.createElement(Gt,{tabIndex:0,role:"slider","aria-label":y,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),l.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return O.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,g={pointerEvents:"none",fill:u};return O.createElement(Gt,{className:"recharts-brush-texts"},O.createElement(cg,Mg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},g),this.getTextOfTick(a)),O.createElement(cg,Mg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,g=h.endX,m=h.isTextActive,x=h.isSlideMoving,v=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!ce(l)||!ce(c)||!ce(u)||!ce(d)||u<=0||d<=0)return null;var y=tt("recharts-brush",i),S=O.Children.count(o)===1,w=Qwe("userSelect","none");return O.createElement(Gt,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||x||v||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return O.createElement(O.Fragment,null,O.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),O.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),O.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return O.isValidElement(n)?i=O.cloneElement(n,a):Ge(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return Y0({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?a1e({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(j.PureComponent);mn(Xc,"displayName","Brush");mn(Xc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var i1e=MN;function s1e(e,t){var r;return i1e(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var o1e=s1e,l1e=vL,c1e=eo,u1e=o1e,d1e=fn,f1e=rv;function h1e(e,t,r){var n=d1e(e)?l1e:u1e;return r&&f1e(e,t,r)&&(t=void 0),n(e,c1e(t))}var m1e=h1e;const p1e=yt(m1e);var Xa=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},PA=zL;function g1e(e,t,r){t=="__proto__"&&PA?PA(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var y1e=g1e,v1e=y1e,x1e=FL,b1e=eo;function w1e(e,t){var r={};return t=b1e(t),x1e(e,function(n,a,i){v1e(r,a,t(n,a,i))}),r}var j1e=w1e;const N1e=yt(j1e);function S1e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var k1e=S1e,P1e=MN;function C1e(e,t){var r=!0;return P1e(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var _1e=C1e,A1e=k1e,O1e=_1e,E1e=eo,T1e=fn,M1e=rv;function $1e(e,t,r){var n=T1e(e)?A1e:O1e;return r&&M1e(e,t,r)&&(t=void 0),n(e,E1e(t))}var D1e=$1e;const vz=yt(D1e);var I1e=["x","y"];function Hf(e){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hf(e)}function Ww(){return Ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ww.apply(this,arguments)}function CA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CA(Object(r),!0).forEach(function(n){R1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R1e(e,t,r){return t=F1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F1e(e){var t=L1e(e,"string");return Hf(t)=="symbol"?t:t+""}function L1e(e,t){if(Hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z1e(e,t){if(e==null)return{};var r=B1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function B1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function W1e(e,t){var r=e.x,n=e.y,a=z1e(e,I1e),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return rd(rd(rd(rd(rd({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function _A(e){return O.createElement(kwe,Ww({shapeType:"rectangle",propTransformer:W1e,activeClassName:"recharts-active-bar"},e))}var U1e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||rl(),r)}},V1e=["value","background"],xz;function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function q1e(e,t){if(e==null)return{};var r=H1e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function H1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dg.apply(this,arguments)}function AA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(r),!0).forEach(function(n){bs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wz(n.key),n)}}function K1e(e,t,r){return t&&OA(e.prototype,t),r&&OA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y1e(e,t,r){return t=Ig(t),Q1e(e,bz()?Reflect.construct(t,r||[],Ig(e).constructor):t.apply(e,r))}function Q1e(e,t){if(t&&(Zc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X1e(e)}function X1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bz=function(){return!!e})()}function Ig(e){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ig(e)}function Z1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uw(e,t)}function Uw(e,t){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Uw(e,t)}function bs(e,t,r){return t=wz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wz(e){var t=J1e(e,"string");return Zc(t)=="symbol"?t:t+""}function J1e(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ph=function(e){function t(){var r;G1e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Y1e(this,t,[].concat(a)),bs(r,"state",{isAnimationFinished:!1}),bs(r,"id",xh("recharts-bar-")),bs(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),bs(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Z1e(t,e),K1e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Je(this.props,!1);return n&&n.map(function(f,h){var p=h===c,g=p?u:o,m=Qt(Qt(Qt({},d),f),{},{isActive:p,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return O.createElement(Gt,Dg({className:"recharts-bar-rectangle"},Yp(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),O.createElement(_A,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return O.createElement(zi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=i.map(function(x,v){var b=h&&h[v];if(b){var y=da(b.x,x.x),S=da(b.y,x.y),w=da(b.width,x.width),N=da(b.height,x.height);return Qt(Qt({},x),{},{x:y(g),y:S(g),width:w(g),height:N(g)})}if(o==="horizontal"){var k=da(0,x.height),P=k(g);return Qt(Qt({},x),{},{y:x.y+x.height-P,height:P})}var C=da(0,x.width),M=C(g);return Qt(Qt({},x),{},{width:M})});return O.createElement(Gt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!dv(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Je(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=q1e(u,V1e);if(!f)return null;var p=Qt(Qt(Qt(Qt(Qt({},h),{},{fill:"#eee"},f),c),Yp(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return O.createElement(_A,Dg({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Gn(d,kh);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(x,v){var b=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:b,errorVal:_n(x,v)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return O.createElement(Gt,g,f.map(function(m){return O.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var x=this.state.isAnimationFinished,v=tt("recharts-bar",o),b=l&&l.allowDataOverflow,y=c&&c.allowDataOverflow,S=b||y,w=Qe(m)?this.id:m;return O.createElement(Gt,{className:v},b||y?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(w)},O.createElement("rect",{x:b?u:u-f/2,y:y?d:d-h/2,width:b?f:f*2,height:y?h:h*2}))):null,O.createElement(Gt,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(w,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,w),(!p||x)&&Es.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(j.PureComponent);xz=Ph;bs(Ph,"displayName","Bar");bs(Ph,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Pi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});bs(Ph,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=Ave(n,r);if(!p)return null;var g=t.layout,m=r.type.defaultProps,x=m!==void 0?Qt(Qt({},m),r.props):r.props,v=x.dataKey,b=x.children,y=x.minPointSize,S=g==="horizontal"?o:i,w=u?S.scale.domain():null,N=Rve({numericAxis:S}),k=Gn(b,GL),P=f.map(function(C,M){var A,_,R,L,D,$;u?A=Ove(u[d+M],w):(A=_n(C,v),Array.isArray(A)||(A=[N,A]));var I=U1e(y,xz.defaultProps.minPointSize)(A[1],M);if(g==="horizontal"){var E,W=[o.scale(A[0]),o.scale(A[1])],K=W[0],Q=W[1];_=A_({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:C,index:M}),R=(E=Q??K)!==null&&E!==void 0?E:void 0,L=p.size;var X=K-Q;if(D=Number.isNaN(X)?0:X,$={x:_,y:o.y,width:L,height:o.height},Math.abs(I)>0&&Math.abs(D)<Math.abs(I)){var fe=xa(D||I)*(Math.abs(I)-Math.abs(D));R-=fe,D+=fe}}else{var Ae=[i.scale(A[0]),i.scale(A[1])],ze=Ae[0],Re=Ae[1];if(_=ze,R=A_({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:C,index:M}),L=Re-ze,D=p.size,$={x:i.x,y:R,width:i.width,height:D},Math.abs(I)>0&&Math.abs(L)<Math.abs(I)){var ve=xa(L||I)*(Math.abs(I)-Math.abs(L));L+=ve}}return Qt(Qt(Qt({},C),{},{x:_,y:R,width:L,height:D,value:u?A:A[1],payload:C,background:$},k&&k[M]&&k[M].props),{},{tooltipPayload:[J8(r,C)],tooltipPosition:{x:_+L/2,y:R+D/2}})});return Qt({data:P,layout:g},h)});function Gf(e){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gf(e)}function eje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jz(n.key),n)}}function tje(e,t,r){return t&&EA(e.prototype,t),r&&EA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function TA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(r),!0).forEach(function(n){gv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gv(e,t,r){return t=jz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jz(e){var t=rje(e,"string");return Gf(t)=="symbol"?t:t+""}function rje(e,t){if(Gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nje=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!yn(u,Ph);return d.reduce(function(p,g){var m=r[g],x=m.orientation,v=m.domain,b=m.padding,y=b===void 0?{}:b,S=m.mirror,w=m.reversed,N="".concat(x).concat(S?"Mirror":""),k,P,C,M,A;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var _=v[1]-v[0],R=1/0,L=m.categoricalDomain.sort();if(L.forEach(function(Ae,ze){ze>0&&(R=Math.min((Ae||0)-(L[ze-1]||0),R))}),Number.isFinite(R)){var D=R/_,$=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(k=D*$/2),m.padding==="no-gap"){var I=el(t.barCategoryGap,D*$),E=D*$/2;k=E-I-(E-I)/$*I}}}a==="xAxis"?P=[n.left+(y.left||0)+(k||0),n.left+n.width-(y.right||0)-(k||0)]:a==="yAxis"?P=c==="horizontal"?[n.top+n.height-(y.bottom||0),n.top+(y.top||0)]:[n.top+(y.top||0)+(k||0),n.top+n.height-(y.bottom||0)-(k||0)]:P=m.range,w&&(P=[P[1],P[0]]);var W=Cve(m,i,h),K=W.scale,Q=W.realScaleType;K.domain(v).range(P),_ve(K);var X=Ive(K,sa(sa({},m),{},{realScaleType:Q}));a==="xAxis"?(A=x==="top"&&!S||x==="bottom"&&S,C=n.left,M=f[N]-A*m.height):a==="yAxis"&&(A=x==="left"&&!S||x==="right"&&S,C=f[N]-A*m.width,M=n.top);var fe=sa(sa(sa({},m),X),{},{realScaleType:Q,x:C,y:M,scale:K,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return fe.bandSize=Ng(fe,X),!m.hide&&a==="xAxis"?f[N]+=(A?-1:1)*fe.height:m.hide||(f[N]+=(A?-1:1)*fe.width),sa(sa({},p),{},gv({},g,fe))},{})},Nz=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},aje=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return Nz({x:r,y:n},{x:a,y:i})},Sz=function(){function e(t){eje(this,e),this.scale=t}return tje(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();gv(Sz,"EPS",1e-4);var cS=function(t){var r=Object.keys(t).reduce(function(n,a){return sa(sa({},n),{},gv({},a,Sz.create(t[a])))},{});return sa(sa({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return N1e(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return vz(a,function(i,o){return r[o].isInRange(i)})}})};function ije(e){return(e%180+180)%180}var sje=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=ije(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},oje=eo,lje=bh,cje=ev;function uje(e){return function(t,r,n){var a=Object(t);if(!lje(t)){var i=oje(r);t=cje(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var dje=uje,fje=mz;function hje(e){var t=fje(e),r=t%1;return t===t?r?t-r:t:0}var mje=hje,pje=TL,gje=eo,yje=mje,vje=Math.max;function xje(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:yje(r);return a<0&&(a=vje(n+a,0)),pje(e,gje(t),a)}var bje=xje,wje=dje,jje=bje,Nje=wje(jje),Sje=Nje;const kje=yt(Sje);var Pje=dre(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),uS=j.createContext(void 0),dS=j.createContext(void 0),kz=j.createContext(void 0),Pz=j.createContext({}),Cz=j.createContext(void 0),_z=j.createContext(0),Az=j.createContext(0),MA=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=Pje(i);return O.createElement(uS.Provider,{value:n},O.createElement(dS.Provider,{value:a},O.createElement(Pz.Provider,{value:i},O.createElement(kz.Provider,{value:d},O.createElement(Cz.Provider,{value:o},O.createElement(_z.Provider,{value:u},O.createElement(Az.Provider,{value:c},l)))))))},Cje=function(){return j.useContext(Cz)},Oz=function(t){var r=j.useContext(uS);r==null&&rl();var n=r[t];return n==null&&rl(),n},_je=function(){var t=j.useContext(uS);return ss(t)},Aje=function(){var t=j.useContext(dS),r=kje(t,function(n){return vz(n.domain,Number.isFinite)});return r||ss(t)},Ez=function(t){var r=j.useContext(dS);r==null&&rl();var n=r[t];return n==null&&rl(),n},Oje=function(){var t=j.useContext(kz);return t},Eje=function(){return j.useContext(Pz)},fS=function(){return j.useContext(Az)},hS=function(){return j.useContext(_z)};function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}function Tje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mz(n.key),n)}}function $je(e,t,r){return t&&Mje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dje(e,t,r){return t=Rg(t),Ije(e,Tz()?Reflect.construct(t,r||[],Rg(e).constructor):t.apply(e,r))}function Ije(e,t){if(t&&(Jc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rje(e)}function Rje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tz=function(){return!!e})()}function Rg(e){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rg(e)}function Fje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vw(e,t)}function Vw(e,t){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Vw(e,t)}function $A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(r),!0).forEach(function(n){mS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mS(e,t,r){return t=Mz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mz(e){var t=Lje(e,"string");return Jc(t)=="symbol"?t:t+""}function Lje(e,t){if(Jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zje(e,t){return Vje(e)||Uje(e,t)||Wje(e,t)||Bje()}function Bje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wje(e,t){if(e){if(typeof e=="string")return IA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IA(e,t)}}function IA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Vje(e){if(Array.isArray(e))return e}function qw(){return qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qw.apply(this,arguments)}var qje=function(t,r){var n;return O.isValidElement(t)?n=O.cloneElement(t,r):Ge(t)?n=t(r):n=O.createElement("line",qw({},r,{className:"recharts-reference-line-line"})),n},Hje=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var g=u.y,m=t.y.apply(g,{position:o});if(Xa(u,"discard")&&!t.y.isInRange(m))return null;var x=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?x.reverse():x}if(r){var v=u.x,b=t.x.apply(v,{position:o});if(Xa(u,"discard")&&!t.x.isInRange(b))return null;var y=[{x:b,y:f+p},{x:b,y:f}];return l==="top"?y.reverse():y}if(a){var S=u.segment,w=S.map(function(N){return t.apply(N,{position:o})});return Xa(u,"discard")&&p1e(w,function(N){return!t.isInRange(N)})?null:w}return null};function Gje(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=Cje(),d=Oz(a),f=Ez(i),h=Oje();if(!u||!h)return null;ki(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=cS({x:d.scale,y:f.scale}),g=lr(t),m=lr(r),x=n&&n.length===2,v=Hje(p,g,m,x,h,e.position,d.orientation,f.orientation,e);if(!v)return null;var b=zje(v,2),y=b[0],S=y.x,w=y.y,N=b[1],k=N.x,P=N.y,C=Xa(e,"hidden")?"url(#".concat(u,")"):void 0,M=DA(DA({clipPath:C},Je(e,!0)),{},{x1:S,y1:w,x2:k,y2:P});return O.createElement(Gt,{className:tt("recharts-reference-line",l)},qje(o,M),Or.renderCallByParent(e,aje({x1:S,y1:w,x2:k,y2:P})))}var pS=function(e){function t(){return Tje(this,t),Dje(this,t,arguments)}return Fje(t,e),$je(t,[{key:"render",value:function(){return O.createElement(Gje,this.props)}}])}(O.Component);mS(pS,"displayName","ReferenceLine");mS(pS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Hw(){return Hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hw.apply(this,arguments)}function eu(e){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}function RA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(r),!0).forEach(function(n){yv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dz(n.key),n)}}function Qje(e,t,r){return t&&Yje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xje(e,t,r){return t=Fg(t),Zje(e,$z()?Reflect.construct(t,r||[],Fg(e).constructor):t.apply(e,r))}function Zje(e,t){if(t&&(eu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jje(e)}function Jje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($z=function(){return!!e})()}function Fg(e){return Fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fg(e)}function eNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gw(e,t)}function Gw(e,t){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gw(e,t)}function yv(e,t,r){return t=Dz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dz(e){var t=tNe(e,"string");return eu(t)=="symbol"?t:t+""}function tNe(e,t){if(eu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rNe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=cS({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Xa(t,"discard")&&!o.isInRange(l)?null:l},vv=function(e){function t(){return Kje(this,t),Xje(this,t,arguments)}return eNe(t,e),Qje(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=lr(a),d=lr(i);if(ki(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=rNe(this.props);if(!f)return null;var h=f.x,p=f.y,g=this.props,m=g.shape,x=g.className,v=Xa(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=FA(FA({clipPath:v},Je(this.props,!0)),{},{cx:h,cy:p});return O.createElement(Gt,{className:tt("recharts-reference-dot",x)},t.renderDot(m,b),Or.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(O.Component);yv(vv,"displayName","ReferenceDot");yv(vv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});yv(vv,"renderDot",function(e,t){var r;return O.isValidElement(e)?r=O.cloneElement(e,t):Ge(e)?r=e(t):r=O.createElement(lS,Hw({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Kw(){return Kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kw.apply(this,arguments)}function tu(e){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}function LA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(r),!0).forEach(function(n){xv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rz(n.key),n)}}function iNe(e,t,r){return t&&aNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sNe(e,t,r){return t=Lg(t),oNe(e,Iz()?Reflect.construct(t,r||[],Lg(e).constructor):t.apply(e,r))}function oNe(e,t){if(t&&(tu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lNe(e)}function lNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iz=function(){return!!e})()}function Lg(e){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lg(e)}function cNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yw(e,t)}function Yw(e,t){return Yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Yw(e,t)}function xv(e,t,r){return t=Rz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rz(e){var t=uNe(e,"string");return tu(t)=="symbol"?t:t+""}function uNe(e,t){if(tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dNe=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=cS({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Xa(i,"discard")&&(!h.isInRange(p)||!h.isInRange(g))?null:Nz(p,g)},bv=function(e){function t(){return nNe(this,t),sNe(this,t,arguments)}return cNe(t,e),iNe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;ki(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=lr(a),h=lr(i),p=lr(o),g=lr(l),m=this.props.shape;if(!f&&!h&&!p&&!g&&!m)return null;var x=dNe(f,h,p,g,this.props);if(!x&&!m)return null;var v=Xa(this.props,"hidden")?"url(#".concat(d,")"):void 0;return O.createElement(Gt,{className:tt("recharts-reference-area",c)},t.renderRect(m,zA(zA({clipPath:v},Je(this.props,!0)),x)),Or.renderCallByParent(this.props,x))}}])}(O.Component);xv(bv,"displayName","ReferenceArea");xv(bv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});xv(bv,"renderRect",function(e,t){var r;return O.isValidElement(e)?r=O.cloneElement(e,t):Ge(e)?r=e(t):r=O.createElement(oS,Kw({},t,{className:"recharts-reference-area-rect"})),r});function Fz(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function fNe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return sje(n,r)}function hNe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function zg(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function mNe(e,t){return Fz(e,t+1)}function pNe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:Fz(n,u)};var m=c,x,v=function(){return x===void 0&&(x=r(g,m)),x},b=g.coordinate,y=c===0||zg(e,b,v,d,l);y||(c=0,d=o,u+=1),y&&(d=b+e*(v()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}function BA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(r),!0).forEach(function(n){gNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gNe(e,t,r){return t=yNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yNe(e){var t=vNe(e,"string");return Kf(t)=="symbol"?t:t+""}function vNe(e,t){if(Kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xNe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],g,m=function(){return g===void 0&&(g=r(p,h)),g};if(h===o-1){var x=e*(p.coordinate+e*m()/2-c);i[h]=p=_r(_r({},p),{},{tickCoord:x>0?p.coordinate-x*e:p.coordinate})}else i[h]=p=_r(_r({},p),{},{tickCoord:p.coordinate});var v=zg(e,p.tickCoord,m,l,c);v&&(c=p.tickCoord-e*(m()/2+a),i[h]=_r(_r({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function bNe(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=_r(_r({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=zg(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),o[l-1]=_r(_r({},d),{},{isShow:!0}))}for(var g=i?l-1:l,m=function(b){var y=o[b],S,w=function(){return S===void 0&&(S=r(y,b)),S};if(b===0){var N=e*(y.coordinate-e*w()/2-c);o[b]=y=_r(_r({},y),{},{tickCoord:N<0?y.coordinate-N*e:y.coordinate})}else o[b]=y=_r(_r({},y),{},{tickCoord:y.coordinate});var k=zg(e,y.tickCoord,w,c,u);k&&(c=y.tickCoord+e*(w()/2+a),o[b]=_r(_r({},y),{},{isShow:!0}))},x=0;x<g;x++)m(x);return o}function gS(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(ce(c)||Pi.isSsr)return mNe(a,typeof c=="number"&&ce(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",g=d&&p==="width"?_d(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(y,S){var w=Ge(u)?u(y.value,S):y.value;return p==="width"?fNe(_d(w,{fontSize:t,letterSpacing:r}),g,f):_d(w,{fontSize:t,letterSpacing:r})[p]},x=a.length>=2?xa(a[1].coordinate-a[0].coordinate):1,v=hNe(i,x,p);return c==="equidistantPreserveStart"?pNe(x,v,m,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=bNe(x,v,m,a,o,c==="preserveStartEnd"):h=xNe(x,v,m,a,o),h.filter(function(b){return b.isShow}))}var wNe=["viewBox"],jNe=["viewBox"],NNe=["ticks"];function ru(e){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function Fl(){return Fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fl.apply(this,arguments)}function WA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(r),!0).forEach(function(n){yS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q0(e,t){if(e==null)return{};var r=SNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zz(n.key),n)}}function PNe(e,t,r){return t&&UA(e.prototype,t),r&&UA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function CNe(e,t,r){return t=Bg(t),_Ne(e,Lz()?Reflect.construct(t,r||[],Bg(e).constructor):t.apply(e,r))}function _Ne(e,t){if(t&&(ru(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ANe(e)}function ANe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lz=function(){return!!e})()}function Bg(e){return Bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bg(e)}function ONe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qw(e,t)}function Qw(e,t){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Qw(e,t)}function yS(e,t,r){return t=zz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zz(e){var t=ENe(e,"string");return ru(t)=="symbol"?t:t+""}function ENe(e,t){if(ru(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ru(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eu=function(e){function t(r){var n;return kNe(this,t),n=CNe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return ONe(t,e),PNe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=Q0(n,wNe),l=this.props,c=l.viewBox,u=Q0(l,jNe);return!nc(i,c)||!nc(o,u)||!nc(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,g,m,x,v,b,y=f?-1:1,S=n.tickSize||d,w=ce(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,x=o+ +!f*c,m=x-y*S,b=m-y*h,v=w;break;case"left":m=x=n.coordinate,g=i+ +!f*l,p=g-y*S,v=p-y*h,b=w;break;case"right":m=x=n.coordinate,g=i+ +f*l,p=g+y*S,v=p+y*h,b=w;break;default:p=g=n.coordinate,x=o+ +f*c,m=x+y*S,b=m+y*h,v=w;break}return{line:{x1:p,y1:m,x2:g,y2:x},tick:{x:v,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Rr(Rr(Rr({},Je(this.props,!1)),Je(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Rr(Rr({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=Rr(Rr({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return O.createElement("line",Fl({},f,{className:tt("recharts-cartesian-axis-line",Hn(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=gS(Rr(Rr({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),x=Je(this.props,!1),v=Je(d,!1),b=Rr(Rr({},x),{},{fill:"none"},Je(c,!1)),y=p.map(function(S,w){var N=o.getTickLineCoord(S),k=N.line,P=N.tick,C=Rr(Rr(Rr(Rr({textAnchor:g,verticalAnchor:m},x),{},{stroke:"none",fill:u},v),P),{},{index:w,payload:S,visibleTicksCount:p.length,tickFormatter:f});return O.createElement(Gt,Fl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Yp(o.props,S,w)),c&&O.createElement("line",Fl({},b,k,{className:tt("recharts-cartesian-axis-tick-line",Hn(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(Ge(f)?f(S.value,w):S.value).concat(h||"")))});return O.createElement("g",{className:"recharts-cartesian-axis-ticks"},y)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=Q0(f,NNe),g=h;return Ge(c)&&(g=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!g||!g.length?null:O.createElement(Gt,{className:tt("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Or.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return O.isValidElement(n)?o=O.cloneElement(n,a):Ge(n)?o=n(a):o=O.createElement(cg,Fl({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(j.Component);yS(Eu,"displayName","CartesianAxis");yS(Eu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var TNe=["x1","y1","x2","y2","key"],MNe=["offset"];function nl(e){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(e)}function VA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(r),!0).forEach(function(n){$Ne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Ne(e,t,r){return t=DNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DNe(e){var t=INe(e,"string");return nl(t)=="symbol"?t:t+""}function INe(e,t){if(nl(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jo(){return jo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jo.apply(this,arguments)}function qA(e,t){if(e==null)return{};var r=RNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var FNe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return O.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Bz(e,t){var r;if(O.isValidElement(e))r=O.cloneElement(e,t);else if(Ge(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=qA(t,TNe),u=Je(c,!1);u.offset;var d=qA(u,MNe);r=O.createElement("line",jo({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function LNe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Er(Er({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return Bz(a,u)});return O.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function zNe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Er(Er({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return Bz(a,u)});return O.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function BNe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?a+o-h:d[p+1]-h;if(m<=0)return null;var x=p%t.length;return O.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function WNe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var g=!d[p+1],m=g?i+l-h:d[p+1]-h;if(m<=0)return null;var x=p%n.length;return O.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[x],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var UNe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return X8(gS(Er(Er(Er({},Eu.defaultProps),n),{},{ticks:ji(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},VNe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return X8(gS(Er(Er(Er({},Eu.defaultProps),n),{},{ticks:ji(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},xl={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Wz(e){var t,r,n,a,i,o,l=fS(),c=hS(),u=Eje(),d=Er(Er({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:xl.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:xl.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:xl.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:xl.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:xl.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:xl.verticalFill,x:ce(e.x)?e.x:u.left,y:ce(e.y)?e.y:u.top,width:ce(e.width)?e.width:u.width,height:ce(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,g=d.height,m=d.syncWithTicks,x=d.horizontalValues,v=d.verticalValues,b=_je(),y=Aje();if(!ce(p)||p<=0||!ce(g)||g<=0||!ce(f)||f!==+f||!ce(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||UNe,w=d.horizontalCoordinatesGenerator||VNe,N=d.horizontalPoints,k=d.verticalPoints;if((!N||!N.length)&&Ge(w)){var P=x&&x.length,C=w({yAxis:y?Er(Er({},y),{},{ticks:P?x:y.ticks}):void 0,width:l,height:c,offset:u},P?!0:m);ki(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(nl(C),"]")),Array.isArray(C)&&(N=C)}if((!k||!k.length)&&Ge(S)){var M=v&&v.length,A=S({xAxis:b?Er(Er({},b),{},{ticks:M?v:b.ticks}):void 0,width:l,height:c,offset:u},M?!0:m);ki(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(nl(A),"]")),Array.isArray(A)&&(k=A)}return O.createElement("g",{className:"recharts-cartesian-grid"},O.createElement(FNe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),O.createElement(LNe,jo({},d,{offset:u,horizontalPoints:N,xAxis:b,yAxis:y})),O.createElement(zNe,jo({},d,{offset:u,verticalPoints:k,xAxis:b,yAxis:y})),O.createElement(BNe,jo({},d,{horizontalPoints:N})),O.createElement(WNe,jo({},d,{verticalPoints:k})))}Wz.displayName="CartesianGrid";var qNe=["type","layout","connectNulls","ref"],HNe=["key"];function nu(e){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}function HA(e,t){if(e==null)return{};var r=GNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Td(){return Td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Td.apply(this,arguments)}function GA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(r),!0).forEach(function(n){oa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bl(e){return XNe(e)||QNe(e)||YNe(e)||KNe()}function KNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YNe(e,t){if(e){if(typeof e=="string")return Xw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xw(e,t)}}function QNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XNe(e){if(Array.isArray(e))return Xw(e)}function Xw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vz(n.key),n)}}function JNe(e,t,r){return t&&KA(e.prototype,t),r&&KA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eSe(e,t,r){return t=Wg(t),tSe(e,Uz()?Reflect.construct(t,r||[],Wg(e).constructor):t.apply(e,r))}function tSe(e,t){if(t&&(nu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rSe(e)}function rSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uz=function(){return!!e})()}function Wg(e){return Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wg(e)}function nSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zw(e,t)}function Zw(e,t){return Zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zw(e,t)}function oa(e,t,r){return t=Vz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vz(e){var t=aSe(e,"string");return nu(t)=="symbol"?t:t+""}function aSe(e,t){if(nu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ch=function(e){function t(){var r;ZNe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=eSe(this,t,[].concat(a)),oa(r,"state",{isAnimationFinished:!0,totalLength:0}),oa(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),oa(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(v,b){return v+b});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,p=[],g=0,m=0;g<c.length;m+=c[g],++g)if(m+c[g]>f){p=[].concat(bl(c.slice(0,g)),[f-m]);break}var x=p.length%2===0?[0,h]:[h];return[].concat(bl(t.repeat(c,d)),bl(p),x).map(function(v){return"".concat(v,"px")}).join(", ")}),oa(r,"id",xh("recharts-line-")),oa(r,"pathRef",function(o){r.mainCurve=o}),oa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),oa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return nSe(t,e),JNe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Gn(d,kh);if(!f)return null;var h=function(m,x){return{x:m.x,y:m.y,value:m.value,errorVal:_n(m.payload,x)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return O.createElement(Gt,p,f.map(function(g){return O.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Je(this.props,!1),h=Je(c,!0),p=u.map(function(m,x){var v=hn(hn(hn({key:"dot-".concat(x),r:3},f),h),{},{index:x,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return t.renderDotItem(c,v)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return O.createElement(Gt,Td({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=HA(l,qNe),h=hn(hn(hn({},Je(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return O.createElement(Aw,Td({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,g=o.animateNewValues,m=o.width,x=o.height,v=this.state,b=v.prevPoints,y=v.totalLength;return O.createElement(zi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var w=S.t;if(b){var N=b.length/l.length,k=l.map(function(_,R){var L=Math.floor(R*N);if(b[L]){var D=b[L],$=da(D.x,_.x),I=da(D.y,_.y);return hn(hn({},_),{},{x:$(w),y:I(w)})}if(g){var E=da(m*2,_.x),W=da(x/2,_.y);return hn(hn({},_),{},{x:E(w),y:W(w)})}return hn(hn({},_),{},{x:_.x,y:_.y})});return i.renderCurveStatically(k,n,a)}var P=da(0,y),C=P(w),M;if(c){var A="".concat(c).split(/[,\s]+/gim).map(function(_){return parseFloat(_)});M=i.getStrokeDasharray(C,y,A)}else M=i.generateSimpleStrokeDasharray(y,C);return i.renderCurveStatically(l,n,a,{strokeDasharray:M})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!dv(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,p=a.width,g=a.height,m=a.isAnimationActive,x=a.id;if(i||!l||!l.length)return null;var v=this.state.isAnimationFinished,b=l.length===1,y=tt("recharts-line",c),S=u&&u.allowDataOverflow,w=d&&d.allowDataOverflow,N=S||w,k=Qe(x)?this.id:x,P=(n=Je(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=P.r,M=C===void 0?3:C,A=P.strokeWidth,_=A===void 0?2:A,R=yne(o)?o:{},L=R.clipDot,D=L===void 0?!0:L,$=M*2+_;return O.createElement(Gt,{className:y},S||w?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(k)},O.createElement("rect",{x:S?h:h-p/2,y:w?f:f-g/2,width:S?p:p*2,height:w?g:g*2})),!D&&O.createElement("clipPath",{id:"clipPath-dots-".concat(k)},O.createElement("rect",{x:h-$/2,y:f-$/2,width:p+$,height:g+$}))):null,!b&&this.renderCurve(N,k),this.renderErrorBar(N,k),(b||o)&&this.renderDots(N,D,k),(!m||v)&&Es.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(bl(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(bl(o),bl(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(O.isValidElement(n))i=O.cloneElement(n,a);else if(Ge(n))i=n(a);else{var o=a.key,l=HA(a,HNe),c=tt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=O.createElement(lS,Td({key:o},l,{className:c}))}return i}}])}(j.PureComponent);oa(Ch,"displayName","Line");oa(Ch,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Pi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});oa(Ch,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var g=_n(h,o);return d==="horizontal"?{x:__({axis:r,ticks:a,bandSize:l,entry:h,index:p}),y:Qe(g)?null:n.scale(g),value:g,payload:h}:{x:Qe(g)?null:r.scale(g),y:__({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:g,payload:h}});return hn({points:f,layout:d},u)});function au(e){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function iSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gz(n.key),n)}}function oSe(e,t,r){return t&&sSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lSe(e,t,r){return t=Ug(t),cSe(e,qz()?Reflect.construct(t,r||[],Ug(e).constructor):t.apply(e,r))}function cSe(e,t){if(t&&(au(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uSe(e)}function uSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qz=function(){return!!e})()}function Ug(e){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ug(e)}function dSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jw(e,t)}function Jw(e,t){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Jw(e,t)}function Hz(e,t,r){return t=Gz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gz(e){var t=fSe(e,"string");return au(t)=="symbol"?t:t+""}function fSe(e,t){if(au(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(au(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e1(){return e1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e1.apply(this,arguments)}function hSe(e){var t=e.xAxisId,r=fS(),n=hS(),a=Oz(t);return a==null?null:O.createElement(Eu,e1({},a,{className:tt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ji(o,!0)}}))}var wv=function(e){function t(){return iSe(this,t),lSe(this,t,arguments)}return dSe(t,e),oSe(t,[{key:"render",value:function(){return O.createElement(hSe,this.props)}}])}(O.Component);Hz(wv,"displayName","XAxis");Hz(wv,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function iu(e){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}function mSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qz(n.key),n)}}function gSe(e,t,r){return t&&pSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ySe(e,t,r){return t=Vg(t),vSe(e,Kz()?Reflect.construct(t,r||[],Vg(e).constructor):t.apply(e,r))}function vSe(e,t){if(t&&(iu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xSe(e)}function xSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kz=function(){return!!e})()}function Vg(e){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vg(e)}function bSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t1(e,t)}function t1(e,t){return t1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},t1(e,t)}function Yz(e,t,r){return t=Qz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qz(e){var t=wSe(e,"string");return iu(t)=="symbol"?t:t+""}function wSe(e,t){if(iu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(iu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r1(){return r1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r1.apply(this,arguments)}var jSe=function(t){var r=t.yAxisId,n=fS(),a=hS(),i=Ez(r);return i==null?null:O.createElement(Eu,r1({},i,{className:tt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return ji(l,!0)}}))},jv=function(e){function t(){return mSe(this,t),ySe(this,t,arguments)}return bSe(t,e),gSe(t,[{key:"render",value:function(){return O.createElement(jSe,this.props)}}])}(O.Component);Yz(jv,"displayName","YAxis");Yz(jv,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function YA(e){return PSe(e)||kSe(e)||SSe(e)||NSe()}function NSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SSe(e,t){if(e){if(typeof e=="string")return n1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n1(e,t)}}function kSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PSe(e){if(Array.isArray(e))return n1(e)}function n1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a1=function(t,r,n,a,i){var o=Gn(t,pS),l=Gn(t,vv),c=[].concat(YA(o),YA(l)),u=Gn(t,bv),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(m,x){if(x.props[d]===n&&Xa(x.props,"extendDomain")&&ce(x.props[f])){var v=x.props[f];return[Math.min(m[0],v),Math.max(m[1],v)]}return m},h)),u.length){var p="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(m,x){if(x.props[d]===n&&Xa(x.props,"extendDomain")&&ce(x.props[p])&&ce(x.props[g])){var v=x.props[p],b=x.props[g];return[Math.min(m[0],v,b),Math.max(m[1],v,b)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,x){return ce(x)?[Math.min(m[0],x),Math.max(m[1],x)]:m},h)),h},Xz={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,g=new Array(p);h<p;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var x=this._events[m],v=arguments.length,b,y;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,p),!0;case 6:return x.fn.call(x.context,d,f,h,p,g),!0}for(y=1,b=new Array(v-1);y<v;y++)b[y-1]=arguments[y];x.fn.apply(x.context,b)}else{var S=x.length,w;for(y=0;y<S;y++)switch(x[y].once&&this.removeListener(u,x[y].fn,void 0,!0),v){case 1:x[y].fn.call(x[y].context);break;case 2:x[y].fn.call(x[y].context,d);break;case 3:x[y].fn.call(x[y].context,d,f);break;case 4:x[y].fn.call(x[y].context,d,f,h);break;default:if(!b)for(w=1,b=new Array(v-1);w<v;w++)b[w-1]=arguments[w];x[y].fn.apply(x[y].context,b)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var m=0,x=[],v=g.length;m<v;m++)(g[m].fn!==d||h&&!g[m].once||f&&g[m].context!==f)&&x.push(g[m]);x.length?this._events[p]=x.length===1?x[0]:x:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Xz);var CSe=Xz.exports;const _Se=yt(CSe);var X0=new _Se,Z0="recharts.syncMouseEvents";function Yf(e){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yf(e)}function ASe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zz(n.key),n)}}function ESe(e,t,r){return t&&OSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function J0(e,t,r){return t=Zz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zz(e){var t=TSe(e,"string");return Yf(t)=="symbol"?t:t+""}function TSe(e,t){if(Yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var MSe=function(){function e(){ASe(this,e),J0(this,"activeIndex",0),J0(this,"coordinateList",[]),J0(this,"layout","horizontal")}return ESe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function $Se(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&ce(n)&&ce(a))return!0}return!1}function DSe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Jz(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=wr(t,r,n,a),l=wr(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function ISe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=wr(l,c,u,f),p=wr(l,c,d,f);n=h.x,a=h.y,i=p.x,o=p.y}else return Jz(t);return[{x:n,y:a},{x:i,y:o}]}function Qf(e){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qf(e)}function QA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(r),!0).forEach(function(n){RSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RSe(e,t,r){return t=FSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FSe(e){var t=LSe(e,"string");return Qf(t)=="symbol"?t:t+""}function LSe(e,t){if(Qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zSe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var g,m=Aw;if(h==="ScatterChart")g=o,m=Lbe;else if(h==="BarChart")g=DSe(f,o,c,d),m=oS;else if(f==="radial"){var x=Jz(o),v=x.cx,b=x.cy,y=x.radius,S=x.startAngle,w=x.endAngle;g={cx:v,cy:b,startAngle:S,endAngle:w,innerRadius:y,outerRadius:y},m=rz}else g={points:ISe(f,o,c)},m=Aw;var N=mm(mm(mm(mm({stroke:"#ccc",pointerEvents:"none"},c),g),Je(p,!1)),{},{payload:l,payloadIndex:u,className:tt("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,N):j.createElement(m,N)}var BSe=["item"],WSe=["children","className","width","height","style","compact","title","desc"];function su(e){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},su(e)}function Ll(){return Ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ll.apply(this,arguments)}function XA(e,t){return qSe(e)||VSe(e,t)||tB(e,t)||USe()}function USe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function qSe(e){if(Array.isArray(e))return e}function ZA(e,t){if(e==null)return{};var r=HSe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function GSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rB(n.key),n)}}function YSe(e,t,r){return t&&KSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QSe(e,t,r){return t=qg(t),XSe(e,eB()?Reflect.construct(t,r||[],qg(e).constructor):t.apply(e,r))}function XSe(e,t){if(t&&(su(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZSe(e)}function ZSe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eB=function(){return!!e})()}function qg(e){return qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qg(e)}function JSe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i1(e,t)}function i1(e,t){return i1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},i1(e,t)}function ou(e){return rke(e)||tke(e)||tB(e)||eke()}function eke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tB(e,t){if(e){if(typeof e=="string")return s1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s1(e,t)}}function tke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rke(e){if(Array.isArray(e))return s1(e)}function s1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(r),!0).forEach(function(n){Ee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ee(e,t,r){return t=rB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rB(e){var t=nke(e,"string");return su(t)=="symbol"?t:t+""}function nke(e,t){if(su(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(su(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ake={xAxis:["bottom","top"],yAxis:["left","right"]},ike={width:"100%",height:"100%"},nB={x:0,y:0};function pm(e){return e}var ske=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},oke=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return Y(Y(Y({},a),wr(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return Y(Y(Y({},a),wr(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return nB},Nv=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(ou(l),ou(u)):l},[]);return o.length>0?o:t&&t.length&&ce(a)&&ce(i)?t.slice(a,i+1):[]};function aB(e){return e==="number"?[0,"auto"]:void 0}var o1=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=Nv(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=Gp(p,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(ou(c),[J8(u,h)]):c},[])},eO=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=ske(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=wve(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=o1(t,r,d,f),p=oke(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},lke=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=Q8(d,i);return n.reduce(function(g,m){var x,v=m.type.defaultProps!==void 0?Y(Y({},m.type.defaultProps),m.props):m.props,b=v.type,y=v.dataKey,S=v.allowDataOverflow,w=v.allowDuplicatedCategory,N=v.scale,k=v.ticks,P=v.includeHidden,C=v[o];if(g[C])return g;var M=Nv(t.data,{graphicalItems:a.filter(function(X){var fe,Ae=o in X.props?X.props[o]:(fe=X.type.defaultProps)===null||fe===void 0?void 0:fe[o];return Ae===C}),dataStartIndex:c,dataEndIndex:u}),A=M.length,_,R,L;$Se(v.domain,S,b)&&(_=Sw(v.domain,null,S),p&&(b==="number"||N!=="auto")&&(L=Od(M,y,"category")));var D=aB(b);if(!_||_.length===0){var $,I=($=v.domain)!==null&&$!==void 0?$:D;if(y){if(_=Od(M,y,b),b==="category"&&p){var E=lne(_);w&&E?(R=_,_=Tg(0,A)):w||(_=T_(I,_,m).reduce(function(X,fe){return X.indexOf(fe)>=0?X:[].concat(ou(X),[fe])},[]))}else if(b==="category")w?_=_.filter(function(X){return X!==""&&!Qe(X)}):_=T_(I,_,m).reduce(function(X,fe){return X.indexOf(fe)>=0||fe===""||Qe(fe)?X:[].concat(ou(X),[fe])},[]);else if(b==="number"){var W=Pve(M,a.filter(function(X){var fe,Ae,ze=o in X.props?X.props[o]:(fe=X.type.defaultProps)===null||fe===void 0?void 0:fe[o],Re="hide"in X.props?X.props.hide:(Ae=X.type.defaultProps)===null||Ae===void 0?void 0:Ae.hide;return ze===C&&(P||!Re)}),y,i,d);W&&(_=W)}p&&(b==="number"||N!=="auto")&&(L=Od(M,y,"category"))}else p?_=Tg(0,A):l&&l[C]&&l[C].hasStack&&b==="number"?_=h==="expand"?[0,1]:Z8(l[C].stackGroups,c,u):_=Y8(M,a.filter(function(X){var fe=o in X.props?X.props[o]:X.type.defaultProps[o],Ae="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return fe===C&&(P||!Ae)}),b,d,!0);if(b==="number")_=a1(f,_,C,i,k),I&&(_=Sw(I,_,S));else if(b==="category"&&I){var K=I,Q=_.every(function(X){return K.indexOf(X)>=0});Q&&(_=K)}}return Y(Y({},g),{},Ee({},C,Y(Y({},v),{},{axisType:i,domain:_,categoricalDomain:L,duplicateDomain:R,originalDomain:(x=v.domain)!==null&&x!==void 0?x:D,isCategorical:p,layout:d})))},{})},cke=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Nv(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,g=Q8(d,i),m=-1;return n.reduce(function(x,v){var b=v.type.defaultProps!==void 0?Y(Y({},v.type.defaultProps),v.props):v.props,y=b[o],S=aB("number");if(!x[y]){m++;var w;return g?w=Tg(0,p):l&&l[y]&&l[y].hasStack?(w=Z8(l[y].stackGroups,c,u),w=a1(f,w,y,i)):(w=Sw(S,Y8(h,n.filter(function(N){var k,P,C=o in N.props?N.props[o]:(k=N.type.defaultProps)===null||k===void 0?void 0:k[o],M="hide"in N.props?N.props.hide:(P=N.type.defaultProps)===null||P===void 0?void 0:P.hide;return C===y&&!M}),"number",d),a.defaultProps.allowDataOverflow),w=a1(f,w,y,i)),Y(Y({},x),{},Ee({},y,Y(Y({axisType:i},a.defaultProps),{},{hide:!0,orientation:Hn(ake,"".concat(i,".").concat(m%2),null),domain:w,originalDomain:S,isCategorical:g,layout:d})))}return x},{})},uke=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=Gn(d,i),p={};return h&&h.length?p=lke(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=cke(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},dke=function(t){var r=ss(t),n=ji(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:$N(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Ng(r,n)}},tO=function(t){var r=t.children,n=t.defaultShowTooltip,a=yn(r,Xc),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},fke=function(t){return!t||!t.length?!1:t.some(function(r){var n=Si(r&&r.type);return n&&n.indexOf("Bar")>=0})},rO=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},hke=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=yn(f,Xc),g=yn(f,ac),m=Object.keys(c).reduce(function(w,N){var k=c[N],P=k.orientation;return!k.mirror&&!k.hide?Y(Y({},w),{},Ee({},P,w[P]+k.width)):w},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(w,N){var k=o[N],P=k.orientation;return!k.mirror&&!k.hide?Y(Y({},w),{},Ee({},P,Hn(w,"".concat(P))+k.height)):w},{top:h.top||0,bottom:h.bottom||0}),v=Y(Y({},x),m),b=v.bottom;p&&(v.bottom+=p.props.height||Xc.defaultProps.height),g&&r&&(v=Sve(v,a,n,r));var y=u-v.left-v.right,S=d-v.top-v.bottom;return Y(Y({brushBottom:b},v),{},{width:Math.max(y,0),height:Math.max(S,0)})},mke=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},pke=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(v,b){var y=b.graphicalItems,S=b.stackGroups,w=b.offset,N=b.updateId,k=b.dataStartIndex,P=b.dataEndIndex,C=v.barSize,M=v.layout,A=v.barGap,_=v.barCategoryGap,R=v.maxBarSize,L=rO(M),D=L.numericAxisName,$=L.cateAxisName,I=fke(y),E=[];return y.forEach(function(W,K){var Q=Nv(v.data,{graphicalItems:[W],dataStartIndex:k,dataEndIndex:P}),X=W.type.defaultProps!==void 0?Y(Y({},W.type.defaultProps),W.props):W.props,fe=X.dataKey,Ae=X.maxBarSize,ze=X["".concat(D,"Id")],Re=X["".concat($,"Id")],ve={},ke=c.reduce(function(Xe,T){var U=b["".concat(T.axisType,"Map")],q=X["".concat(T.axisType,"Id")];U&&U[q]||T.axisType==="zAxis"||rl();var oe=U[q];return Y(Y({},Xe),{},Ee(Ee({},T.axisType,oe),"".concat(T.axisType,"Ticks"),ji(oe)))},ve),J=ke[$],ie=ke["".concat($,"Ticks")],V=S&&S[ze]&&S[ze].hasStack&&Fve(W,S[ze].stackGroups),z=Si(W.type).indexOf("Bar")>=0,se=Ng(J,ie),H=[],ae=I&&jve({barSize:C,stackGroups:S,totalSize:mke(ke,$)});if(z){var Ne,G,xe=Qe(Ae)?R:Ae,$e=(Ne=(G=Ng(J,ie,!0))!==null&&G!==void 0?G:xe)!==null&&Ne!==void 0?Ne:0;H=Nve({barGap:A,barCategoryGap:_,bandSize:$e!==se?$e:se,sizeList:ae[Re],maxBarSize:xe}),$e!==se&&(H=H.map(function(Xe){return Y(Y({},Xe),{},{position:Y(Y({},Xe.position),{},{offset:Xe.position.offset-$e/2})})}))}var Ve=W&&W.type&&W.type.getComposedData;Ve&&E.push({props:Y(Y({},Ve(Y(Y({},ke),{},{displayedData:Q,props:v,dataKey:fe,item:W,bandSize:se,barPosition:H,offset:w,stackedData:V,layout:M,dataStartIndex:k,dataEndIndex:P}))),{},Ee(Ee(Ee({key:W.key||"item-".concat(K)},D,ke[D]),$,ke[$]),"animationId",N)),childIndex:bne(W,v.children),item:W})}),E},p=function(v,b){var y=v.props,S=v.dataStartIndex,w=v.dataEndIndex,N=v.updateId;if(!kP({props:y}))return null;var k=y.children,P=y.layout,C=y.stackOffset,M=y.data,A=y.reverseStackOrder,_=rO(P),R=_.numericAxisName,L=_.cateAxisName,D=Gn(k,n),$=Dve(M,D,"".concat(R,"Id"),"".concat(L,"Id"),C,A),I=c.reduce(function(X,fe){var Ae="".concat(fe.axisType,"Map");return Y(Y({},X),{},Ee({},Ae,uke(y,Y(Y({},fe),{},{graphicalItems:D,stackGroups:fe.axisType===R&&$,dataStartIndex:S,dataEndIndex:w}))))},{}),E=hke(Y(Y({},I),{},{props:y,graphicalItems:D}),b==null?void 0:b.legendBBox);Object.keys(I).forEach(function(X){I[X]=d(y,I[X],E,X.replace("Map",""),r)});var W=I["".concat(L,"Map")],K=dke(W),Q=h(y,Y(Y({},I),{},{dataStartIndex:S,dataEndIndex:w,updateId:N,graphicalItems:D,stackGroups:$,offset:E}));return Y(Y({formattedGraphicalItems:Q,graphicalItems:D,offset:E,stackGroups:$},K),I)},g=function(x){function v(b){var y,S,w;return GSe(this,v),w=QSe(this,v,[b]),Ee(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ee(w,"accessibilityManager",new MSe),Ee(w,"handleLegendBBoxUpdate",function(N){if(N){var k=w.state,P=k.dataStartIndex,C=k.dataEndIndex,M=k.updateId;w.setState(Y({legendBBox:N},p({props:w.props,dataStartIndex:P,dataEndIndex:C,updateId:M},Y(Y({},w.state),{},{legendBBox:N}))))}}),Ee(w,"handleReceiveSyncEvent",function(N,k,P){if(w.props.syncId===N){if(P===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(k)}}),Ee(w,"handleBrushChange",function(N){var k=N.startIndex,P=N.endIndex;if(k!==w.state.dataStartIndex||P!==w.state.dataEndIndex){var C=w.state.updateId;w.setState(function(){return Y({dataStartIndex:k,dataEndIndex:P},p({props:w.props,dataStartIndex:k,dataEndIndex:P,updateId:C},w.state))}),w.triggerSyncEvent({dataStartIndex:k,dataEndIndex:P})}}),Ee(w,"handleMouseEnter",function(N){var k=w.getMouseInfo(N);if(k){var P=Y(Y({},k),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var C=w.props.onMouseEnter;Ge(C)&&C(P,N)}}),Ee(w,"triggeredAfterMouseMove",function(N){var k=w.getMouseInfo(N),P=k?Y(Y({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(P),w.triggerSyncEvent(P);var C=w.props.onMouseMove;Ge(C)&&C(P,N)}),Ee(w,"handleItemMouseEnter",function(N){w.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Ee(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Ee(w,"handleMouseMove",function(N){N.persist(),w.throttleTriggeredAfterMouseMove(N)}),Ee(w,"handleMouseLeave",function(N){w.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};w.setState(k),w.triggerSyncEvent(k);var P=w.props.onMouseLeave;Ge(P)&&P(k,N)}),Ee(w,"handleOuterEvent",function(N){var k=xne(N),P=Hn(w.props,"".concat(k));if(k&&Ge(P)){var C,M;/.*touch.*/i.test(k)?M=w.getMouseInfo(N.changedTouches[0]):M=w.getMouseInfo(N),P((C=M)!==null&&C!==void 0?C:{},N)}}),Ee(w,"handleClick",function(N){var k=w.getMouseInfo(N);if(k){var P=Y(Y({},k),{},{isTooltipActive:!0});w.setState(P),w.triggerSyncEvent(P);var C=w.props.onClick;Ge(C)&&C(P,N)}}),Ee(w,"handleMouseDown",function(N){var k=w.props.onMouseDown;if(Ge(k)){var P=w.getMouseInfo(N);k(P,N)}}),Ee(w,"handleMouseUp",function(N){var k=w.props.onMouseUp;if(Ge(k)){var P=w.getMouseInfo(N);k(P,N)}}),Ee(w,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Ee(w,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.handleMouseDown(N.changedTouches[0])}),Ee(w,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&w.handleMouseUp(N.changedTouches[0])}),Ee(w,"handleDoubleClick",function(N){var k=w.props.onDoubleClick;if(Ge(k)){var P=w.getMouseInfo(N);k(P,N)}}),Ee(w,"handleContextMenu",function(N){var k=w.props.onContextMenu;if(Ge(k)){var P=w.getMouseInfo(N);k(P,N)}}),Ee(w,"triggerSyncEvent",function(N){w.props.syncId!==void 0&&X0.emit(Z0,w.props.syncId,N,w.eventEmitterSymbol)}),Ee(w,"applySyncEvent",function(N){var k=w.props,P=k.layout,C=k.syncMethod,M=w.state.updateId,A=N.dataStartIndex,_=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)w.setState(Y({dataStartIndex:A,dataEndIndex:_},p({props:w.props,dataStartIndex:A,dataEndIndex:_,updateId:M},w.state)));else if(N.activeTooltipIndex!==void 0){var R=N.chartX,L=N.chartY,D=N.activeTooltipIndex,$=w.state,I=$.offset,E=$.tooltipTicks;if(!I)return;if(typeof C=="function")D=C(E,N);else if(C==="value"){D=-1;for(var W=0;W<E.length;W++)if(E[W].value===N.activeLabel){D=W;break}}var K=Y(Y({},I),{},{x:I.left,y:I.top}),Q=Math.min(R,K.x+K.width),X=Math.min(L,K.y+K.height),fe=E[D]&&E[D].value,Ae=o1(w.state,w.props.data,D),ze=E[D]?{x:P==="horizontal"?E[D].coordinate:Q,y:P==="horizontal"?X:E[D].coordinate}:nB;w.setState(Y(Y({},N),{},{activeLabel:fe,activeCoordinate:ze,activePayload:Ae,activeTooltipIndex:D}))}else w.setState(N)}),Ee(w,"renderCursor",function(N){var k,P=w.state,C=P.isTooltipActive,M=P.activeCoordinate,A=P.activePayload,_=P.offset,R=P.activeTooltipIndex,L=P.tooltipAxisBandSize,D=w.getTooltipEventType(),$=(k=N.props.active)!==null&&k!==void 0?k:C,I=w.props.layout,E=N.key||"_recharts-cursor";return O.createElement(zSe,{key:E,activeCoordinate:M,activePayload:A,activeTooltipIndex:R,chartName:r,element:N,isActive:$,layout:I,offset:_,tooltipAxisBandSize:L,tooltipEventType:D})}),Ee(w,"renderPolarAxis",function(N,k,P){var C=Hn(N,"type.axisType"),M=Hn(w.state,"".concat(C,"Map")),A=N.type.defaultProps,_=A!==void 0?Y(Y({},A),N.props):N.props,R=M&&M[_["".concat(C,"Id")]];return j.cloneElement(N,Y(Y({},R),{},{className:tt(C,R.className),key:N.key||"".concat(k,"-").concat(P),ticks:ji(R,!0)}))}),Ee(w,"renderPolarGrid",function(N){var k=N.props,P=k.radialLines,C=k.polarAngles,M=k.polarRadius,A=w.state,_=A.radiusAxisMap,R=A.angleAxisMap,L=ss(_),D=ss(R),$=D.cx,I=D.cy,E=D.innerRadius,W=D.outerRadius;return j.cloneElement(N,{polarAngles:Array.isArray(C)?C:ji(D,!0).map(function(K){return K.coordinate}),polarRadius:Array.isArray(M)?M:ji(L,!0).map(function(K){return K.coordinate}),cx:$,cy:I,innerRadius:E,outerRadius:W,key:N.key||"polar-grid",radialLines:P})}),Ee(w,"renderLegend",function(){var N=w.state.formattedGraphicalItems,k=w.props,P=k.children,C=k.width,M=k.height,A=w.props.margin||{},_=C-(A.left||0)-(A.right||0),R=G8({children:P,formattedGraphicalItems:N,legendWidth:_,legendContent:u});if(!R)return null;var L=R.item,D=ZA(R,BSe);return j.cloneElement(L,Y(Y({},D),{},{chartWidth:C,chartHeight:M,margin:A,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Ee(w,"renderTooltip",function(){var N,k=w.props,P=k.children,C=k.accessibilityLayer,M=yn(P,Ta);if(!M)return null;var A=w.state,_=A.isTooltipActive,R=A.activeCoordinate,L=A.activePayload,D=A.activeLabel,$=A.offset,I=(N=M.props.active)!==null&&N!==void 0?N:_;return j.cloneElement(M,{viewBox:Y(Y({},$),{},{x:$.left,y:$.top}),active:I,label:D,payload:I?L:[],coordinate:R,accessibilityLayer:C})}),Ee(w,"renderBrush",function(N){var k=w.props,P=k.margin,C=k.data,M=w.state,A=M.offset,_=M.dataStartIndex,R=M.dataEndIndex,L=M.updateId;return j.cloneElement(N,{key:N.key||"_recharts-brush",onChange:um(w.handleBrushChange,N.props.onChange),data:C,x:ce(N.props.x)?N.props.x:A.left,y:ce(N.props.y)?N.props.y:A.top+A.height+A.brushBottom-(P.bottom||0),width:ce(N.props.width)?N.props.width:A.width,startIndex:_,endIndex:R,updateId:"brush-".concat(L)})}),Ee(w,"renderReferenceElement",function(N,k,P){if(!N)return null;var C=w,M=C.clipPathId,A=w.state,_=A.xAxisMap,R=A.yAxisMap,L=A.offset,D=N.type.defaultProps||{},$=N.props,I=$.xAxisId,E=I===void 0?D.xAxisId:I,W=$.yAxisId,K=W===void 0?D.yAxisId:W;return j.cloneElement(N,{key:N.key||"".concat(k,"-").concat(P),xAxis:_[E],yAxis:R[K],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:M})}),Ee(w,"renderActivePoints",function(N){var k=N.item,P=N.activePoint,C=N.basePoint,M=N.childIndex,A=N.isRange,_=[],R=k.props.key,L=k.item.type.defaultProps!==void 0?Y(Y({},k.item.type.defaultProps),k.item.props):k.item.props,D=L.activeDot,$=L.dataKey,I=Y(Y({index:M,dataKey:$,cx:P.x,cy:P.y,r:4,fill:sS(k.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Je(D,!1)),Kp(D));return _.push(v.renderActiveDot(D,I,"".concat(R,"-activePoint-").concat(M))),C?_.push(v.renderActiveDot(D,Y(Y({},I),{},{cx:C.x,cy:C.y}),"".concat(R,"-basePoint-").concat(M))):A&&_.push(null),_}),Ee(w,"renderGraphicChild",function(N,k,P){var C=w.filterFormatItem(N,k,P);if(!C)return null;var M=w.getTooltipEventType(),A=w.state,_=A.isTooltipActive,R=A.tooltipAxis,L=A.activeTooltipIndex,D=A.activeLabel,$=w.props.children,I=yn($,Ta),E=C.props,W=E.points,K=E.isRange,Q=E.baseLine,X=C.item.type.defaultProps!==void 0?Y(Y({},C.item.type.defaultProps),C.item.props):C.item.props,fe=X.activeDot,Ae=X.hide,ze=X.activeBar,Re=X.activeShape,ve=!!(!Ae&&_&&I&&(fe||ze||Re)),ke={};M!=="axis"&&I&&I.props.trigger==="click"?ke={onClick:um(w.handleItemMouseEnter,N.props.onClick)}:M!=="axis"&&(ke={onMouseLeave:um(w.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:um(w.handleItemMouseEnter,N.props.onMouseEnter)});var J=j.cloneElement(N,Y(Y({},C.props),ke));function ie(T){return typeof R.dataKey=="function"?R.dataKey(T.payload):null}if(ve)if(L>=0){var V,z;if(R.dataKey&&!R.allowDuplicatedCategory){var se=typeof R.dataKey=="function"?ie:"payload.".concat(R.dataKey.toString());V=Gp(W,se,D),z=K&&Q&&Gp(Q,se,D)}else V=W==null?void 0:W[L],z=K&&Q&&Q[L];if(Re||ze){var H=N.props.activeIndex!==void 0?N.props.activeIndex:L;return[j.cloneElement(N,Y(Y(Y({},C.props),ke),{},{activeIndex:H})),null,null]}if(!Qe(V))return[J].concat(ou(w.renderActivePoints({item:C,activePoint:V,basePoint:z,childIndex:L,isRange:K})))}else{var ae,Ne=(ae=w.getItemByXY(w.state.activeCoordinate))!==null&&ae!==void 0?ae:{graphicalItem:J},G=Ne.graphicalItem,xe=G.item,$e=xe===void 0?N:xe,Ve=G.childIndex,Xe=Y(Y(Y({},C.props),ke),{},{activeIndex:Ve});return[j.cloneElement($e,Xe),null,null]}return K?[J,null,null]:[J,null]}),Ee(w,"renderCustomized",function(N,k,P){return j.cloneElement(N,Y(Y({key:"recharts-customized-".concat(P)},w.props),w.state))}),Ee(w,"renderMap",{CartesianGrid:{handler:pm,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:pm},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:pm},YAxis:{handler:pm},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((y=b.id)!==null&&y!==void 0?y:xh("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=HL(w.triggeredAfterMouseMove,(S=b.throttleDelay)!==null&&S!==void 0?S:1e3/60),w.state={},w}return JSe(v,x),YSe(v,[{key:"componentDidMount",value:function(){var y,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,S=y.children,w=y.data,N=y.height,k=y.layout,P=yn(S,Ta);if(P){var C=P.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,A=o1(this.state,w,C,M),_=this.state.tooltipTicks[C].coordinate,R=(this.state.offset.top+N)/2,L=k==="horizontal",D=L?{x:_,y:R}:{y:_,x:R},$=this.state.formattedGraphicalItems.find(function(E){var W=E.item;return W.type.name==="Scatter"});$&&(D=Y(Y({},D),$.props.points[C].tooltipPosition),A=$.props.points[C].tooltipPayload);var I={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:M,activePayload:A,activeCoordinate:D};this.setState(I),this.renderCursor(P),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var w,N;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(y){Lb([yn(y.children,Ta)],[yn(this.props.children,Ta)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=yn(this.props.children,Ta);if(y&&typeof y.props.shared=="boolean"){var S=y.props.shared?"axis":"item";return l.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var S=this.container,w=S.getBoundingClientRect(),N=Ghe(w),k={chartX:Math.round(y.pageX-N.left),chartY:Math.round(y.pageY-N.top)},P=w.width/S.offsetWidth||1,C=this.inRange(k.chartX,k.chartY,P);if(!C)return null;var M=this.state,A=M.xAxisMap,_=M.yAxisMap,R=this.getTooltipEventType(),L=eO(this.state,this.props.data,this.props.layout,C);if(R!=="axis"&&A&&_){var D=ss(A).scale,$=ss(_).scale,I=D&&D.invert?D.invert(k.chartX):null,E=$&&$.invert?$.invert(k.chartY):null;return Y(Y({},k),{},{xValue:I,yValue:E},L)}return L?Y(Y({},k),L):null}},{key:"inRange",value:function(y,S){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,k=y/w,P=S/w;if(N==="horizontal"||N==="vertical"){var C=this.state.offset,M=k>=C.left&&k<=C.left+C.width&&P>=C.top&&P<=C.top+C.height;return M?{x:k,y:P}:null}var A=this.state,_=A.angleAxisMap,R=A.radiusAxisMap;if(_&&R){var L=ss(_);return D_({x:k,y:P},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,S=this.getTooltipEventType(),w=yn(y,Ta),N={};w&&S==="axis"&&(w.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Kp(this.props,this.handleOuterEvent);return Y(Y({},k),N)}},{key:"addListener",value:function(){X0.on(Z0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){X0.removeListener(Z0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,S,w){for(var N=this.state.formattedGraphicalItems,k=0,P=N.length;k<P;k++){var C=N[k];if(C.item===y||C.props.key===y.key||S===Si(C.item.type)&&w===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,S=this.state.offset,w=S.left,N=S.top,k=S.height,P=S.width;return O.createElement("defs",null,O.createElement("clipPath",{id:y},O.createElement("rect",{x:w,y:N,height:k,width:P})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(S,w){var N=XA(w,2),k=N[0],P=N[1];return Y(Y({},S),{},Ee({},k,P.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(S,w){var N=XA(w,2),k=N[0],P=N[1];return Y(Y({},S),{},Ee({},k,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[y])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(y){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[y])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(y){var S=this.state,w=S.formattedGraphicalItems,N=S.activeItem;if(w&&w.length)for(var k=0,P=w.length;k<P;k++){var C=w[k],M=C.props,A=C.item,_=A.type.defaultProps!==void 0?Y(Y({},A.type.defaultProps),A.props):A.props,R=Si(A.type);if(R==="Bar"){var L=(M.data||[]).find(function(E){return Abe(y,E)});if(L)return{graphicalItem:C,payload:L}}else if(R==="RadialBar"){var D=(M.data||[]).find(function(E){return D_(y,E)});if(D)return{graphicalItem:C,payload:D}}else if(mv(C,N)||pv(C,N)||Vf(C,N)){var $=Twe({graphicalItem:C,activeTooltipItem:N,itemData:_.data}),I=_.activeIndex===void 0?$:_.activeIndex;return{graphicalItem:Y(Y({},C),{},{childIndex:I}),payload:Vf(C,N)?_.data[$]:C.props.data[$]}}}return null}},{key:"render",value:function(){var y=this;if(!kP(this))return null;var S=this.props,w=S.children,N=S.className,k=S.width,P=S.height,C=S.style,M=S.compact,A=S.title,_=S.desc,R=ZA(S,WSe),L=Je(R,!1);if(M)return O.createElement(MA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},O.createElement(Bb,Ll({},L,{width:k,height:P,title:A,desc:_}),this.renderClipPath(),CP(w,this.renderMap)));if(this.props.accessibilityLayer){var D,$;L.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,L.role=($=this.props.role)!==null&&$!==void 0?$:"application",L.onKeyDown=function(E){y.accessibilityManager.keyboardEvent(E)},L.onFocus=function(){y.accessibilityManager.focus()}}var I=this.parseEventsOfWrapper();return O.createElement(MA,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},O.createElement("div",Ll({className:tt("recharts-wrapper",N),style:Y({position:"relative",cursor:"default",width:k,height:P},C)},I,{ref:function(W){y.container=W}}),O.createElement(Bb,Ll({},L,{width:k,height:P,title:A,desc:_,style:ike}),this.renderClipPath(),CP(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);Ee(g,"displayName",r),Ee(g,"defaultProps",Y({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ee(g,"getDerivedStateFromProps",function(x,v){var b=x.dataKey,y=x.data,S=x.children,w=x.width,N=x.height,k=x.layout,P=x.stackOffset,C=x.margin,M=v.dataStartIndex,A=v.dataEndIndex;if(v.updateId===void 0){var _=tO(x);return Y(Y(Y({},_),{},{updateId:0},p(Y(Y({props:x},_),{},{updateId:0}),v)),{},{prevDataKey:b,prevData:y,prevWidth:w,prevHeight:N,prevLayout:k,prevStackOffset:P,prevMargin:C,prevChildren:S})}if(b!==v.prevDataKey||y!==v.prevData||w!==v.prevWidth||N!==v.prevHeight||k!==v.prevLayout||P!==v.prevStackOffset||!nc(C,v.prevMargin)){var R=tO(x),L={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},D=Y(Y({},eO(v,y,k)),{},{updateId:v.updateId+1}),$=Y(Y(Y({},R),L),D);return Y(Y(Y({},$),p(Y({props:x},$),v)),{},{prevDataKey:b,prevData:y,prevWidth:w,prevHeight:N,prevLayout:k,prevStackOffset:P,prevMargin:C,prevChildren:S})}if(!Lb(S,v.prevChildren)){var I,E,W,K,Q=yn(S,Xc),X=Q&&(I=(E=Q.props)===null||E===void 0?void 0:E.startIndex)!==null&&I!==void 0?I:M,fe=Q&&(W=(K=Q.props)===null||K===void 0?void 0:K.endIndex)!==null&&W!==void 0?W:A,Ae=X!==M||fe!==A,ze=!Qe(y),Re=ze&&!Ae?v.updateId:v.updateId+1;return Y(Y({updateId:Re},p(Y(Y({props:x},v),{},{updateId:Re,dataStartIndex:X,dataEndIndex:fe}),v)),{},{prevChildren:S,dataStartIndex:X,dataEndIndex:fe})}return null}),Ee(g,"renderActiveDot",function(x,v,b){var y;return j.isValidElement(x)?y=j.cloneElement(x,v):Ge(x)?y=x(v):y=O.createElement(lS,v),O.createElement(Gt,{className:"recharts-active-dot",key:b},y)});var m=j.forwardRef(function(v,b){return O.createElement(g,Ll({},v,{ref:b}))});return m.displayName=g.displayName,m},gke=pke({chartName:"LineChart",GraphicalChild:Ch,axisComponents:[{axisType:"xAxis",AxisComp:wv},{axisType:"yAxis",AxisComp:jv}],formatAxisMap:nje});function yke({className:e}){const{data:t,isLoading:r,error:n}=It({queryKey:["/api/weights"],select:f=>{const h=U2(new Date,12);return f.filter(p=>new Date(p.loggedAt)>=h)}}),a=[];if(t){const f={};for(let h=11;h>=0;h--){const p=Yo(U2(new Date,h)),g=n5(p),m=dt(p,"MMM d");f[m]=t.filter(x=>{const v=new Date(x.loggedAt);return AY(v,{start:p,end:g})})}Object.entries(f).forEach(([h,p])=>{if(p.length>0){const m=p.reduce((x,v)=>x+v.weightGrams,0)/p.length;a.push({week:h,weight:Math.round(m/1e3*10)/10,weightKg:Math.round(m/1e3*10)/10,weightLb:Math.round(m/453.592*10)/10,date:typeof p[0].loggedAt=="string"?p[0].loggedAt:p[0].loggedAt.toISOString(),entryCount:p.length})}})}const o=(()=>{if(a.length<2)return{type:"neutral",change:0};const f=a[0].weight,p=a[a.length-1].weight-f;return Math.abs(p)<.5?{type:"neutral",change:p}:{type:p>0?"up":"down",change:p}})(),l=({active:f,payload:h,label:p})=>{if(f&&h&&h.length>0){const g=h[0].payload;return s.jsxs("div",{className:"bg-background border rounded-lg p-3 shadow-lg",children:[s.jsx("p",{className:"font-medium",children:`Week of ${p}`}),s.jsxs("p",{className:"text-primary",children:["Weight: ",s.jsxs("span",{className:"font-bold",children:[g.weightKg,"kg (",g.weightLb,"lb)"]})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[g.entryCount," entr",g.entryCount===1?"y":"ies"]})]})}return null};if(r)return s.jsxs(me,{className:e,children:[s.jsxs(Se,{children:[s.jsxs(Ce,{className:"flex items-center space-x-2",children:[s.jsx(sn,{className:"h-5 w-5"}),s.jsx("span",{children:"12-Week Progress"})]}),s.jsx(Ye,{children:"Loading weight trend..."})]}),s.jsx(ye,{children:s.jsx("div",{className:"h-64 flex items-center justify-center",children:s.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Loading chart data..."})})})]});if(n)return s.jsxs(me,{className:e,children:[s.jsxs(Se,{children:[s.jsxs(Ce,{className:"flex items-center space-x-2 text-destructive",children:[s.jsx(sn,{className:"h-5 w-5"}),s.jsx("span",{children:"12-Week Progress"})]}),s.jsx(Ye,{children:"Failed to load weight data"})]}),s.jsx(ye,{children:s.jsx("div",{className:"h-64 flex items-center justify-center",children:s.jsx("p",{className:"text-muted-foreground",children:"Unable to load chart data"})})})]});if(!a.length)return s.jsxs(me,{className:e,children:[s.jsxs(Se,{children:[s.jsxs(Ce,{className:"flex items-center space-x-2",children:[s.jsx(sn,{className:"h-5 w-5"}),s.jsx("span",{children:"12-Week Progress"})]}),s.jsx(Ye,{children:"Track your weight over time"})]}),s.jsx(ye,{children:s.jsxs("div",{className:"h-64 flex flex-col items-center justify-center space-y-3",children:[s.jsx("div",{className:"text-6xl",children:""}),s.jsxs("p",{className:"text-muted-foreground text-center",children:["No weight data yet.",s.jsx("br",{}),"Start logging your weight to see your progress!"]})]})})]});const c=o.type==="up"?sn:o.type==="down"?wp:YD,u=o.type==="up"?"text-red-500":o.type==="down"?"text-green-500":"text-gray-500",d=o.type==="up"?"increased":o.type==="down"?"decreased":"stable";return s.jsxs(me,{className:e,"data-testid":"weight-chart",children:[s.jsxs(Se,{children:[s.jsxs(Ce,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sn,{className:"h-5 w-5"}),s.jsx("span",{children:"12-Week Progress"})]}),s.jsxs("div",{className:`flex items-center space-x-1 text-sm ${u}`,"data-testid":"weight-trend",children:[s.jsx(c,{className:"h-4 w-4"}),s.jsxs("span",{children:[Math.abs(o.change).toFixed(1),"kg ",d]})]})]}),s.jsx(Ye,{children:"Your weight trend over the last 12 weeks"})]}),s.jsxs(ye,{children:[s.jsx("div",{className:"h-64","data-testid":"chart-container",children:s.jsx(zhe,{width:"100%",height:"100%",children:s.jsxs(gke,{data:a,margin:{top:5,right:30,left:20,bottom:5},children:[s.jsx(Wz,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(wv,{dataKey:"week",className:"text-xs text-muted-foreground",tick:{fontSize:12}}),s.jsx(jv,{className:"text-xs text-muted-foreground",tick:{fontSize:12},domain:["dataMin - 2","dataMax + 2"]}),s.jsx(Ta,{content:l}),s.jsx(Ch,{type:"monotone",dataKey:"weight",stroke:"hsl(var(--primary))",strokeWidth:3,dot:{fill:"hsl(var(--primary))",strokeWidth:2,r:4},activeDot:{r:6,stroke:"hsl(var(--primary))",strokeWidth:2,fill:"hsl(var(--background))"}})]})})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4 pt-4 border-t",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-primary","data-testid":"chart-total-entries",children:(t==null?void 0:t.length)||0}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Entries"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-lg font-bold text-primary","data-testid":"chart-avg-weight",children:[a.length>0?(a.reduce((f,h)=>f+h.weight,0)/a.length).toFixed(1):"0","kg"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Average Weight"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:`text-lg font-bold ${u}`,"data-testid":"chart-trend-change",children:[o.change>=0?"+":"",o.change.toFixed(1),"kg"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"12-Week Change"})]})]})]})]})}function vke(){const{toast:e}=Ir(),t=En(),[r,n]=j.useState("diary"),[a,i]=j.useState("today");j.useEffect(()=>{new URLSearchParams(window.location.search).get("tab")==="weight"&&n("weight")},[]);const[o,l]=j.useState(""),[c,u]=j.useState("all"),[d,f]=j.useState({}),[h,p]=j.useState({}),[g,m]=j.useState(null),[x,v]=j.useState(!1),[b,y]=j.useState(!1),[S,w]=j.useState(!1),[N,k]=j.useState(""),[P,C]=j.useState(!1),[M,A]=j.useState("breakfast");j.useEffect(()=>{(()=>{const ae="SpeechRecognition"in window||"webkitSpeechRecognition"in window;w(ae)})()},[]);const _=async()=>{if(!S){e({title:"Speech Not Supported",description:"Speech recognition is not supported in this browser",variant:"destructive"});return}if(b){y(!1);return}try{const H=new(window.SpeechRecognition||window.webkitSpeechRecognition);H.continuous=!1,H.interimResults=!1,H.lang="en-US",H.onstart=()=>{y(!0),e({title:"Listening...",description:"Say your food item and quantity (e.g., '100g salmon')"})},H.onresult=ae=>{const Ne=ae.results[0][0].transcript;k(Ne),C(!0),e({title:"Voice captured!",description:`Heard: "${Ne}"`})},H.onerror=ae=>{console.error("Speech recognition error:",ae.error),e({title:"Speech Error",description:"Could not recognize speech. Please try again.",variant:"destructive"}),y(!1)},H.onend=()=>{y(!1)},H.start()}catch{e({title:"Speech Error",description:"Failed to start speech recognition",variant:"destructive"}),y(!1)}},R=()=>{N.trim()&&Q.mutate({foodDescription:N.trim(),mealType:M})},{data:L,isLoading:D}=It({queryKey:["/api/diary"]}),{data:$,isLoading:I}=It({queryKey:["/api/drinks"]}),{data:E}=It({queryKey:["/api/nutrition-goals"]}),W=Jt({mutationFn:async H=>{await $t("DELETE",`/api/diary/${H}`)},onSuccess:()=>{e({title:"Entry Deleted",description:"Meal has been removed from your diary."}),t.invalidateQueries({queryKey:["/api/diary"]})},onError:H=>{e({title:"Error",description:"Failed to delete entry. Please try again.",variant:"destructive"}),console.error("Error deleting diary entry:",H)}}),K=Jt({mutationFn:async H=>{await $t("DELETE",`/api/drinks/${H}`)},onSuccess:()=>{e({title:"Drink Deleted",description:"Drink has been removed from your diary."}),t.invalidateQueries({queryKey:["/api/drinks"]})},onError:H=>{e({title:"Error",description:"Failed to delete drink. Please try again.",variant:"destructive"}),console.error("Error deleting drink entry:",H)}}),Q=Jt({mutationFn:async({foodDescription:H,mealType:ae})=>{const G=await(await $t("POST","/api/analyze-text",{foodDescription:H})).json(),xe=new Date;return await(await $t("POST","/api/diary",{analysisId:G.id,mealType:ae,mealDate:xe.toISOString(),notes:`Added via voice: "${H}"`})).json()},onSuccess:()=>{e({title:"Meal Added!",description:"Your voice meal has been added to your diary."}),t.invalidateQueries({queryKey:["/api/diary"]}),C(!1),k("")},onError:H=>{e({title:"Error",description:"Failed to add meal from voice. Please try again.",variant:"destructive"}),console.error("Error adding voice meal:",H)}}),X=(L==null?void 0:L.reduce((H,ae)=>{const Ne=new Date(ae.mealDate).toDateString();return H[Ne]||(H[Ne]=[]),H[Ne].push(ae),H},{}))||{},fe=($==null?void 0:$.reduce((H,ae)=>{const Ne=new Date(ae.loggedAt).toDateString();return H[Ne]||(H[Ne]=[]),H[Ne].push(ae),H},{}))||{},Ae=H=>{var G,xe,$e;const ae=((G=X[H])==null?void 0:G.reduce((Ve,Xe)=>{var T,U,q,oe;return{calories:Ve.calories+(((T=Xe.analysis)==null?void 0:T.totalCalories)||0),protein:Ve.protein+(((U=Xe.analysis)==null?void 0:U.totalProtein)||0),carbs:Ve.carbs+(((q=Xe.analysis)==null?void 0:q.totalCarbs)||0),fat:Ve.fat+(((oe=Xe.analysis)==null?void 0:oe.totalFat)||0)}},{calories:0,protein:0,carbs:0,fat:0}))||{calories:0,protein:0,carbs:0,fat:0},Ne=((xe=fe[H])==null?void 0:xe.reduce((Ve,Xe)=>Ve+(Xe.calories||0),0))||0;return{calories:ae.calories+Ne,protein:ae.protein,carbs:ae.carbs,fat:ae.fat,water:(($e=fe[H])==null?void 0:$e.reduce((Ve,Xe)=>["water","tea","coffee"].includes(Xe.drinkType)?Ve+Xe.amount:Ve,0))||0}},ze=new Date().toDateString(),Re=Ae(ze),ke=E?{calories:Math.max(0,(E.dailyCalories||0)-Re.calories),protein:Math.max(0,(E.dailyProtein||0)-Re.protein),carbs:Math.max(0,(E.dailyCarbs||0)-Re.carbs),fat:Math.max(0,(E.dailyFat||0)-Re.fat)}:null;[...Object.keys(X),...Object.keys(fe)];const ie=((L==null?void 0:L.filter(H=>{var ae,Ne,G,xe,$e;if(o){const Ve=o.toLowerCase(),Xe=(Ne=(ae=H.analysis)==null?void 0:ae.detectedFoods)==null?void 0:Ne.some(oe=>oe.name.toLowerCase().includes(Ve)),T=(G=H.notes)==null?void 0:G.toLowerCase().includes(Ve),U=H.mealType.toLowerCase().includes(Ve),q=(xe=H.customMealName)==null?void 0:xe.toLowerCase().includes(Ve);if(!Xe&&!T&&!U&&!q)return!1}if(c!=="all"&&H.mealType!==c)return!1;if(d.start||d.end){const Ve=new Date(H.mealDate);if(d.start&&Ve<d.start||d.end&&Ve>d.end)return!1}if(h.min||h.max){const Ve=(($e=H.analysis)==null?void 0:$e.totalCalories)||0;if(h.min&&Ve<h.min||h.max&&Ve>h.max)return!1}return!0}))||[]).reduce((H,ae)=>{const Ne=new Date(ae.mealDate).toDateString();return H[Ne]||(H[Ne]=[]),H[Ne].push(ae),H},{}),V=new Set([...Object.keys(ie),...Object.keys(fe)]),se=(a==="today"?Array.from(V).filter(H=>H===ze):Array.from(V).filter(H=>H!==ze)).sort((H,ae)=>new Date(ae).getTime()-new Date(H).getTime());return D||I?s.jsx("div",{className:"min-h-screen bg-background p-4",children:s.jsx("div",{className:"max-w-md mx-auto",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-muted rounded"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-32 bg-muted rounded-lg"}),s.jsx("div",{className:"h-32 bg-muted rounded-lg"}),s.jsx("div",{className:"h-32 bg-muted rounded-lg"})]})]})})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"bg-card border-b sticky top-0 z-10",children:s.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(vt,{href:"/scan",children:s.jsx("button",{className:"p-2 hover:bg-muted rounded-lg transition-colors","data-testid":"button-back-to-home",children:s.jsx(ai,{className:"h-5 w-5"})})}),s.jsx("h1",{className:"text-xl font-bold",children:"Food Diary"}),s.jsxs("div",{className:"flex bg-muted rounded-lg p-1 ml-2",children:[s.jsx("button",{onClick:()=>i("today"),className:`px-2 py-1 rounded text-xs font-medium transition-colors ${a==="today"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,"data-testid":"view-today",children:"Today"}),s.jsx("button",{onClick:()=>i("history"),className:`px-2 py-1 rounded text-xs font-medium transition-colors ${a==="history"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,"data-testid":"view-history",children:"History"})]}),S&&s.jsx("button",{onClick:_,disabled:b,className:`p-2 rounded-lg transition-all duration-200 ${b?"bg-red-500 text-white animate-pulse":"bg-primary text-primary-foreground hover:bg-primary/90"}`,"data-testid":"button-voice-meal",children:b?s.jsx(hu,{className:"h-5 w-5"}):s.jsx(Tr,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"flex bg-muted rounded-lg p-1",children:[s.jsx("button",{onClick:()=>n("diary"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${r==="diary"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,"data-testid":"tab-diary",children:s.jsx(pa,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>n("analytics"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${r==="analytics"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,"data-testid":"tab-analytics",children:s.jsx(sn,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>n("weight"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${r==="weight"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,"data-testid":"tab-weight",children:s.jsx(Qr,{className:"h-4 w-4"})})]}),s.jsx(vt,{href:"/help",children:s.jsx("button",{className:"p-2 hover:bg-muted rounded-lg transition-colors","data-testid":"button-help-diary",title:"Help & Support",children:s.jsx(fj,{className:"h-4 w-4 text-muted-foreground"})})})]})]})})}),r==="diary"&&a==="history"&&s.jsx("div",{className:"max-w-md mx-auto px-4 pb-2",children:s.jsx(kQ,{searchQuery:o,onSearchChange:l,mealTypeFilter:c,onMealTypeChange:u,dateRange:d,onDateRangeChange:f,calorieRange:h,onCalorieRangeChange:p,onClearFilters:()=>{l(""),u("all"),f({}),p({})},hasActiveFilters:o!==""||c!=="all"||!!d.start||!!d.end||!!h.min||!!h.max})}),s.jsx("div",{className:"max-w-md mx-auto p-4 pb-32",children:r==="analytics"?s.jsxs("div",{className:"space-y-6",children:[s.jsx(qY,{goals:E}),s.jsx(PQ,{goals:E})]}):r==="weight"?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue/5 to-blue/10 border border-blue/20 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Qr,{className:"h-5 w-5 text-blue-600"}),s.jsx("h2",{className:"text-lg font-bold",children:"Weight Progress"})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Track your weekly weigh-ins"})]})}),s.jsx(uJ,{}),s.jsx(PJ,{onEdit:H=>{m(H),v(!0)}}),s.jsx(yke,{})]}):a==="today"?s.jsxs("div",{className:"space-y-6",children:[se.length===0?s.jsxs("div",{className:"text-center py-8 bg-muted/30 rounded-xl",children:[s.jsx(Vo,{className:"h-8 w-8 mx-auto text-muted-foreground mb-3"}),s.jsx("h3",{className:"font-medium text-muted-foreground mb-2",children:"No meals logged today"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Start your day by scanning food or using voice input"}),s.jsx(vt,{href:"/scan",children:s.jsx("button",{className:"bg-primary text-primary-foreground px-4 py-2 rounded-lg text-sm font-medium hover:bg-primary/90 transition-colors",children:"Add First Meal"})})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Today's Meals"}),se.map(H=>{var ae,Ne;return s.jsxs("div",{children:[(ae=ie[H])==null?void 0:ae.map(G=>{var xe,$e,Ve,Xe,T,U;return s.jsxs("div",{className:"bg-card border rounded-lg p-4 mb-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[((xe=G.analysis)==null?void 0:xe.imageUrl)&&s.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden bg-muted",children:s.jsx("img",{src:G.analysis.imageUrl.startsWith("/")?G.analysis.imageUrl:`/${G.analysis.imageUrl}`,alt:"Meal photo",className:"w-full h-full object-cover",onError:q=>{q.currentTarget.style.display="none"}})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("span",{className:"text-sm font-medium capitalize",children:G.mealType}),s.jsx("span",{className:"text-xs text-muted-foreground",children:dt(new Date(G.mealDate),"h:mm a")})]}),s.jsxs("div",{className:"flex items-center space-x-3 text-xs",children:[s.jsxs("span",{className:"font-semibold text-red-600","data-testid":`meal-calories-${G.id}`,children:[(($e=G.analysis)==null?void 0:$e.totalCalories)||0," cal"]}),s.jsxs("span",{className:"text-blue-600","data-testid":`meal-protein-${G.id}`,children:[((Ve=G.analysis)==null?void 0:Ve.totalProtein)||0,"g protein"]}),s.jsxs("span",{className:"text-orange-600","data-testid":`meal-carbs-${G.id}`,children:[((Xe=G.analysis)==null?void 0:Xe.totalCarbs)||0,"g carbs"]}),s.jsxs("span",{className:"text-yellow-600","data-testid":`meal-fat-${G.id}`,children:[((T=G.analysis)==null?void 0:T.totalFat)||0,"g fat"]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(cQ,{entry:G}),s.jsx("button",{onClick:()=>W.mutate(G.id),className:"p-1 text-red-500 hover:bg-red-50 rounded",title:"Delete entry","data-testid":`button-delete-${G.id}`,children:s.jsx(To,{className:"h-4 w-4"})})]})]}),((U=G.analysis)==null?void 0:U.detectedFoods)&&G.analysis.detectedFoods.length>0&&s.jsx("div",{className:"space-y-1",children:G.analysis.detectedFoods.map((q,oe)=>s.jsxs("div",{className:"flex items-center justify-between py-1 px-2 bg-muted/20 rounded text-xs",children:[s.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[s.jsx("span",{className:"text-sm",children:q.icon||""}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium truncate",children:q.name}),s.jsx("p",{className:"text-muted-foreground",children:q.portion})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-right ml-2 shrink-0",children:[s.jsx("span",{className:"font-medium",children:q.calories}),s.jsxs("span",{className:"text-blue-600",children:[q.protein,"p"]}),s.jsxs("span",{className:"text-orange-600",children:[q.carbs,"c"]}),s.jsxs("span",{className:"text-yellow-600",children:[q.fat,"f"]})]})]},oe))})]},G.id)}),(Ne=fe[H])==null?void 0:Ne.map(G=>s.jsxs("div",{className:"bg-card border border-blue-200 rounded-lg p-4 mb-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden bg-blue-100 flex items-center justify-center",children:s.jsx(Ha,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("span",{className:"text-sm font-medium capitalize",children:G.drinkName}),s.jsx("span",{className:"text-xs text-muted-foreground",children:dt(new Date(G.loggedAt),"h:mm a")})]}),s.jsxs("div",{className:"flex items-center space-x-3 text-xs",children:[s.jsxs("span",{className:"font-semibold text-red-600","data-testid":`drink-calories-${G.id}`,children:[G.calories||0," cal"]}),s.jsxs("span",{className:"text-blue-600","data-testid":`drink-amount-${G.id}`,children:[G.amount,"ml"]}),G.caffeine>0&&s.jsxs("span",{className:"text-green-600","data-testid":`drink-caffeine-${G.id}`,children:[G.caffeine,"mg caffeine"]}),G.alcoholContent>0&&s.jsxs("span",{className:"text-purple-600","data-testid":`drink-alcohol-${G.id}`,children:[G.alcoholContent,"% ABV"]})]})]})]}),s.jsx("div",{className:"flex items-center space-x-1",children:s.jsx("button",{onClick:()=>K.mutate(G.id),className:"p-1 text-red-500 hover:bg-red-50 rounded",title:"Delete drink","data-testid":`button-delete-drink-${G.id}`,children:s.jsx(To,{className:"h-4 w-4"})})})]}),s.jsx("div",{className:"bg-blue-50/50 rounded-lg p-2",children:s.jsx("div",{className:"flex items-center justify-between text-xs",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Type: ",s.jsx("strong",{children:G.drinkType})]}),G.sugar>0&&s.jsxs("span",{className:"text-muted-foreground",children:["Sugar: ",s.jsxs("strong",{children:[G.sugar,"g"]})]}),G.alcoholUnits>0&&s.jsxs("span",{className:"text-muted-foreground",children:["Units: ",s.jsx("strong",{children:G.alcoholUnits})]})]})})})]},G.id))]},H)})]}),s.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 border border-primary/20 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Qr,{className:"h-5 w-5 text-primary"}),s.jsx("h2",{className:"text-lg font-bold",children:"Today's Intake"})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:dt(new Date,"EEEE, MMMM d")})]}),s.jsxs("div",{className:"bg-background/80 rounded-lg p-4 text-center mb-4",children:[s.jsxs("div",{className:"text-2xl font-bold text-primary","data-testid":"calories-consumed",children:[Re.calories," ",s.jsxs("span",{className:"text-sm text-green-600",children:["(",(ke==null?void 0:ke.calories)||0," left)"]})]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Calories"})]}),E&&s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:"Macronutrients"}),s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-lg font-bold text-red-600",children:[Re.protein,"g ",s.jsxs("span",{className:"text-xs text-green-600",children:["(",(ke==null?void 0:ke.protein)||0," left)"]})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Protein"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[Re.carbs,"g ",s.jsxs("span",{className:"text-xs text-green-600",children:["(",(ke==null?void 0:ke.carbs)||0," left)"]})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Carbs"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-lg font-bold text-yellow-600",children:[Re.fat,"g ",s.jsxs("span",{className:"text-xs text-green-600",children:["(",(ke==null?void 0:ke.fat)||0," left)"]})]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Fat"})]})]})]}),E&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{children:"Daily Goal Progress"}),s.jsxs("span",{children:[Math.round(Re.calories/(E.dailyCalories||1)*100),"%"]})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-primary to-primary/80 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(100,Re.calories/(E.dailyCalories||1)*100)}%`}})})]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-muted/30 rounded-xl p-4",children:s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[s.jsx(pa,{className:"h-4 w-4"}),s.jsx("span",{children:"Previous Days (Last 30 days)"})]})}),se.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(pa,{className:"h-8 w-8 mx-auto text-muted-foreground mb-3"}),s.jsx("h3",{className:"font-medium text-muted-foreground",children:"No history available"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Your meal history will appear here"})]}):s.jsx("div",{className:"space-y-4",children:se.map(H=>{const ae=Ae(H);return s.jsxs("div",{className:"bg-card border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm font-medium text-muted-foreground",children:[s.jsx(pa,{className:"h-4 w-4"}),s.jsx("span",{children:dt(new Date(H),"EEEE, MMMM d, yyyy")})]}),s.jsxs("div",{className:"flex items-center space-x-2 bg-primary/10 text-primary px-3 py-1 rounded-full",children:[s.jsx(Oc,{className:"h-4 w-4"}),s.jsxs("span",{className:"text-sm font-semibold",children:[ae.calories," cal"]})]})]}),ie[H]&&s.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:[ie[H].length," meal",ie[H].length!==1?"s":""," logged"]})]},H)})})]})}),P&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-card rounded-xl p-6 w-full max-w-md",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Tr,{className:"h-5 w-5 text-primary"}),"Add Voice Meal"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"What you said:"}),s.jsxs("p",{className:"text-sm font-mono bg-background p-2 rounded border",children:['"',N,'"']})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Meal Type"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:["breakfast","lunch","dinner","snack"].map(H=>s.jsx("button",{onClick:()=>A(H),className:`py-2 px-3 rounded-lg text-sm font-medium transition-colors ${M===H?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,"data-testid":`button-voice-meal-${H}`,children:H.charAt(0).toUpperCase()+H.slice(1)},H))})]})]}),s.jsxs("div",{className:"flex space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>C(!1),disabled:Q.isPending,className:"flex-1 py-2 px-4 border border-input rounded-lg font-medium hover:bg-muted transition-colors disabled:opacity-50","data-testid":"button-cancel-voice-meal",children:"Cancel"}),s.jsx("button",{onClick:R,disabled:Q.isPending||!N.trim(),className:"flex-1 py-2 px-4 bg-primary text-primary-foreground rounded-lg font-medium hover:bg-primary/90 transition-colors disabled:opacity-50","data-testid":"button-confirm-voice-meal",children:Q.isPending?"Adding...":"Add Meal"})]})]})}),s.jsx(si,{}),s.jsx(Ys,{}),s.jsx(_J,{entry:g,open:x,onOpenChange:v,onSuccess:()=>{m(null)}})]})}function ex(){const{toast:e}=Ir(),[t,r]=j.useState("personalized"),[n,a]=j.useState(""),[i,o]=j.useState([]),[l,c]=j.useState(!1),[u,d]=j.useState(!1),[f,h]=j.useState(null);j.useEffect(()=>{(async()=>{try{const{speechService:N}=await vj(async()=>{const{speechService:P}=await import("./speech-service-BomygHA3.js");return{speechService:P}},[]);h(N),d(N.isSupported()),N.registerCommand("capture-question",{command:"capture-question",phrases:[],action:()=>{},description:"Capture nutrition question",category:"action"});const k=P=>{P.type==="listening-start"?c(!0):P.type==="listening-end"&&c(!1)};return N.on(k),()=>{N.off(k)}}catch{console.log("Speech recognition not available"),d(!1)}})()},[]);const{data:p,isLoading:g,refetch:m}=It({queryKey:["/api/diet-advice"],enabled:t==="personalized"}),x=Jt({mutationFn:async()=>await(await $t("POST","/api/diet-advice/generate")).json(),onSuccess:w=>{e({title:"New Advice Generated!",description:"Your personalized diet recommendations have been updated."}),m()},onError:w=>{e({title:"Error",description:"Failed to generate new advice. Please try again.",variant:"destructive"}),console.error("Error generating advice:",w)}}),v=Jt({mutationFn:async w=>await(await $t("POST","/api/ai/ask",{question:w})).json(),onSuccess:w=>{const N={id:Date.now().toString(),question:w.question,answer:w.answer,timestamp:w.timestamp};o(k=>[N,...k]),a(""),e({title:"AI Response Received!",description:"Your nutrition question has been answered."})},onError:w=>{e({title:"Error",description:"Failed to get AI response. Please try again.",variant:"destructive"}),console.error("Error asking AI:",w)}}),b=async w=>{w.preventDefault(),n.trim()&&v.mutate(n.trim())},y=async()=>{if(!(!f||!u)){if(l){f.stopListening(),c(!1);return}try{const w=new(window.SpeechRecognition||window.webkitSpeechRecognition);w.continuous=!1,w.interimResults=!1,w.lang="en-US",w.onstart=()=>{c(!0),e({title:"Listening...",description:"Ask your nutrition question now"})},w.onresult=N=>{const k=N.results[0][0].transcript;a(k),e({title:"Question captured!",description:"Your voice question has been converted to text"})},w.onerror=N=>{console.error("Speech recognition error:",N.error),e({title:"Speech Error",description:"Could not recognize speech. Please try again.",variant:"destructive"})},w.onend=()=>{c(!1)},w.start()}catch{e({title:"Speech Not Available",description:"Speech recognition is not supported in this browser",variant:"destructive"})}}},S=[{icon:s.jsx(Xd,{className:"h-5 w-5 text-red-500"}),title:"Stay Hydrated",tip:"Drink at least 8 glasses of water daily. Proper hydration supports metabolism and helps control appetite."},{icon:s.jsx(Jd,{className:"h-5 w-5 text-yellow-500"}),title:"Balanced Meals",tip:"Include protein, healthy fats, and complex carbs in each meal for sustained energy and satiety."},{icon:s.jsx(Uo,{className:"h-5 w-5 text-purple-500"}),title:"Mindful Eating",tip:"Eat slowly and pay attention to hunger cues. This helps prevent overeating and improves digestion."},{icon:s.jsx(sn,{className:"h-5 w-5 text-green-500"}),title:"Portion Control",tip:"Use smaller plates and fill half with vegetables, quarter with protein, and quarter with whole grains."}];return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"bg-card border-b sticky top-0 z-10",children:s.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(vt,{href:"/scan",children:s.jsx("button",{className:"p-2 hover:bg-muted rounded-lg transition-colors","data-testid":"button-back-to-home",children:s.jsx(ai,{className:"h-5 w-5"})})}),s.jsx("h1",{className:"text-xl font-bold",children:"Diet Advice"})]}),s.jsx(Ds,{className:"h-5 w-5 text-primary"})]})})}),s.jsxs("div",{className:"max-w-md mx-auto p-4",children:[s.jsxs(me,{className:"health-card mb-6",children:[s.jsx(Se,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(r2,{className:"h-5 w-5 text-primary"}),"Ask AI Nutrition Assistant"]})}),s.jsxs(ye,{className:"space-y-4",children:[s.jsxs("form",{onSubmit:b,className:"flex gap-2",children:[s.jsx(lt,{placeholder:l?"Listening...":"Ask me anything about nutrition...",value:n,onChange:w=>a(w.target.value),disabled:v.isPending||l,"data-testid":"input-ai-question",className:"flex-1"}),u&&s.jsx(he,{type:"button",onClick:y,disabled:v.isPending,variant:l?"destructive":"outline",className:l?"animate-pulse":"","data-testid":"button-voice-input",children:l?s.jsx(hu,{className:"h-4 w-4"}):s.jsx(Tr,{className:"h-4 w-4"})}),s.jsx(he,{type:"submit",disabled:v.isPending||!n.trim(),className:"vibrant-button","data-testid":"button-ask-ai",children:v.isPending?s.jsx(xs,{className:"h-4 w-4 animate-spin"}):s.jsx(i7,{className:"h-4 w-4"})})]}),i.length>0&&s.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:i.map(w=>s.jsx("div",{className:"space-y-2 p-3 bg-muted/50 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx(r2,{className:"h-3 w-3 text-primary"})}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"text-sm font-medium text-primary",children:["Q: ",w.question]}),s.jsx("div",{className:"text-sm text-muted-foreground leading-relaxed",children:w.answer}),s.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(w.timestamp).toLocaleString()})]})]})},w.id))})]})]}),s.jsxs("div",{className:"flex space-x-2 mb-6",children:[s.jsx("button",{onClick:()=>r("personalized"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${t==="personalized"?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,"data-testid":"button-personalized-advice",children:"Personalized"}),s.jsx("button",{onClick:()=>r("general"),className:`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${t==="general"?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,"data-testid":"button-general-tips",children:"General Tips"})]}),t==="personalized"?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-6",children:s.jsxs("button",{onClick:()=>x.mutate(),disabled:x.isPending||g,className:"w-full bg-primary text-primary-foreground py-3 px-4 rounded-lg font-medium hover:bg-primary/90 transition-colors disabled:opacity-50 flex items-center justify-center space-x-2","data-testid":"button-generate-advice",children:[s.jsx(xs,{className:`h-4 w-4 ${x.isPending?"animate-spin":""}`}),s.jsx("span",{children:x.isPending?"Generating...":"Get New Advice"})]})}),g?s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-6 bg-muted rounded mb-2"}),s.jsx("div",{className:"h-20 bg-muted rounded mb-4"}),s.jsx("div",{className:"h-6 bg-muted rounded mb-2"}),s.jsx("div",{className:"h-20 bg-muted rounded"})]})}):p?s.jsxs("div",{className:"space-y-6",children:[p.personalizedAdvice&&p.personalizedAdvice.length>0&&s.jsxs("div",{className:"bg-card border rounded-lg p-4",children:[s.jsxs("h3",{className:"font-semibold text-primary mb-3 flex items-center",children:[s.jsx(Uo,{className:"h-4 w-4 mr-2"}),"Personalized Recommendations"]}),s.jsx("div",{className:"space-y-2",children:p.personalizedAdvice.map((w,N)=>s.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",w]},N))})]}),p.nutritionGoals&&p.nutritionGoals.length>0&&s.jsxs("div",{className:"bg-card border rounded-lg p-4",children:[s.jsxs("h3",{className:"font-semibold text-primary mb-3 flex items-center",children:[s.jsx(sn,{className:"h-4 w-4 mr-2"}),"Nutrition Goals"]}),s.jsx("div",{className:"space-y-2",children:p.nutritionGoals.map((w,N)=>s.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",w]},N))})]}),p.improvements&&p.improvements.length>0&&s.jsxs("div",{className:"bg-card border rounded-lg p-4",children:[s.jsxs("h3",{className:"font-semibold text-primary mb-3 flex items-center",children:[s.jsx(Jd,{className:"h-4 w-4 mr-2"}),"Areas to Improve"]}),s.jsx("div",{className:"space-y-2",children:p.improvements.map((w,N)=>s.jsxs("div",{className:"text-sm text-muted-foreground",children:[" ",w]},N))})]}),s.jsxs("div",{className:"bg-card border rounded-lg p-4 mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h3",{className:"font-semibold text-primary flex items-center",children:[s.jsx(qn,{className:"h-4 w-4 mr-2"}),"Recipe Collection"]}),s.jsx(vt,{href:"/recipes",children:s.jsxs(he,{variant:"default",size:"sm",className:"flex items-center gap-2","data-testid":"button-view-recipes",children:[s.jsx(Vo,{className:"h-4 w-4"}),"Browse Recipes"]})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Discover healthy recipes filtered by your dietary requirements including Keto, Vegan, Vegetarian, High Protein, and more!"})]}),p.mealIdeas&&p.mealIdeas.length>0&&s.jsxs("div",{className:"bg-card border rounded-lg p-4",children:[s.jsxs("h3",{className:"font-semibold text-primary mb-3 flex items-center",children:[s.jsx(Vo,{className:"h-4 w-4 mr-2"}),"Personalized Meal Ideas"]}),s.jsx("div",{className:"space-y-4",children:p.mealIdeas.map((w,N)=>s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/30","data-testid":`card-meal-${N}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center space-x-2 mb-1",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${w.mealType==="breakfast"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":w.mealType==="lunch"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":w.mealType==="dinner"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"}`,children:w.mealType.charAt(0).toUpperCase()+w.mealType.slice(1)})}),s.jsx("h4",{className:"font-semibold","data-testid":`text-meal-name-${N}`,children:w.name}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:w.description})]}),s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"text-sm font-medium",children:[w.calories," cal"]})})]}),s.jsxs("div",{className:"flex justify-between items-center mb-3 text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Protein: ",w.protein,"g"]}),s.jsxs("span",{children:["Carbs: ",w.carbs,"g"]}),s.jsxs("span",{children:["Fat: ",w.fat,"g"]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("h5",{className:"text-sm font-medium mb-1",children:"Ingredients:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:w.ingredients.map((k,P)=>s.jsx("span",{className:"text-xs bg-secondary text-secondary-foreground px-2 py-1 rounded",children:k},P))})]}),s.jsxs("div",{className:"bg-primary/10 rounded p-3 mb-3",children:[s.jsx("h5",{className:"text-sm font-medium mb-1",children:"Why this meal?"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:w.benefits})]}),w.cookingInstructions&&w.cookingInstructions.length>0&&s.jsxs("div",{className:"bg-muted/50 rounded p-3 mb-3",children:[s.jsxs("h5",{className:"text-sm font-medium mb-2 flex items-center",children:[s.jsx(qn,{className:"h-4 w-4 mr-1"}),"How to Make It:"]}),s.jsx("ol",{className:"text-sm text-muted-foreground space-y-1",children:w.cookingInstructions.map((k,P)=>s.jsxs("li",{className:"flex items-start",children:[s.jsxs("span",{className:"text-primary font-medium mr-2 flex-shrink-0",children:[P+1,"."]}),s.jsx("span",{children:k})]},P))})]}),w.recipeLink&&s.jsx("div",{className:"flex justify-center",children:s.jsxs("a",{href:w.recipeLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm font-medium hover:bg-primary/90 transition-colors","data-testid":`button-recipe-link-${N}`,children:[s.jsx(hj,{className:"h-4 w-4 mr-2"}),"View Full Recipe"]})})]},N))})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ds,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:"No Advice Yet"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Add some meals to your diary to get personalized recommendations"}),s.jsx(vt,{href:"/diary",children:s.jsx("button",{className:"bg-primary text-primary-foreground px-6 py-2 rounded-lg font-medium hover:bg-primary/90 transition-colors","data-testid":"button-view-diary",children:"View Diary"})})]})]}):s.jsxs("div",{className:"space-y-4",children:[S.map((w,N)=>s.jsx("div",{className:"bg-card border rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:w.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:w.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:w.tip})]})]})},N)),s.jsxs("div",{className:"bg-primary/10 border border-primary/20 rounded-lg p-4 mt-6",children:[s.jsx("h3",{className:"font-semibold text-primary mb-2",children:" Pro Tip"}),s.jsx("p",{className:"text-sm text-primary/80",children:"Track your meals consistently with PlateMate to get personalized advice based on your eating patterns and nutrition goals!"})]})]})]}),s.jsx(si,{}),s.jsx(Ys,{})]})}var tx="rovingFocusGroup.onEntryFocus",xke={bubbles:!1,cancelable:!0},Sv="RovingFocusGroup",[l1,iB,bke]=Nj(Sv),[wke,sB]=Xn(Sv,[bke]),[jke,Nke]=wke(Sv),oB=j.forwardRef((e,t)=>s.jsx(l1.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(l1.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Ske,{...e,ref:t})})}));oB.displayName=Sv;var Ske=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=j.useRef(null),p=at(t,h),g=py(i),[m=null,x]=Di({prop:o,defaultProp:l,onChange:c}),[v,b]=j.useState(!1),y=Za(u),S=iB(r),w=j.useRef(!1),[N,k]=j.useState(0);return j.useEffect(()=>{const P=h.current;if(P)return P.addEventListener(tx,y),()=>P.removeEventListener(tx,y)},[y]),s.jsx(jke,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:m,onItemFocus:j.useCallback(P=>x(P),[x]),onItemShiftTab:j.useCallback(()=>b(!0),[]),onFocusableItemAdd:j.useCallback(()=>k(P=>P+1),[]),onFocusableItemRemove:j.useCallback(()=>k(P=>P-1),[]),children:s.jsx(Fe.div,{tabIndex:v||N===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:De(e.onMouseDown,()=>{w.current=!0}),onFocus:De(e.onFocus,P=>{const C=!w.current;if(P.target===P.currentTarget&&C&&!v){const M=new CustomEvent(tx,xke);if(P.currentTarget.dispatchEvent(M),!M.defaultPrevented){const A=S().filter($=>$.focusable),_=A.find($=>$.active),R=A.find($=>$.id===m),D=[_,R,...A].filter(Boolean).map($=>$.ref.current);uB(D,d)}}w.current=!1}),onBlur:De(e.onBlur,()=>b(!1))})})}),lB="RovingFocusGroupItem",cB=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,...o}=e,l=Ga(),c=i||l,u=Nke(lB,r),d=u.currentTabStopId===c,f=iB(r),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return j.useEffect(()=>{if(n)return h(),()=>p()},[n,h,p]),s.jsx(l1.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:s.jsx(Fe.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:De(e.onMouseDown,g=>{n?u.onItemFocus(c):g.preventDefault()}),onFocus:De(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:De(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const m=Cke(g,u.orientation,u.dir);if(m!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let v=f().filter(b=>b.focusable).map(b=>b.ref.current);if(m==="last")v.reverse();else if(m==="prev"||m==="next"){m==="prev"&&v.reverse();const b=v.indexOf(g.currentTarget);v=u.loop?_ke(v,b+1):v.slice(b+1)}setTimeout(()=>uB(v))}})})})});cB.displayName=lB;var kke={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Pke(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Cke(e,t,r){const n=Pke(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return kke[n]}function uB(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function _ke(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Ake=oB,Oke=cB,vS="Tabs",[Eke,w2e]=Xn(vS,[sB]),dB=sB(),[Tke,xS]=Eke(vS),fB=j.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=py(l),[f,h]=Di({prop:n,onChange:a,defaultProp:i});return s.jsx(Tke,{scope:r,baseId:Ga(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(Fe.div,{dir:d,"data-orientation":o,...u,ref:t})})});fB.displayName=vS;var hB="TabsList",mB=j.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=xS(hB,r),o=dB(r);return s.jsx(Ake,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Fe.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});mB.displayName=hB;var pB="TabsTrigger",gB=j.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=xS(pB,r),l=dB(r),c=xB(o.baseId,n),u=bB(o.baseId,n),d=n===o.value;return s.jsx(Oke,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(Fe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:De(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:De(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:De(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});gB.displayName=pB;var yB="TabsContent",vB=j.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=xS(yB,r),c=xB(l.baseId,n),u=bB(l.baseId,n),d=n===l.value,f=j.useRef(d);return j.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(Qs,{present:a||d,children:({present:h})=>s.jsx(Fe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});vB.displayName=yB;function xB(e,t){return`${e}-trigger-${t}`}function bB(e,t){return`${e}-content-${t}`}var Mke=fB,wB=mB,jB=gB,NB=vB;const bS=Mke,kv=j.forwardRef(({className:e,...t},r)=>s.jsx(wB,{ref:r,className:Te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));kv.displayName=wB.displayName;const Wa=j.forwardRef(({className:e,...t},r)=>s.jsx(jB,{ref:r,className:Te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Wa.displayName=jB.displayName;const Ua=j.forwardRef(({className:e,...t},r)=>s.jsx(NB,{ref:r,className:Te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ua.displayName=NB.displayName;const Qi=[{name:"Grilled Chicken Breast",portion:"100g",calories:165,protein:31,carbs:0,fat:3.6,icon:""},{name:"Brown Rice",portion:"1 cup cooked",calories:216,protein:5,carbs:45,fat:1.8,icon:""},{name:"Greek Yogurt",portion:"1 cup",calories:130,protein:23,carbs:9,fat:0,icon:""},{name:"Banana",portion:"1 medium",calories:105,protein:1.3,carbs:27,fat:.4,icon:""},{name:"Almonds",portion:"1 oz (23 nuts)",calories:164,protein:6,carbs:6,fat:14,icon:""},{name:"Salmon Fillet",portion:"100g",calories:208,protein:25,carbs:0,fat:12,icon:""},{name:"Sweet Potato",portion:"1 medium baked",calories:112,protein:2,carbs:26,fat:.1,icon:""},{name:"Broccoli",portion:"1 cup",calories:25,protein:3,carbs:5,fat:.3,icon:""},{name:"Oatmeal",portion:"1 cup cooked",calories:154,protein:6,carbs:28,fat:3,icon:""},{name:"Eggs",portion:"2 large",calories:140,protein:12,carbs:1,fat:10,icon:""}];function $ke({goals:e,consumed:t}){const[r,n]=O.useState([]),[a,i]=O.useState({name:"",calories:0,protein:0,carbs:0,fat:0});O.useEffect(()=>{console.log("Calculator received data:",{goals:e,consumed:t})},[e,t]);const o={dailyCalories:2e3,dailyProtein:150,dailyCarbs:250,dailyFat:65,dailyWater:2e3},l=e?{dailyCalories:e.dailyCalories||o.dailyCalories,dailyProtein:e.dailyProtein||o.dailyProtein,dailyCarbs:e.dailyCarbs||o.dailyCarbs,dailyFat:e.dailyFat||o.dailyFat,dailyWater:e.dailyWater||o.dailyWater}:o,c={calories:Math.max(0,l.dailyCalories-t.calories),protein:Math.max(0,l.dailyProtein-t.protein),carbs:Math.max(0,l.dailyCarbs-t.carbs),fat:Math.max(0,l.dailyFat-t.fat),water:Math.max(0,l.dailyWater-t.water)},u=r.reduce((x,v)=>({calories:x.calories+v.calories,protein:x.protein+v.protein,carbs:x.carbs+v.carbs,fat:x.fat+v.fat}),{calories:0,protein:0,carbs:0,fat:0}),d={calories:t.calories+u.calories,protein:t.protein+u.protein,carbs:t.carbs+u.carbs,fat:t.fat+u.fat},f=x=>{n([...r,x])},h=x=>{n(r.filter((v,b)=>b!==x))},p=()=>{a.name&&a.calories>0&&(f({...a,portion:"custom portion",icon:""}),i({name:"",calories:0,protein:0,carbs:0,fat:0}))},g=()=>{const x=[];if(c.protein>20){const v=Qi.find(y=>y.name==="Grilled Chicken Breast"),b=Qi.find(y=>y.name==="Greek Yogurt");v&&x.push(v),b&&x.push(b)}if(c.carbs>30){const v=Qi.find(y=>y.name==="Brown Rice"),b=Qi.find(y=>y.name==="Sweet Potato");v&&x.push(v),b&&x.push(b)}if(c.fat>10){const v=Qi.find(y=>y.name==="Almonds"),b=Qi.find(y=>y.name==="Salmon Fillet");v&&x.push(v),b&&x.push(b)}if(c.calories>200){const v=Qi.find(b=>b.name==="Oatmeal");v&&x.push(v)}return x.slice(0,4)},m=(x,v)=>Math.min(x/v*100,100);return s.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center justify-center gap-2",children:[s.jsx(Ac,{className:"h-8 w-8 text-primary"}),"Nutrition Calculator"]}),s.jsx("p",{className:"text-muted-foreground",children:"Plan your meals and calculate exactly what you need to reach your goals"})]}),s.jsxs(bS,{defaultValue:"remaining",className:"w-full",children:[s.jsxs(kv,{className:"grid w-full grid-cols-4",children:[s.jsx(Wa,{value:"remaining","data-testid":"tab-remaining",children:"Remaining"}),s.jsx(Wa,{value:"planner","data-testid":"tab-planner",children:"Meal Planner"}),s.jsx(Wa,{value:"suggestions","data-testid":"tab-suggestions",children:"Smart Suggestions"}),s.jsx(Wa,{value:"scenarios","data-testid":"tab-scenarios",children:"Scenarios"})]}),s.jsx(Ua,{value:"remaining",className:"space-y-6",children:s.jsxs(me,{children:[s.jsxs(Se,{children:[s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(Qr,{className:"h-5 w-5"}),"Remaining to Reach Goals"]}),s.jsx(Ye,{children:"How much more you need to eat today to hit your targets"})]}),s.jsxs(ye,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg","data-testid":"remaining-calories",children:[s.jsx(Oc,{className:"h-8 w-8 mx-auto text-red-600 mb-2"}),s.jsx("div",{className:"text-2xl font-bold text-red-600",children:c.calories}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"calories left"})]}),s.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg","data-testid":"remaining-protein",children:[s.jsx(gp,{className:"h-8 w-8 mx-auto text-blue-600 mb-2"}),s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[c.protein,"g"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"protein left"})]}),s.jsxs("div",{className:"text-center p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg","data-testid":"remaining-carbs",children:[s.jsx(jp,{className:"h-8 w-8 mx-auto text-yellow-600 mb-2"}),s.jsxs("div",{className:"text-2xl font-bold text-yellow-600",children:[c.carbs,"g"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"carbs left"})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg","data-testid":"remaining-fat",children:[s.jsx(Ha,{className:"h-8 w-8 mx-auto text-green-600 mb-2"}),s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[c.fat,"g"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"fat left"})]})]}),c.calories<=0&&c.protein<=0&&c.carbs<=0&&c.fat<=0?s.jsx("div",{className:"mt-6 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-center",children:s.jsx("div",{className:"text-green-800 dark:text-green-200 font-medium",children:" Congratulations! You've reached all your nutrition goals for today!"})}):s.jsx("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg text-center",children:s.jsxs("div",{className:"text-blue-800 dark:text-blue-200 font-medium",children:[" You have ",s.jsx("span",{className:"font-bold",children:Math.round(c.calories+c.protein*4+c.carbs*4+c.fat*9)})," total calories remaining across all nutrients"]})})]})]})}),s.jsxs(Ua,{value:"planner",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(me,{children:[s.jsxs(Se,{children:[s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(qn,{className:"h-5 w-5"}),"Plan Your Meals"]}),s.jsx(Ye,{children:"Add foods to see how they'll affect your daily totals"})]}),s.jsxs(ye,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(br,{children:"Quick Add Common Foods"}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:Qi.slice(0,6).map((x,v)=>s.jsxs(he,{variant:"outline",className:"justify-start h-auto p-3",onClick:()=>f(x),"data-testid":`add-food-${x.name.replace(/\s+/g,"-").toLowerCase()}`,children:[s.jsx("span",{className:"text-lg mr-2",children:x.icon}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:x.name}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[x.calories," cal, ",x.protein,"g protein"]})]})]},v))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(br,{children:"Custom Food"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(lt,{placeholder:"Food name",value:a.name,onChange:x=>i({...a,name:x.target.value}),"data-testid":"input-custom-food-name"}),s.jsx(lt,{type:"number",placeholder:"Calories",value:a.calories||"",onChange:x=>i({...a,calories:parseInt(x.target.value)||0}),"data-testid":"input-custom-calories"}),s.jsx(lt,{type:"number",placeholder:"Protein (g)",value:a.protein||"",onChange:x=>i({...a,protein:parseInt(x.target.value)||0}),"data-testid":"input-custom-protein"}),s.jsx(lt,{type:"number",placeholder:"Carbs (g)",value:a.carbs||"",onChange:x=>i({...a,carbs:parseInt(x.target.value)||0}),"data-testid":"input-custom-carbs"})]}),s.jsxs(he,{onClick:p,className:"w-full","data-testid":"button-add-custom-food",children:[s.jsx(an,{className:"h-4 w-4 mr-2"}),"Add Custom Food"]})]})]})]}),s.jsxs(me,{children:[s.jsxs(Se,{children:[s.jsx(Ce,{children:"Planned Meals"}),s.jsx(Ye,{children:"Foods you're planning to eat today"})]}),s.jsx(ye,{children:r.length===0?s.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[s.jsx(Vo,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No meals planned yet"}),s.jsx("p",{className:"text-sm",children:"Add foods to see how they affect your goals"})]}):s.jsx("div",{className:"space-y-2",children:r.map((x,v)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg","data-testid":`planned-meal-${v}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-lg",children:x.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:x.name}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[x.calories," cal, ",x.protein,"g protein, ",x.carbs,"g carbs, ",x.fat,"g fat"]})]})]}),s.jsx(he,{size:"sm",variant:"ghost",onClick:()=>h(v),"data-testid":`remove-meal-${v}`,children:s.jsx(YD,{className:"h-4 w-4"})})]},v))})})]})]}),r.length>0&&s.jsxs(me,{children:[s.jsxs(Se,{children:[s.jsx(Ce,{children:"Projected Daily Totals"}),s.jsx(Ye,{children:"Your nutrition if you eat everything planned"})]}),s.jsx(ye,{children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Calories",current:d.calories,target:l.dailyCalories,icon:Oc,color:"red"},{label:"Protein",current:d.protein,target:l.dailyProtein,icon:gp,color:"blue"},{label:"Carbs",current:d.carbs,target:l.dailyCarbs,icon:jp,color:"yellow"},{label:"Fat",current:d.fat,target:l.dailyFat,icon:Ha,color:"green"}].map(({label:x,current:v,target:b,icon:y,color:S})=>{const w=m(v,b);return s.jsxs("div",{className:"text-center","data-testid":`projected-${x.toLowerCase()}`,children:[s.jsx(y,{className:`h-6 w-6 mx-auto mb-2 text-${S}-600`}),s.jsx("div",{className:"text-lg font-bold",children:Math.round(v)}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["/ ",b]}),s.jsx(As,{value:w,className:"h-2 mt-2"}),s.jsxs("div",{className:`text-xs mt-1 ${w>=100?"text-green-600":"text-muted-foreground"}`,children:[Math.round(w),"%"]})]},x)})})})]})]}),s.jsx(Ua,{value:"suggestions",className:"space-y-6",children:s.jsxs(me,{children:[s.jsxs(Se,{children:[s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(pp,{className:"h-5 w-5"}),"Smart Food Suggestions"]}),s.jsx(Ye,{children:"Based on your remaining nutrient needs"})]}),s.jsxs(ye,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g().map((x,v)=>s.jsxs("div",{className:"p-4 border rounded-lg","data-testid":`suggestion-${v}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xl",children:x.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:x.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:x.portion})]})]}),s.jsx(he,{size:"sm",onClick:()=>f(x),"data-testid":`add-suggested-${v}`,children:s.jsx(an,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-medium",children:x.calories}),s.jsx("div",{className:"text-muted-foreground",children:"cal"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"font-medium",children:[x.protein,"g"]}),s.jsx("div",{className:"text-muted-foreground",children:"protein"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"font-medium",children:[x.carbs,"g"]}),s.jsx("div",{className:"text-muted-foreground",children:"carbs"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"font-medium",children:[x.fat,"g"]}),s.jsx("div",{className:"text-muted-foreground",children:"fat"})]})]})]},v))}),g().length===0&&s.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[s.jsx(pp,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Great job! You're close to reaching all your goals."}),s.jsx("p",{className:"text-sm",children:"No specific food suggestions needed right now."})]})]})]})}),s.jsx(Ua,{value:"scenarios",className:"space-y-6",children:s.jsxs(me,{children:[s.jsxs(Se,{children:[s.jsx(Ce,{children:"Goal Achievement Scenarios"}),s.jsx(Ye,{children:"Different ways to reach your remaining targets"})]}),s.jsx(ye,{children:s.jsxs("div",{className:"space-y-4",children:[c.calories>100&&s.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"High Protein Scenario"}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:["To get ",c.calories," calories with emphasis on protein:"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsx("div",{children:" Greek yogurt (1 cup) = 130 cal, 23g protein"}),s.jsx("div",{children:" Chicken breast (50g) = 83 cal, 15g protein"}),s.jsx("div",{children:" Almonds (15g) = 87 cal, 3g protein"}),s.jsx("div",{children:" Banana (1 medium) = 105 cal, 1g protein"})]})]}),c.carbs>30&&s.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Carb-Focused Scenario"}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:["To get ",c.carbs,"g carbs while staying within calories:"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsx("div",{children:" Brown rice (1 cup) = 216 cal, 45g carbs"}),s.jsx("div",{children:" Sweet potato (1 medium) = 112 cal, 26g carbs"}),s.jsx("div",{children:" Oatmeal (1 cup) = 154 cal, 28g carbs"}),s.jsx("div",{children:" Apple (1 medium) = 95 cal, 25g carbs"})]})]}),c.fat>10&&s.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Healthy Fats Scenario"}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:["To get ",c.fat,"g healthy fats:"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsx("div",{children:" Avocado (1/2 medium) = 160 cal, 15g fat"}),s.jsx("div",{children:" Olive oil (1 tbsp) = 119 cal, 14g fat"}),s.jsx("div",{children:" Salmon (100g) = 208 cal, 12g fat"}),s.jsx("div",{children:" Nuts (1 oz) = 164 cal, 14g fat"})]})]})]})})]})})]})]})}const SB=AQ,kB=j.createContext({}),rn=({...e})=>s.jsx(kB.Provider,{value:{name:e.name},children:s.jsx(MQ,{...e})}),Pv=()=>{const e=j.useContext(kB),t=j.useContext(PB),{getFieldState:r,formState:n}=Ey(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},PB=j.createContext({}),Wr=j.forwardRef(({className:e,...t},r)=>{const n=j.useId();return s.jsx(PB.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:Te("space-y-2",e),...t})})});Wr.displayName="FormItem";const Ur=j.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=Pv();return s.jsx(br,{ref:r,className:Te(n&&"text-destructive",e),htmlFor:a,...t})});Ur.displayName="FormLabel";const Vr=j.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=Pv();return s.jsx(uI,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});Vr.displayName="FormControl";const Dke=j.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Pv();return s.jsx("p",{ref:r,id:n,className:Te("text-sm text-muted-foreground",e),...t})});Dke.displayName="FormDescription";const qr=j.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=Pv(),o=a?String((a==null?void 0:a.message)??""):t;return o?s.jsx("p",{ref:n,id:i,className:Te("text-sm font-medium text-destructive",e),...r,children:o}):null});qr.displayName="FormMessage";function Ike(e){const{sex:t,heightCm:r,currentWeightKg:n,age:a}=e;let i;return t==="male"?i=10*n+6.25*r-5*a+5:i=10*n+6.25*r-5*a-161,i}function Rke(e,t){return e*{sedentary:1.2,lightly_active:1.375,moderately_active:1.55,very_active:1.725,extra_active:1.9}[t]}function CB(e){switch(e){case"ozempic":case"wegovy":return{minMultiplier:1.1,maxDeficit:800,name:"Semaglutide (Ozempic/Wegovy)"};case"mounjaro":return{minMultiplier:1.1,maxDeficit:850,name:"Tirzepatide (Mounjaro)"};case"other_glp1":return{minMultiplier:1.1,maxDeficit:800,name:"GLP-1 Medication"};default:return{minMultiplier:1.2,maxDeficit:1e3,name:"None"}}}function Fke(e,t,r=.75,n,a="none"){const o=r*7700/7;let l;switch(t){case"lose_weight":l=e-Math.abs(o);break;case"gain_weight":l=e+Math.abs(o);break;case"maintain_weight":default:l=e;break}if(a&&a!=="none"&&t==="lose_weight"){const c=CB(a),u=n*c.minMultiplier,d=c.maxDeficit,f=Math.min(e-l,d);l=Math.max(e-f,u)}else if(t==="lose_weight"){const c=n<1400?1200:1500;l=Math.max(l,c)}return Math.round(l)}function ho(e){const a=Math.round(e*.2/4),i=Math.round(e*.4/4),o=Math.round(e*.4/9);return{dailyCalories:e,dailyProtein:a,dailyCarbs:i,dailyFat:o,dailyWater:2500}}function Wm(e){const t=Ike(e),r=Rke(t,e.activityLevel),n=Fke(r,e.weightGoal,Math.abs(e.weeklyWeightChangeKg||.75),t,e.medication);return{bmr:Math.round(t),tdee:Math.round(r),targetCalories:n,weightChange:e.goalWeightKg-e.currentWeightKg,timeToGoal:Math.abs(e.goalWeightKg-e.currentWeightKg)/(Math.abs(e.weeklyWeightChangeKg||.75)/7),medication:e.medication,medicationAdjustment:e.medication!=="none"?CB(e.medication||"none"):null}}function Lke(e){const t=e.dailyProtein*4,r=e.dailyCarbs*4,n=e.dailyFat*9,a=t+r+n,i=a-e.dailyCalories;return{actualCalories:a,variance:i}}const zke=lJ.extend({age:_e.number().min(10).max(120),sex:_e.enum(["male","female"]),heightCm:_e.number().min(100).max(250),currentWeightKg:_e.number().min(30).max(300),goalWeightKg:_e.number().min(30).max(300),activityLevel:_e.enum(["sedentary","lightly_active","moderately_active","very_active","extra_active"]),weightGoal:_e.enum(["lose_weight","maintain_weight","gain_weight"]),medication:_e.enum(["none","ozempic","wegovy","mounjaro","other_glp1"]).optional()});function _B({onCaloriesCalculated:e}){const{toast:t}=Ir(),r=En(),[n,a]=O.useState(null),[i,o]=O.useState(null),l=()=>{try{const y=localStorage.getItem("calculator-form-data");return y?JSON.parse(y):null}catch{return null}},c=y=>{try{localStorage.setItem("calculator-form-data",JSON.stringify(y))}catch(S){console.warn("Could not save form data to localStorage:",S)}},{data:u,isLoading:d}=It({queryKey:["/api/user-profile"],retry:!1}),f=()=>{const y=l();return{age:(u==null?void 0:u.age)||(y==null?void 0:y.age)||25,sex:(u==null?void 0:u.sex)||(y==null?void 0:y.sex)||"male",heightCm:(u==null?void 0:u.heightCm)||(y==null?void 0:y.heightCm)||170,currentWeightKg:(u==null?void 0:u.currentWeightKg)||(y==null?void 0:y.currentWeightKg)||70,goalWeightKg:(u==null?void 0:u.goalWeightKg)||(y==null?void 0:y.goalWeightKg)||65,activityLevel:(u==null?void 0:u.activityLevel)||(y==null?void 0:y.activityLevel)||"moderately_active",weightGoal:(u==null?void 0:u.weightGoal)||(y==null?void 0:y.weightGoal)||"maintain_weight",weeklyWeightChangeKg:(u==null?void 0:u.weeklyWeightChangeKg)||(y==null?void 0:y.weeklyWeightChangeKg)||.75,medication:(u==null?void 0:u.medication)||(y==null?void 0:y.medication)||"none"}},h=Ty({resolver:My(zke),defaultValues:f()});O.useEffect(()=>{if(console.log("Profile data loaded:",u),u){const y={age:u.age&&u.age>0?u.age:25,sex:u.sex||"male",heightCm:u.heightCm&&u.heightCm>0?u.heightCm:170,currentWeightKg:u.currentWeightKg&&u.currentWeightKg>0?u.currentWeightKg:70,goalWeightKg:u.goalWeightKg&&u.goalWeightKg>0?u.goalWeightKg:65,activityLevel:u.activityLevel||"moderately_active",weightGoal:u.weightGoal||"maintain_weight",weeklyWeightChangeKg:u.weeklyWeightChangeKg||0,medication:u.medication||"none"};console.log("Setting form data from profile:",y),h.reset(y)}else{const y=l();y&&(console.log("Restoring form data from localStorage:",y),h.reset(y))}},[u,h]),O.useEffect(()=>{const y=h.watch(S=>{S.age&&S.sex&&S.heightCm&&S.currentWeightKg&&c(S)});return()=>y.unsubscribe()},[h]);const p=Jt({mutationFn:async y=>{await $t("POST","/api/user-profile",y)},onSuccess:()=>{t({title:"Profile Saved",description:"Your profile and calorie calculation has been saved."}),r.invalidateQueries({queryKey:["/api/user-profile"]})},onError:y=>{t({title:"Error",description:"Failed to save profile. Please try again.",variant:"destructive"}),console.error("Error saving profile:",y)}}),g=Jt({mutationFn:async y=>{await $t("POST","/api/nutrition-goals",y)},onSuccess:()=>{t({title:"Goals Synced! ",description:"Your nutrition goals have been automatically updated and synced across all pages."}),r.invalidateQueries({queryKey:["/api/nutrition-goals"]})},onError:y=>{t({title:"Error",description:"Failed to update goals. Please try again.",variant:"destructive"}),console.error("Error updating goals:",y)}}),m=y=>{const S={age:y.age,sex:y.sex,heightCm:y.heightCm,currentWeightKg:y.currentWeightKg,goalWeightKg:y.goalWeightKg,activityLevel:y.activityLevel,weightGoal:y.weightGoal,weeklyWeightChangeKg:y.weeklyWeightChangeKg,medication:y.medication},w=Wm(S);a(w.targetCalories),o(w);const N=ho(w.targetCalories);g.mutate(N),e&&e(w.targetCalories)},x=()=>{if(n){const y=ho(n);g.mutate(y)}},v=y=>{if(console.log("Form submitted with data:",y),console.log("Form errors:",h.formState.errors),!y.age||y.age<10||y.age>120){t({title:"Invalid Age",description:"Please enter a valid age between 10 and 120 years.",variant:"destructive"});return}if(!y.sex){t({title:"Missing Information",description:"Please select your sex.",variant:"destructive"});return}if(!y.heightCm||y.heightCm<100||y.heightCm>250){t({title:"Invalid Height",description:"Please enter a valid height between 100-250 cm.",variant:"destructive"});return}if(!y.currentWeightKg||y.currentWeightKg<30||y.currentWeightKg>300){t({title:"Invalid Current Weight",description:"Please enter a valid current weight between 30-300 kg.",variant:"destructive"});return}if(!y.goalWeightKg||y.goalWeightKg<30||y.goalWeightKg>300){t({title:"Invalid Goal Weight",description:"Please enter a valid goal weight between 30-300 kg.",variant:"destructive"});return}if(!y.activityLevel){t({title:"Missing Activity Level",description:"Please select your activity level.",variant:"destructive"});return}if(!y.weightGoal){t({title:"Missing Weight Goal",description:"Please select your weight goal.",variant:"destructive"});return}m(y),p.mutate(y)},b=()=>{const y=h.getValues();if(!y.age||!y.sex||!y.heightCm||!y.currentWeightKg||!y.goalWeightKg||!y.activityLevel||!y.weightGoal||!y.medication){t({title:"Missing Information",description:"Please fill in all required fields to calculate your calories.",variant:"destructive"});return}m(y)};return d?s.jsx(me,{children:s.jsx(ye,{className:"p-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-1/3"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-3 bg-muted rounded"}),s.jsx("div",{className:"h-3 bg-muted rounded w-2/3"})]})]})})}):s.jsxs("div",{className:"space-y-8",children:[s.jsxs(me,{className:"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-blue-950/30 dark:via-indigo-950/30 dark:to-purple-950/30 border-0 shadow-xl",children:[s.jsxs(Se,{className:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 text-white rounded-t-lg",children:[s.jsxs(Ce,{className:"flex items-center gap-3 text-xl",children:[s.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:s.jsx(Ac,{className:"h-6 w-6"})}),"Personal Calorie Calculator"]}),s.jsx(Ye,{className:"text-blue-100 text-base",children:" Calculate your daily calorie needs based on your physical stats and weight goals"})]}),s.jsx(ye,{className:"p-8",children:s.jsx(SB,{...h,children:s.jsxs("form",{onSubmit:h.handleSubmit(v),className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(rn,{control:h.control,name:"age",render:({field:y})=>s.jsxs(Wr,{className:"space-y-3",children:[s.jsxs(Ur,{className:"flex items-center gap-2 text-sm font-semibold text-foreground",children:[s.jsx("div",{className:"p-1.5 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:s.jsx(Zd,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),"Age (years)"]}),s.jsx(Vr,{children:s.jsx(lt,{type:"number",onChange:S=>{const w=S.target.value;if(w===""){y.onChange(0);return}const N=parseInt(w);y.onChange(isNaN(N)?0:N)},value:y.value===0||y.value===null||y.value===void 0?"":y.value,"data-testid":"input-age",className:"border-2 border-gray-200 hover:border-blue-300 focus:border-blue-500 transition-all duration-200 shadow-sm bg-white dark:bg-gray-800 rounded-lg px-4 py-3 text-base"})}),s.jsx(qr,{})]})}),s.jsx(rn,{control:h.control,name:"sex",render:({field:y})=>s.jsxs(Wr,{className:"space-y-3",children:[s.jsxs(Ur,{className:"text-sm font-semibold text-foreground flex items-center gap-2",children:[s.jsx("span",{children:""})," Sex"]}),s.jsxs(ga,{onValueChange:y.onChange,defaultValue:y.value,children:[s.jsx(Vr,{children:s.jsx(Bn,{"data-testid":"select-sex",className:"border-2 border-gray-200 hover:border-blue-300 focus:border-blue-500 transition-all duration-200 shadow-sm bg-white dark:bg-gray-800 rounded-lg px-4 py-3 text-base",children:s.jsx(ya,{placeholder:"Select sex"})})}),s.jsxs(Wn,{children:[s.jsx(Le,{value:"male",children:"Male"}),s.jsx(Le,{value:"female",children:"Female"})]})]}),s.jsx(qr,{})]})}),s.jsx(rn,{control:h.control,name:"heightCm",render:({field:y})=>s.jsxs(Wr,{className:"space-y-3",children:[s.jsxs(Ur,{className:"text-sm font-semibold text-foreground flex items-center gap-2",children:[s.jsx("div",{className:"p-1.5 bg-green-100 dark:bg-green-900/30 rounded-lg",children:""}),"Height (cm)"]}),s.jsx(Vr,{children:s.jsx(lt,{type:"number",onChange:S=>{const w=S.target.value;if(w===""){y.onChange(0);return}const N=parseInt(w);y.onChange(isNaN(N)?0:N)},value:y.value===0||y.value===null||y.value===void 0?"":y.value,"data-testid":"input-height",className:"border-2 border-gray-200 hover:border-green-300 focus:border-green-500 transition-all duration-200 shadow-sm bg-white dark:bg-gray-800 rounded-lg px-4 py-3 text-base"})}),s.jsx(qr,{})]})}),s.jsx(rn,{control:h.control,name:"currentWeightKg",render:({field:y})=>s.jsxs(Wr,{children:[s.jsxs(Ur,{className:"flex items-center gap-2 text-sm font-semibold text-foreground",children:[s.jsx("div",{className:"p-1.5 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:s.jsx(Tc,{className:"h-4 w-4 text-orange-600 dark:text-orange-400"})}),"Current Weight (kg)"]}),s.jsx(Vr,{children:s.jsx(lt,{type:"number",onChange:S=>{const w=S.target.value;if(w===""){y.onChange(0);return}const N=parseInt(w);y.onChange(isNaN(N)?0:N)},value:y.value===0||y.value===null||y.value===void 0?"":y.value,"data-testid":"input-current-weight",className:"border-2 border-gray-200 hover:border-orange-300 focus:border-orange-500 transition-all duration-200 shadow-sm bg-white dark:bg-gray-800 rounded-lg px-4 py-3 text-base"})}),s.jsx(qr,{})]})}),s.jsx(rn,{control:h.control,name:"goalWeightKg",render:({field:y})=>s.jsxs(Wr,{className:"space-y-3",children:[s.jsxs(Ur,{className:"flex items-center gap-2 text-sm font-semibold text-foreground",children:[s.jsx("div",{className:"p-1.5 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:s.jsx(Qr,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),"Goal Weight (kg)"]}),s.jsx(Vr,{children:s.jsx(lt,{type:"number",onChange:S=>{const w=S.target.value;if(w===""){y.onChange(0);return}const N=parseInt(w);y.onChange(isNaN(N)?0:N)},value:y.value===0||y.value===null||y.value===void 0?"":y.value,"data-testid":"input-goal-weight",className:"border-2 border-gray-200 hover:border-purple-300 focus:border-purple-500 transition-all duration-200 shadow-sm bg-white dark:bg-gray-800 rounded-lg px-4 py-3 text-base"})}),s.jsx(qr,{})]})}),s.jsx(rn,{control:h.control,name:"activityLevel",render:({field:y})=>s.jsxs(Wr,{className:"space-y-3",children:[s.jsxs(Ur,{className:"flex items-center gap-2 text-sm font-semibold text-foreground",children:[s.jsx("div",{className:"p-1.5 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg",children:s.jsx(Dm,{className:"h-4 w-4 text-emerald-600 dark:text-emerald-400"})}),"Activity Level"]}),s.jsxs(ga,{onValueChange:y.onChange,defaultValue:y.value,children:[s.jsx(Vr,{children:s.jsx(Bn,{"data-testid":"select-activity",className:"border-2 border-gray-200 hover:border-emerald-300 focus:border-emerald-500 transition-all duration-200 shadow-sm bg-white dark:bg-gray-800 rounded-lg px-4 py-3 text-base",children:s.jsx(ya,{placeholder:"Select activity level"})})}),s.jsxs(Wn,{children:[s.jsx(Le,{value:"sedentary",children:"Sedentary (desk job, no exercise)"}),s.jsx(Le,{value:"lightly_active",children:"Lightly Active (light exercise 1-3 days/week)"}),s.jsx(Le,{value:"moderately_active",children:"Moderately Active (moderate exercise 3-5 days/week)"}),s.jsx(Le,{value:"very_active",children:"Very Active (heavy exercise 6-7 days/week)"}),s.jsx(Le,{value:"extra_active",children:"Extra Active (very heavy exercise, physical job)"})]})]}),s.jsx(qr,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(rn,{control:h.control,name:"weightGoal",render:({field:y})=>s.jsxs(Wr,{className:"space-y-3",children:[s.jsx(Ur,{className:"text-sm font-semibold text-foreground flex items-center gap-2",children:" Weight Goal"}),s.jsxs(ga,{onValueChange:y.onChange,defaultValue:y.value,children:[s.jsx(Vr,{children:s.jsx(Bn,{"data-testid":"select-weight-goal",className:"border-2 border-gray-200 hover:border-pink-300 focus:border-pink-500 transition-all duration-200 shadow-sm bg-white dark:bg-gray-800 rounded-lg px-4 py-3 text-base",children:s.jsx(ya,{placeholder:"Select weight goal"})})}),s.jsxs(Wn,{children:[s.jsx(Le,{value:"lose_weight",children:"Lose Weight"}),s.jsx(Le,{value:"maintain_weight",children:"Maintain Weight"}),s.jsx(Le,{value:"gain_weight",children:"Gain Weight"})]})]}),s.jsx(qr,{})]})}),s.jsx(rn,{control:h.control,name:"weeklyWeightChangeKg",render:({field:y})=>s.jsxs(Wr,{className:"space-y-3",children:[s.jsxs(Ur,{className:"text-sm font-semibold text-foreground flex items-center gap-2",children:[s.jsx("div",{className:"p-1.5 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:""}),"Target Weekly Change (kg)"]}),s.jsx(Vr,{children:s.jsx(lt,{type:"number",step:"0.1",onChange:S=>{const w=S.target.value;if(w===""){y.onChange(0);return}const N=parseFloat(w);y.onChange(isNaN(N)?0:N)},value:y.value===0||y.value===null||y.value===void 0?"":y.value,"data-testid":"input-weekly-change",placeholder:"0.5",className:"border-2 border-gray-200 hover:border-indigo-300 focus:border-indigo-500 transition-all duration-200 shadow-sm bg-white dark:bg-gray-800 rounded-lg px-4 py-3 text-base"})}),s.jsx(qr,{})]})})]}),s.jsx(rn,{control:h.control,name:"medication",render:({field:y})=>s.jsxs(Wr,{className:"space-y-3",children:[s.jsxs(Ur,{className:"flex items-center gap-2 text-sm font-semibold text-foreground",children:[s.jsx("div",{className:"p-1.5 bg-teal-100 dark:bg-teal-900/30 rounded-lg",children:s.jsx(Dm,{className:"h-4 w-4 text-teal-600 dark:text-teal-400"})}),"Weight Loss Medication"]}),s.jsxs(ga,{onValueChange:y.onChange,defaultValue:y.value,children:[s.jsx(Vr,{children:s.jsx(Bn,{"data-testid":"select-medication",className:"border-2 border-gray-200 hover:border-teal-300 focus:border-teal-500 transition-all duration-200 shadow-sm bg-white dark:bg-gray-800 rounded-lg px-4 py-3 text-base",children:s.jsx(ya,{placeholder:"Select medication (if any)"})})}),s.jsxs(Wn,{children:[s.jsx(Le,{value:"none",children:"No medication"}),s.jsx(Le,{value:"ozempic",children:"Ozempic (Semaglutide)"}),s.jsx(Le,{value:"wegovy",children:"Wegovy (Semaglutide)"}),s.jsx(Le,{value:"mounjaro",children:"Mounjaro (Tirzepatide)"}),s.jsx(Le,{value:"other_glp1",children:"Other GLP-1 medication"})]})]}),s.jsx(qr,{})]})}),s.jsxs("div",{className:"space-y-4 pt-4",children:[s.jsx(he,{type:"button",onClick:b,className:"w-full bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 hover:from-blue-700 hover:via-indigo-700 hover:to-purple-700 text-white font-semibold py-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]","data-testid":"button-calculate-only",children:" Calculate Daily Calories"}),s.jsx(he,{type:"submit",variant:"outline",className:"w-full border-2 border-blue-200 hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-950/30 font-medium py-4 rounded-xl transition-all duration-300",disabled:p.isPending,"data-testid":"button-save-profile",children:p.isPending?" Saving...":" Save Profile & Calculate"})]})]})})})]}),n&&i&&s.jsxs(me,{className:"bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 dark:from-green-950/30 dark:via-emerald-950/30 dark:to-teal-950/30 border-0 shadow-xl",children:[s.jsxs(Se,{className:"bg-gradient-to-r from-green-600 via-emerald-600 to-teal-600 text-white rounded-t-lg",children:[s.jsxs(Ce,{className:"flex items-center gap-3 text-xl",children:[s.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:""}),"Your Personalized Calorie Targets"]}),s.jsx(Ye,{className:"text-green-100 text-base",children:" Based on your physical stats and weight goals"})]}),s.jsxs(ye,{className:"p-8",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-blue-100 to-blue-200 dark:from-blue-900/40 dark:to-blue-800/30 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 border border-blue-200/50",children:[s.jsx("div",{className:"mb-3",children:s.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-2 shadow-md",children:s.jsx("span",{className:"text-white text-xl",children:""})})}),s.jsx("div",{className:"text-3xl font-bold text-blue-700 dark:text-blue-300 mb-1",children:i.bmr}),s.jsx("div",{className:"text-sm font-semibold text-blue-600 dark:text-blue-400",children:"BMR (calories/day)"}),s.jsx("div",{className:"text-xs text-blue-500 dark:text-blue-400/80 mt-1",children:"Base metabolic rate"})]}),s.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-green-100 to-green-200 dark:from-green-900/40 dark:to-green-800/30 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 border border-green-200/50",children:[s.jsx("div",{className:"mb-3",children:s.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-2 shadow-md",children:s.jsx("span",{className:"text-white text-xl",children:""})})}),s.jsx("div",{className:"text-3xl font-bold text-green-700 dark:text-green-300 mb-1",children:i.tdee}),s.jsx("div",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:"TDEE (calories/day)"}),s.jsx("div",{className:"text-xs text-green-500 dark:text-green-400/80 mt-1",children:"Including activity"})]}),s.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-orange-100 to-orange-200 dark:from-orange-900/40 dark:to-orange-800/30 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 border border-orange-200/50",children:[s.jsx("div",{className:"mb-3",children:s.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-full flex items-center justify-center mx-auto mb-2 shadow-md",children:s.jsx("span",{className:"text-white text-xl",children:""})})}),s.jsx("div",{className:"text-3xl font-bold text-orange-700 dark:text-orange-300 mb-1",children:n}),s.jsx("div",{className:"text-sm font-semibold text-orange-600 dark:text-orange-400",children:"Target (calories/day)"}),s.jsx("div",{className:"text-xs text-orange-500 dark:text-orange-400/80 mt-1",children:"To reach goal"})]}),s.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-purple-100 to-purple-200 dark:from-purple-900/40 dark:to-purple-800/30 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 border border-purple-200/50",children:[s.jsx("div",{className:"mb-3",children:s.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-2 shadow-md",children:s.jsx("span",{className:"text-white text-xl",children:""})})}),s.jsxs("div",{className:"text-3xl font-bold text-purple-700 dark:text-purple-300 mb-1",children:[Math.round(Math.abs(i.weightChange)),"kg"]}),s.jsx("div",{className:"text-sm font-semibold text-purple-600 dark:text-purple-400",children:i.weightChange>0?"To gain":i.weightChange<0?"To lose":"Maintain"}),s.jsxs("div",{className:"text-xs text-purple-500 dark:text-purple-400/80 mt-1",children:[Math.round(i.timeToGoal)," days to goal"]})]})]}),s.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-700/50 rounded-xl border border-gray-200/50 dark:border-gray-600/30",children:[s.jsxs("h4",{className:"font-semibold text-lg mb-3 flex items-center gap-2",children:[s.jsx("span",{className:"text-xl",children:""})," How we calculated this:"]}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsxs("li",{children:[" ",s.jsx("strong",{children:"BMR:"})," Mifflin-St Jeor equation based on your age, sex, height, and weight"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"TDEE:"})," BMR  activity level multiplier"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Target:"})," TDEE adjusted for your weight goal (",Math.abs(h.getValues("weeklyWeightChangeKg")||.5),"kg/week)"]}),i.medicationAdjustment&&s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Medication adjustment:"})," Increased minimum calories for ",i.medicationAdjustment.name," to prevent malnutrition"]}),s.jsxs("li",{children:[" ",s.jsx("strong",{children:"Timeline:"})," Based on safe weight change rate"]})]})]}),i.medication&&i.medication!=="none"&&s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[s.jsxs("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2 flex items-center gap-2",children:[s.jsx(Dm,{className:"h-4 w-4"}),"GLP-1 Medication Considerations"]}),s.jsxs("div",{className:"space-y-2 text-sm text-blue-800 dark:text-blue-200",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Higher calorie floor:"})," Your minimum daily calories are set higher due to appetite suppression effects."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Slower weight loss:"})," Calorie deficit is limited to prevent too rapid weight loss and nutrient deficiencies."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Important:"})," Monitor your food intake closely and ensure you're getting adequate nutrition despite reduced appetite."]}),s.jsxs("div",{className:"mt-3 p-2 bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-300 dark:border-yellow-700 rounded text-yellow-800 dark:text-yellow-200",children:[s.jsx("strong",{children:"Medical reminder:"})," Always follow your healthcare provider's guidance on diet and medication management."]})]})]}),s.jsx("div",{className:"mt-8 p-6 bg-gradient-to-r from-blue-50 via-indigo-50 to-green-50 dark:from-blue-900/20 dark:via-indigo-900/20 dark:to-green-900/20 border-2 border-blue-200 dark:border-blue-800 rounded-xl shadow-lg",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-lg text-blue-900 dark:text-blue-100 mb-2 flex items-center gap-2",children:" Update Your Nutrition Goals"}),s.jsxs("p",{className:"text-blue-700 dark:text-blue-300 mb-4",children:["Set your daily targets to ",n," calories with balanced macronutrients:"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"text-center p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:[s.jsx("div",{className:"font-bold text-orange-600 dark:text-orange-400",children:ho(n).dailyCalories}),s.jsx("div",{className:"text-xs text-orange-600/70 dark:text-orange-400/70 font-medium",children:" Calories"})]}),s.jsxs("div",{className:"text-center p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:[s.jsxs("div",{className:"font-bold text-blue-600 dark:text-blue-400",children:[ho(n).dailyProtein,"g"]}),s.jsx("div",{className:"text-xs text-blue-600/70 dark:text-blue-400/70 font-medium",children:" Protein"})]}),s.jsxs("div",{className:"text-center p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:[s.jsxs("div",{className:"font-bold text-green-600 dark:text-green-400",children:[ho(n).dailyCarbs,"g"]}),s.jsx("div",{className:"text-xs text-green-600/70 dark:text-green-400/70 font-medium",children:" Carbs"})]}),s.jsxs("div",{className:"text-center p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:[s.jsxs("div",{className:"font-bold text-yellow-600 dark:text-yellow-400",children:[ho(n).dailyFat,"g"]}),s.jsx("div",{className:"text-xs text-yellow-600/70 dark:text-yellow-400/70 font-medium",children:" Fat"})]})]})]}),s.jsx(he,{onClick:x,disabled:g.isPending,className:"ml-4 bg-gradient-to-r from-blue-600 via-indigo-600 to-green-600 hover:from-blue-700 hover:via-indigo-700 hover:to-green-700 text-white font-semibold px-6 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105","data-testid":"button-update-goals",children:g.isPending?" Updating...":" Update Goals"})]})})]})]})]})}function Bke(){const{data:e,isLoading:t}=It({queryKey:["/api/nutrition-goals"],retry:!1}),{data:r=[],isLoading:n}=It({queryKey:["/api/diary"],retry:!1}),{data:a=[],isLoading:i}=It({queryKey:["/api/drinks"],retry:!1}),o=O.useMemo(()=>{const l=new Date().toISOString().split("T")[0],c=r.filter(p=>p.mealDate?new Date(p.mealDate).toISOString().split("T")[0]===l:!1),u=a.filter(p=>p.loggedAt?new Date(p.loggedAt).toISOString().split("T")[0]===l:!1),d=c.reduce((p,g)=>{var m,x,v,b;return{calories:p.calories+(((m=g.analysis)==null?void 0:m.totalCalories)||0),protein:p.protein+(((x=g.analysis)==null?void 0:x.totalProtein)||0),carbs:p.carbs+(((v=g.analysis)==null?void 0:v.totalCarbs)||0),fat:p.fat+(((b=g.analysis)==null?void 0:b.totalFat)||0)}},{calories:0,protein:0,carbs:0,fat:0}),f=u.reduce((p,g)=>p+(g.calories||0),0),h=u.reduce((p,g)=>["water","tea","coffee"].includes(g.drinkType)?p+g.amount:p,0);return{calories:d.calories+f,protein:d.protein,carbs:d.carbs,fat:d.fat,water:h}},[r,a]);return t||n||i?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading your nutrition data..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 text-white sticky top-0 z-10 shadow-lg",children:s.jsx("div",{className:"container mx-auto px-4 py-6",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(vt,{href:"/",children:s.jsx("button",{className:"p-3 hover:bg-white/20 rounded-xl transition-all duration-200 hover:scale-110","data-testid":"button-back-to-home",children:s.jsx(ai,{className:"h-5 w-5"})})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:""}),"Smart Nutrition Calculator"]}),s.jsx("p",{className:"text-indigo-100 mt-1",children:" Calculate your personalized calorie needs and plan optimal meals"})]})]})})}),s.jsx("div",{className:"container mx-auto p-6 space-y-8",children:s.jsxs(bS,{defaultValue:"personal",className:"w-full",children:[s.jsxs(kv,{className:"grid w-full grid-cols-2 p-2 bg-gradient-to-r from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 rounded-xl",children:[s.jsxs(Wa,{value:"personal",className:"flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all duration-200 data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-purple-500 data-[state=active]:text-white data-[state=active]:shadow-lg","data-testid":"tab-personal-calculator",children:[s.jsx(Qr,{className:"h-4 w-4"}),"Personal Calculator"]}),s.jsxs(Wa,{value:"nutrition",className:"flex items-center gap-2 px-6 py-3 rounded-lg font-semibold transition-all duration-200 data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-500 data-[state=active]:to-emerald-500 data-[state=active]:text-white data-[state=active]:shadow-lg","data-testid":"tab-nutrition-planner",children:[s.jsx(Ac,{className:"h-4 w-4"}),"Nutrition Planner"]})]}),s.jsx(Ua,{value:"personal","data-testid":"content-personal-calculator",children:s.jsx(_B,{})}),s.jsx(Ua,{value:"nutrition","data-testid":"content-nutrition-planner",children:s.jsx($ke,{goals:e,consumed:o})})]})}),s.jsx(si,{}),s.jsx(Ys,{})]})}const io=[{name:"Male Standard",data:{age:30,sex:"male",heightCm:180,currentWeightKg:80,goalWeightKg:75,activityLevel:"moderately_active",weightGoal:"lose_weight",weeklyWeightChangeKg:.75,medication:"none"},expectedBMR:1780,expectedTDEE:2759,description:"30yo male, 180cm, 80kg  75kg, moderately active, lose weight"},{name:"Female Standard",data:{age:25,sex:"female",heightCm:165,currentWeightKg:65,goalWeightKg:60,activityLevel:"lightly_active",weightGoal:"lose_weight",weeklyWeightChangeKg:.5,medication:"none"},expectedBMR:1454,expectedTDEE:1999,description:"25yo female, 165cm, 65kg  60kg, lightly active, lose weight"},{name:"Male Maintain Weight",data:{age:35,sex:"male",heightCm:175,currentWeightKg:70,goalWeightKg:70,activityLevel:"very_active",weightGoal:"maintain_weight",weeklyWeightChangeKg:0,medication:"none"},expectedBMR:1670,expectedTDEE:2881,description:"35yo male, 175cm, 70kg, very active, maintain weight"},{name:"Female Gain Weight",data:{age:22,sex:"female",heightCm:160,currentWeightKg:50,goalWeightKg:55,activityLevel:"sedentary",weightGoal:"gain_weight",weeklyWeightChangeKg:.5,medication:"none"},expectedBMR:1239,expectedTDEE:1487,description:"22yo female, 160cm, 50kg  55kg, sedentary, gain weight"},{name:"Ozempic Medication",data:{age:45,sex:"female",heightCm:170,currentWeightKg:90,goalWeightKg:75,activityLevel:"moderately_active",weightGoal:"lose_weight",weeklyWeightChangeKg:1,medication:"ozempic"},expectedBMR:1544,expectedTDEE:2393,description:"45yo female, 170cm, 90kg  75kg, moderately active, lose weight, on Ozempic"},{name:"Mounjaro Medication",data:{age:40,sex:"male",heightCm:185,currentWeightKg:95,goalWeightKg:80,activityLevel:"lightly_active",weightGoal:"lose_weight",weeklyWeightChangeKg:1,medication:"mounjaro"},expectedBMR:1860,expectedTDEE:2558,description:"40yo male, 185cm, 95kg  80kg, lightly active, lose weight, on Mounjaro"},{name:"Safety Floor Edge Case",data:{age:20,sex:"female",heightCm:150,currentWeightKg:45,goalWeightKg:40,activityLevel:"sedentary",weightGoal:"lose_weight",weeklyWeightChangeKg:1,medication:"none"},expectedBMR:1044,expectedTDEE:1253,description:"20yo female, 150cm, 45kg  40kg, sedentary, aggressive weight loss (should hit safety minimum)"}];function Wke(){const[e,t]=O.useState([]),[r,n]=O.useState(!1),[a,i]=O.useState(io[0]),[o,l]=O.useState(null),c=()=>{n(!0);const g=[];io.forEach(m=>{const x=Wm(m.data);m.expectedBMR&&g.push({step:`${m.name} - BMR Calculation`,expected:m.expectedBMR,actual:x.bmr,passed:Math.abs(x.bmr-m.expectedBMR)<1,details:`${m.description}`,category:"calculation"}),m.expectedTDEE&&g.push({step:`${m.name} - TDEE Calculation`,expected:m.expectedTDEE,actual:x.tdee,passed:Math.abs(x.tdee-m.expectedTDEE)<1,details:`BMR ${x.bmr}  activity multiplier`,category:"calculation"});const v=x.targetCalories>0&&(m.data.weightGoal!=="lose_weight"||x.targetCalories>=1200);if(g.push({step:`${m.name} - Target Calories Valid`,expected:!0,actual:v,passed:v,details:`Target: ${x.targetCalories} cal should be > 0 and >= 1200 for weight loss`,category:"calculation"}),m.data.medication&&m.data.medication!=="none"&&m.data.weightGoal==="lose_weight"){const b=m.data.medication==="mounjaro"?850:800,y=x.tdee-x.targetCalories;g.push({step:`${m.name} - Medication Deficit Cap`,expected:`<= ${b}`,actual:y,passed:y<=b,details:`Deficit should not exceed ${b} cal/day for ${m.data.medication}`,category:"medication"});const S=Math.round(x.bmr*1.1);g.push({step:`${m.name} - Medication Minimum Floor`,expected:`>= ${S}`,actual:x.targetCalories,passed:x.targetCalories>=S,details:`Target should be >= 110% of BMR (${S}) for GLP-1 meds`,category:"medication"})}if(m.data.weightGoal==="lose_weight"){const b=x.bmr<1400?1200:1500;g.push({step:`${m.name} - Safety Minimum`,expected:`>= ${b}`,actual:x.targetCalories,passed:x.targetCalories>=b,details:`Target should not go below ${b} cal safety minimum`,category:"edge_case"})}}),t(g),n(!1)},u=()=>{const g=[];io.forEach(m=>{const x=Wm(m.data),v=ho(x.targetCalories),b=Lke(v);g.push({step:`${m.name} - Macro Back-Calculation`,expected:x.targetCalories,actual:b.actualCalories,passed:Math.abs(b.variance)<=5,details:`Variance: ${b.variance} cal (protein: ${v.dailyProtein}g, carbs: ${v.dailyCarbs}g, fat: ${v.dailyFat}g)`,category:"macro_validation"});const y=v.dailyProtein*4/v.dailyCalories,S=v.dailyCarbs*4/v.dailyCalories,w=v.dailyFat*9/v.dailyCalories;g.push({step:`${m.name} - Protein % (20%)`,expected:.2,actual:Number(y.toFixed(3)),passed:Math.abs(y-.2)<.05,details:`Actual: ${(y*100).toFixed(1)}%`,category:"macro_validation"}),g.push({step:`${m.name} - Carbs % (40%)`,expected:.4,actual:Number(S.toFixed(3)),passed:Math.abs(S-.4)<.05,details:`Actual: ${(S*100).toFixed(1)}%`,category:"macro_validation"}),g.push({step:`${m.name} - Fat % (40%)`,expected:.4,actual:Number(w.toFixed(3)),passed:Math.abs(w-.4)<.05,details:`Actual: ${(w*100).toFixed(1)}%`,category:"macro_validation"})}),t([...e,...g])},d=g=>{console.log("Live calculator produced:",g);const m=Wm(a.data);l(m);const x={step:`Live Calculator - ${a.name}`,expected:m.targetCalories,actual:g,passed:g===m.targetCalories,details:"Live calculator should match shared function results",category:"calculation"};t([...e,x])},f=g=>e.filter(m=>m.category===g),h=g=>{const m=f(g);return{passed:m.filter(v=>v.passed).length,total:m.length}},p=e.length>0&&e.every(g=>g.passed);return s.jsx("div",{className:"space-y-6",children:s.jsxs(me,{className:"max-w-6xl mx-auto",children:[s.jsxs(Se,{children:[s.jsx(Ce,{className:"flex items-center gap-2",children:" Comprehensive Nutrition Calculator Verification"}),s.jsx(Ye,{children:"End-to-end testing of calculation logic, macro validation, medication adjustments, and live calculator verification"})]}),s.jsx(ye,{children:s.jsxs(bS,{defaultValue:"tests",className:"space-y-6",children:[s.jsxs(kv,{className:"grid w-full grid-cols-3",children:[s.jsx(Wa,{value:"tests",children:"Test Results"}),s.jsx(Wa,{value:"live",children:"Live Calculator Test"}),s.jsx(Wa,{value:"scenarios",children:"Test Scenarios"})]}),s.jsxs(Ua,{value:"tests",className:"space-y-6",children:[s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsx(he,{onClick:c,disabled:r,"data-testid":"button-run-calculation-tests",children:r?"Running Tests...":"Run Calculation Tests"}),s.jsx(he,{onClick:u,variant:"outline",disabled:e.length===0,"data-testid":"button-run-macro-tests",children:"Run Macro Validation Tests"}),s.jsx(he,{onClick:()=>t([]),variant:"outline","data-testid":"button-clear-tests",children:"Clear Results"})]}),e.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"grid grid-cols-4 gap-4",children:["calculation","macro_validation","medication","edge_case"].map(g=>{const m=h(g);return s.jsx(me,{className:"p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold",children:[m.passed,"/",m.total]}),s.jsx("div",{className:"text-sm text-muted-foreground capitalize",children:g.replace("_"," ")}),s.jsx(or,{variant:m.passed===m.total?"default":"destructive",children:m.passed===m.total?" PASS":" FAIL"})]})},g)})}),s.jsx("div",{className:"grid gap-3 max-h-96 overflow-y-auto",children:e.map((g,m)=>s.jsx(me,{className:`border-l-4 ${g.passed?"border-l-green-500":"border-l-red-500"}`,children:s.jsxs(ye,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium",children:g.step}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(or,{variant:"outline",className:"text-xs",children:g.category}),s.jsx(or,{variant:g.passed?"default":"destructive",children:g.passed?"":""})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Expected:"}),s.jsx("span",{className:"ml-2 font-mono",children:String(g.expected)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Actual:"}),s.jsx("span",{className:"ml-2 font-mono",children:String(g.actual)})]})]}),g.details&&s.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:g.details})]})},m))}),p&&s.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-green-600 dark:text-green-400",children:""}),s.jsx("span",{className:"font-medium text-green-800 dark:text-green-200",children:"All calculations verified! The calculator produces mathematically correct results across all scenarios."})]})})]})]}),s.jsx(Ua,{value:"live",className:"space-y-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Test Scenario:"}),s.jsx("select",{value:a.name,onChange:g=>i(io.find(m=>m.name===g.target.value)||io[0]),className:"mt-1 block w-full p-2 border rounded-md","data-testid":"select-test-scenario",children:io.map(g=>s.jsxs("option",{value:g.name,children:[g.name," - ",g.description]},g.name))})]}),s.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Live Calculator Test"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This will test the actual CalorieCalculator component with the selected scenario. Fill in the form with the values and click calculate to verify the live calculator matches our expected results."}),o&&s.jsxs("div",{className:"mb-4 p-3 bg-white dark:bg-gray-800 rounded border",children:[s.jsxs("div",{className:"text-sm font-medium",children:["Expected Results for ",a.name,":"]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["BMR: ",o.bmr," cal | TDEE: ",o.tdee," cal | Target: ",o.targetCalories," cal"]})]})]}),s.jsx(_B,{onCaloriesCalculated:d})]})}),s.jsx(Ua,{value:"scenarios",className:"space-y-4",children:s.jsx("div",{className:"grid gap-4",children:io.map((g,m)=>s.jsxs(me,{children:[s.jsxs(Se,{children:[s.jsx(Ce,{className:"text-lg",children:g.name}),s.jsx(Ye,{children:g.description})]}),s.jsxs(ye,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Age:"})," ",g.data.age]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Sex:"})," ",g.data.sex]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Height:"})," ",g.data.heightCm,"cm"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Weight:"})," ",g.data.currentWeightKg,"kg  ",g.data.goalWeightKg,"kg"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Activity:"})," ",g.data.activityLevel]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Goal:"})," ",g.data.weightGoal]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Rate:"})," ",g.data.weeklyWeightChangeKg,"kg/week"]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Medication:"})," ",g.data.medication]})]}),g.expectedBMR&&s.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:["Expected BMR: ",g.expectedBMR," cal | Expected TDEE: ",g.expectedTDEE," cal"]})]})]},m))})})]})})]})})}function Uke(){return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Comprehensive Calculator Verification"}),s.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"End-to-end testing of calculation logic, macro validation, medication adjustments, and live calculator verification"})]}),s.jsx(Wke,{})]})})}function rx({className:e,...t}){return s.jsx("div",{className:Te("animate-pulse rounded-md bg-muted",e),...t})}const nx=[{value:"all",label:"All Recipes"},{value:"keto",label:"Keto"},{value:"vegan",label:"Vegan"},{value:"vegetarian",label:"Vegetarian"},{value:"pescatarian",label:"Pescatarian"},{value:"high-protein",label:"High Protein"},{value:"high-fiber",label:"High Fiber"},{value:"low-residue",label:"Low Residue"},{value:"gluten-free",label:"Gluten Free"},{value:"dairy-free",label:"Dairy Free"},{value:"low-carb",label:"Low Carb"},{value:"paleo",label:"Paleo"},{value:"mediterranean",label:"Mediterranean"}];function Vke(){var d,f;const[e,t]=j.useState("all"),[r,n]=j.useState(""),[,a]=cj();j.useEffect(()=>{const p=new URLSearchParams(window.location.search).get("diet");t(p||"all")},[]);const i=h=>{t(h);const p=h&&h!=="all"?`/recipes?diet=${h}`:"/recipes";a(p)},{data:o,isLoading:l,error:c}=It({queryKey:["/api/recipes",e==="all"?"":e,r],queryFn:async()=>{let h="/api/recipes";const p=e==="all"?"":e;p&&r?h=`/api/recipes/${p}/${r}`:p?h=`/api/recipes/${p}`:r&&(h=`/api/recipes/_/${r}`),console.log("Fetching recipes from:",h);const g=await fetch(h);if(!g.ok)throw new Error(`Failed to fetch recipes: ${g.status} ${g.statusText}`);const m=await g.json();return console.log("Received recipes:",m),m},retry:3,retryDelay:1e3,staleTime:3e4}),u=o||[];return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("div",{className:"bg-primary/5 border-b border-primary/10 p-4 sticky top-0 z-10 backdrop-blur-sm",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(he,{variant:"ghost",size:"sm",onClick:()=>a("/"),className:"p-2 hover:bg-primary/10","data-testid":"button-back-home",children:s.jsx(ai,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-primary flex items-center gap-2",children:[s.jsx(qn,{className:"h-6 w-6"}),"Recipe Collection"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Discover healthy recipes tailored to your dietary needs"})]})]})}),s.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(mj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsxs(ga,{value:e,onValueChange:i,children:[s.jsx(Bn,{className:"pl-10","data-testid":"select-dietary-filter",children:s.jsx(ya,{placeholder:"Filter by dietary requirements"})}),s.jsx(Wn,{children:nx.map(h=>s.jsx(Le,{value:h.value,"data-testid":`option-diet-${h.value||"all"}`,children:h.label},h.value))})]})]})}),e&&e!=="all"&&s.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Filtering by:"}),s.jsxs(or,{variant:"secondary",className:"flex items-center gap-1",children:[(d=nx.find(h=>h.value===e))==null?void 0:d.label,s.jsx("button",{onClick:()=>t("all"),className:"ml-1 hover:bg-muted-foreground/20 rounded-full p-0.5","data-testid":"button-clear-filter",children:""})]})]})]}),s.jsx("div",{className:"p-4 pb-24",children:l?s.jsx("div",{className:"space-y-4",children:[1,2,3].map(h=>s.jsxs(me,{children:[s.jsxs(Se,{children:[s.jsx(rx,{className:"h-6 w-3/4"}),s.jsx(rx,{className:"h-4 w-1/2"})]}),s.jsx(ye,{children:s.jsx(rx,{className:"h-20 w-full"})})]},h))}):c?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(qn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:"Unable to Load Recipes"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"There was an error loading recipes. Please try again later."}),s.jsx(he,{onClick:()=>window.location.reload(),variant:"outline","data-testid":"button-retry-recipes",children:"Try Again"})]}):!Array.isArray(u)||u.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Vo,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:e&&e!=="all"?"No Recipes Found":"Loading Delicious Recipes..."}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e&&e!=="all"?`No recipes match your ${(f=nx.find(h=>h.value===e))==null?void 0:f.label} dietary requirements yet.`:"Our AI is preparing some amazing recipes for you!"}),e&&e!=="all"&&s.jsx(he,{onClick:()=>t("all"),variant:"outline","data-testid":"button-clear-filter-empty",children:"View All Recipes"})]}):s.jsx("div",{className:"space-y-4",children:u.map((h,p)=>s.jsxs(me,{className:"overflow-hidden","data-testid":`card-recipe-${p}`,children:[s.jsx(Se,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Ce,{className:"text-lg mb-1","data-testid":`text-recipe-name-${p}`,children:h.name}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:h.description}),s.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(lh,{className:"h-3 w-3"}),h.prepTime+h.cookTime," min"]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(pb,{className:"h-3 w-3"}),h.servings," servings"]}),s.jsx("div",{className:"px-2 py-1 bg-primary/10 text-primary rounded",children:h.difficulty})]})]}),s.jsxs("div",{className:"text-right ml-4",children:[s.jsx("div",{className:"text-lg font-semibold text-primary",children:h.calories}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"calories"})]})]})}),s.jsxs(ye,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center text-xs text-muted-foreground bg-muted/30 rounded p-2",children:[s.jsxs("span",{children:["Protein: ",h.protein,"g"]}),s.jsxs("span",{children:["Carbs: ",h.carbs,"g"]}),s.jsxs("span",{children:["Fat: ",h.fat,"g"]})]}),h.dietaryInfo&&h.dietaryInfo.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1",children:h.dietaryInfo.map((g,m)=>s.jsx(or,{variant:"outline",className:"text-xs",children:g},m))}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium mb-2",children:"Ingredients:"}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[h.ingredients.slice(0,6).map((g,m)=>s.jsx("span",{className:"text-xs bg-secondary text-secondary-foreground px-2 py-1 rounded",children:g},m)),h.ingredients.length>6&&s.jsxs("span",{className:"text-xs text-muted-foreground px-2 py-1",children:["+",h.ingredients.length-6," more"]})]})]}),h.instructions&&h.instructions.length>0&&s.jsxs("div",{className:"bg-muted/50 rounded p-3",children:[s.jsxs("h4",{className:"text-sm font-medium mb-2 flex items-center",children:[s.jsx(qn,{className:"h-4 w-4 mr-1"}),"How to Make It:"]}),s.jsxs("ol",{className:"text-sm text-muted-foreground space-y-1",children:[h.instructions.slice(0,3).map((g,m)=>s.jsxs("li",{className:"flex items-start",children:[s.jsxs("span",{className:"text-primary font-medium mr-2 flex-shrink-0",children:[m+1,"."]}),s.jsx("span",{children:g})]},m)),h.instructions.length>3&&s.jsxs("li",{className:"text-xs text-muted-foreground italic",children:["...and ",h.instructions.length-3," more steps"]})]})]}),h.recipeLink&&s.jsx("div",{className:"flex justify-center pt-2",children:s.jsxs("a",{href:h.recipeLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-primary text-primary-foreground rounded-lg text-sm font-medium hover:bg-primary/90 transition-colors","data-testid":`button-recipe-link-${p}`,children:[s.jsx(hj,{className:"h-4 w-4 mr-2"}),"View Full Recipe"]})})]})]},h.id||p))})}),s.jsx(si,{}),s.jsx(Ys,{})]})}var nO;(function(e){e[e.Sunday=1]="Sunday",e[e.Monday=2]="Monday",e[e.Tuesday=3]="Tuesday",e[e.Wednesday=4]="Wednesday",e[e.Thursday=5]="Thursday",e[e.Friday=6]="Friday",e[e.Saturday=7]="Saturday"})(nO||(nO={}));const nd=oh("LocalNotifications",{web:()=>vj(()=>import("./web-QGx9IfFv.js"),[]).then(e=>new e.LocalNotificationsWeb)});class qke{constructor(){this.hasPermission=!1,this.isInitialized=!1}async initialize(){if(this.isInitialized)return this.hasPermission;try{return Ht.isNativePlatform()?await this.initializeCapacitorNotifications():await this.initializeWebNotifications(),this.isInitialized=!0,this.hasPermission}catch(t){return console.error("Failed to initialize notifications:",t),!1}}async initializeCapacitorNotifications(){try{const t=await nd.requestPermissions();this.hasPermission=t.display==="granted",this.hasPermission?console.log(" Capacitor notifications permission granted"):console.log(" Capacitor notifications permission denied")}catch(t){console.error("Capacitor notifications error:",t),this.hasPermission=!1}}async initializeWebNotifications(){try{if(!window.isSecureContext){console.log("Web notifications require secure context (HTTPS)");return}if(!("Notification"in window)){console.log("Web notifications not supported by this browser");return}const t=Notification.permission;console.log(`Current notification permission: ${t}`),t==="granted"?(this.hasPermission=!0,console.log(" Web notifications permission already granted")):t==="default"?(console.log("Web notifications permission not yet requested"),this.hasPermission=!1):(console.log(" Web notifications permission denied"),this.hasPermission=!1)}catch(t){console.error("Web notifications error:",t),this.hasPermission=!1}}async scheduleDaily(t){if(!t.enabled)return await this.cancelDaily(),!0;await this.initialize(),!Ht.isNativePlatform()&&"Notification"in window&&!this.hasPermission&&await this.requestWebNotificationPermission();try{Ht.isNativePlatform()?await this.scheduleDailyCapacitor(t):await this.scheduleDailyWeb(t);const r=this.hasPermission?"with browser notifications":"with in-app notifications only";return console.log(` Daily motivation scheduled for ${t.time} (${r})`),!0}catch(r){throw console.error("Failed to schedule daily motivation:",r),r}}async scheduleDailyCapacitor(t){await nd.cancel({notifications:[{id:1}]});const[r,n]=t.time.split(":").map(Number),a=new Date,i=new Date;i.setHours(r,n,0,0),i<=a&&i.setDate(i.getDate()+1),await nd.schedule({notifications:[{id:1,title:t.title,body:t.body,schedule:{at:i,repeats:!0,every:"day"},sound:"default",actionTypeId:"COACHING_REMINDER",extra:{type:"daily-coaching"}}]})}async scheduleDailyWeb(t){this.cancelWebTimer();const[r,n]=t.time.split(":").map(Number),a=new Date,i=new Date;i.setHours(r,n,0,0),i<=a&&i.setDate(i.getDate()+1);const o=i.getTime()-a.getTime();setTimeout(async()=>{await this.showWebNotification(t),this.scheduleDailyWeb(t)},o),localStorage.setItem("platemate-notification-timer",JSON.stringify({scheduledTime:i.getTime(),config:t}))}async showWebNotification(t){const r=await this.getMotivationalContent();if(_t.playReminder(),this.showInAppMotivation(r),this.hasPermission&&"Notification"in window&&window.isSecureContext)try{const n=new Notification(r.title,{body:r.body,icon:"/favicon.ico",badge:"/favicon.ico",tag:"daily-motivation",requireInteraction:!0,silent:!1});n.onclick=()=>{window.focus(),window.location.pathname!=="/coaching"&&(window.location.href="/coaching"),n.close()},setTimeout(()=>{n&&n.close()},3e4),console.log(" Browser notification shown:",r.title)}catch(n){console.log("Browser notification failed, but in-app motivation still works:",n)}else console.log("Browser notifications not available, using in-app motivation only");console.log(" Daily motivation delivered:",r.body)}async requestWebNotificationPermission(){try{if(!("Notification"in window))return console.log("Browser does not support notifications"),!1;if(!window.isSecureContext)return console.log("Notifications require secure context (HTTPS)"),!1;if(Notification.permission==="granted")return this.hasPermission=!0,!0;if(Notification.permission==="denied")return console.log("Notification permission was denied by user"),!1;const t=await Notification.requestPermission();return this.hasPermission=t==="granted",this.hasPermission?console.log(" Web notifications permission granted"):console.log(" Web notifications permission denied"),this.hasPermission}catch(t){return console.error("Failed to request notification permission:",t),!1}}async showTestNotification(){if(await this.requestWebNotificationPermission())try{const r=new Notification("PlateMate Test",{body:" This is a test notification! Your daily motivation will look like this.",icon:"/favicon.ico",tag:"test-notification"});r.onclick=()=>{window.focus(),r.close()},setTimeout(()=>r.close(),5e3),console.log("Test notification shown")}catch(r){console.error("Failed to show test notification:",r)}else this.showInAppMotivation({title:"PlateMate Test",body:" Browser notifications not available, but in-app motivation works!"})}async cancelDaily(){try{Ht.isNativePlatform()?await nd.cancel({notifications:[{id:1}]}):this.cancelWebTimer(),console.log(" Daily reminders cancelled")}catch(t){console.error("Failed to cancel daily reminders:",t)}}cancelWebTimer(){localStorage.getItem("platemate-notification-timer")&&localStorage.removeItem("platemate-notification-timer")}async testNotification(){await this.initialize();const t={title:"PlateMate Coaching",body:"Test notification - your daily motivation is ready! ",time:"00:00",enabled:!0};Ht.isNativePlatform()?await nd.schedule({notifications:[{id:999,title:t.title,body:t.body,schedule:{at:new Date(Date.now()+1e3)},sound:"default"}]}):(await _t.playNotification(),await this.showWebNotification(t))}async getMotivationalContent(){try{const n=await fetch("/api/coaching/daily");if(n.ok)return{title:" Daily Motivation",body:(await n.json()).motivation||"Stay focused on your health goals! Every small step counts."}}catch{console.log("Could not fetch coaching content, using fallback")}const t=["Today is a new opportunity to nourish your body! ","Small steps lead to big changes. Keep going! ","Your health journey matters. Stay consistent! ","Fuel your body with intention and watch yourself thrive! ","Every meal is a chance to love yourself better! "];return{title:" Daily Motivation",body:t[Math.floor(Math.random()*t.length)]}}showInAppMotivation(t){const r=document.createElement("div");r.className="fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-gradient-to-r from-purple-500 to-pink-500 text-white p-4 rounded-lg shadow-2xl max-w-sm text-center backdrop-blur-sm border border-white/20",r.innerHTML=`
      <div class="font-bold text-lg mb-1">${t.title}</div>
      <div class="text-sm opacity-90">${t.body}</div>
    `,document.body.appendChild(r),r.style.transform="translate(-50%, -100%)",r.style.opacity="0",setTimeout(()=>{r.style.transition="all 0.3s ease-out",r.style.transform="translate(-50%, 0)",r.style.opacity="1"},10),setTimeout(()=>{r.style.transition="all 0.3s ease-in",r.style.transform="translate(-50%, -100%)",r.style.opacity="0",setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r)},300)},8e3),r.addEventListener("click",()=>{r.style.transition="all 0.2s ease-in",r.style.transform="translate(-50%, -100%)",r.style.opacity="0",setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r)},200)})}resumeWebNotifications(){if(Ht.isNativePlatform())return;const t=localStorage.getItem("platemate-notification-timer");if(t)try{const{scheduledTime:r,config:n}=JSON.parse(t),a=Date.now();if(r>a){const i=r-a;setTimeout(()=>{this.showWebNotification(n),this.scheduleDailyWeb(n)},i)}else this.scheduleDailyWeb(n)}catch(r){console.error("Failed to resume web notifications:",r),localStorage.removeItem("platemate-notification-timer")}}}const gm=new qke;var wS="Switch",[Hke,j2e]=Xn(wS),[Gke,Kke]=Hke(wS),AB=j.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=j.useState(null),g=at(t,y=>p(y)),m=j.useRef(!1),x=h?d||!!h.closest("form"):!0,[v=!1,b]=Di({prop:a,defaultProp:i,onChange:u});return s.jsxs(Gke,{scope:r,checked:v,disabled:l,children:[s.jsx(Fe.button,{type:"button",role:"switch","aria-checked":v,"aria-required":o,"data-state":TB(v),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:De(e.onClick,y=>{b(S=>!S),x&&(m.current=y.isPropagationStopped(),m.current||y.stopPropagation())})}),x&&s.jsx(Yke,{control:h,bubbles:!m.current,name:n,value:c,checked:v,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});AB.displayName=wS;var OB="SwitchThumb",EB=j.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=Kke(OB,r);return s.jsx(Fe.span,{"data-state":TB(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});EB.displayName=OB;var Yke=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,i=j.useRef(null),o=Ij(r),l=Tj(t);return j.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[o,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function TB(e){return e?"checked":"unchecked"}var MB=AB,Qke=EB;const Hg=j.forwardRef(({className:e,...t},r)=>s.jsx(MB,{className:Te("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(Qke,{className:Te("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Hg.displayName=MB.displayName;function Xke(){const[e,t]=j.useState(!0);j.useEffect(()=>{t(_t.isEnabled())},[]);const r=a=>{t(a),_t.setEnabled(a),a&&_t.playSuccess()},n=async()=>{await _t.playClick(),setTimeout(()=>_t.playSuccess(),300),setTimeout(()=>_t.playNotification(),600)};return s.jsxs(me,{className:"w-full",children:[s.jsx(Se,{children:s.jsxs(Ce,{className:"flex items-center space-x-2",children:[e?s.jsx(gj,{className:"h-5 w-5 text-blue-600"}):s.jsx(d7,{className:"h-5 w-5 text-gray-400"}),s.jsx("span",{children:"Sound Effects"})]})}),s.jsxs(ye,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(br,{htmlFor:"sound-toggle",children:"Enable sound effects"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Play sounds for notifications, button clicks, and feedback"})]}),s.jsx(Hg,{id:"sound-toggle",checked:e,onCheckedChange:r,"data-testid":"switch-sound-enabled"})]}),e&&s.jsx("div",{className:"pt-2 border-t",children:s.jsxs(he,{variant:"outline",size:"sm",onClick:n,className:"flex items-center space-x-2","data-testid":"button-test-sounds",children:[s.jsx(XD,{className:"h-4 w-4"}),s.jsx("span",{children:"Test Sounds"})]})})]})]})}function Zke(){const{toast:e}=Ir(),[t,r]=j.useState("all"),[n,a]=j.useState(!1),[i,o]=j.useState("09:00"),[l,c]=j.useState(!1);j.useEffect(()=>{const N=localStorage.getItem("platemate-reminder-time"),k=localStorage.getItem("platemate-reminder-enabled");N&&o(N),k==="true"&&c(!0),gm.initialize().then(P=>{P&&gm.resumeWebNotifications()})},[]);const u=N=>{o(N),localStorage.setItem("platemate-reminder-time",N)},d=async N=>{c(N),localStorage.setItem("platemate-reminder-enabled",N.toString());try{await gm.scheduleDaily({title:"PlateMate Daily Coaching",body:" Your daily motivation and nutrition tips are ready!",time:i,enabled:N})}catch(k){console.error("Failed to schedule notification:",k),e({title:"Notification Error",description:"Failed to set up notifications. Please check your browser permissions.",variant:"destructive"})}},{data:f,isLoading:h,error:p,refetch:g}=It({queryKey:["/api/coaching/daily"],retry:3,retryDelay:1e3}),{data:m,isLoading:x}=It({queryKey:[`/api/coaching/tips?category=${t}`]}),v=Jt({mutationFn:async()=>await(await $t("POST","/api/coaching/generate")).json(),onSuccess:()=>{_t.playSuccess(),e({title:"New Coaching Generated!",description:"Your daily motivation and tips have been updated."}),g()},onError:N=>{_t.playError(),e({title:"Error",description:"Failed to generate new coaching content. Please try again.",variant:"destructive"}),console.error("Error generating coaching:",N)}}),b=async()=>{if(n)try{await d(!0),a(!1),await _t.playSuccess(),e({title:"Reminders Set!",description:`Daily coaching reminders will be sent at ${i}`})}catch(N){console.error("Failed to setup reminders:",N),await _t.playError(),e({title:"Setup Failed",description:"Could not set up reminders. Please check notification permissions.",variant:"destructive"})}else a(!0)},y=async N=>{try{await d(N),e(N?{title:"Reminders Enabled",description:"You'll receive daily coaching notifications"}:{title:"Reminders Disabled",description:"Daily coaching notifications turned off"})}catch{e({title:"Error",description:"Failed to update reminder settings",variant:"destructive"})}},S=async()=>{try{await gm.showTestNotification(),await _t.playSuccess(),e({title:"Test Notification Sent!",description:"Check if you received the notification"})}catch{await _t.playError(),e({title:"Test Failed",description:"Could not send test notification. Check permissions.",variant:"destructive"})}},w=[{id:"all",label:"All Tips",icon:yp},{id:"nutrition",label:"Nutrition",icon:Xd},{id:"medication",label:"Medication",icon:Jd},{id:"motivation",label:"Motivation",icon:o0}];return s.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[s.jsx("div",{className:"bg-card border-b sticky top-0 z-10",children:s.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(vt,{href:"/scan",children:s.jsx("button",{className:"p-2 hover:bg-muted rounded-lg transition-colors","data-testid":"button-back-to-home",children:s.jsx(ai,{className:"h-5 w-5"})})}),s.jsx("h1",{className:"text-xl font-bold",children:"AI Coaching"})]}),s.jsx(o0,{className:"h-5 w-5 text-primary"})]})})}),s.jsxs("div",{className:"max-w-md mx-auto p-4 space-y-6",children:[s.jsxs(me,{className:"health-card border-l-4 border-l-primary",children:[s.jsx(Se,{children:s.jsxs(Ce,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(a2,{className:"h-5 w-5 text-yellow-500"}),"Today's Coaching"]}),s.jsx(he,{onClick:()=>v.mutate(),disabled:v.isPending||h,variant:"outline",size:"sm","data-testid":"button-generate-coaching",children:v.isPending?s.jsx(xs,{className:"h-4 w-4 animate-spin"}):s.jsx(xs,{className:"h-4 w-4"})})]})}),s.jsx(ye,{className:"space-y-4",children:h?s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-4 bg-muted rounded animate-pulse"}),s.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-3/4"}),s.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-1/2"})]}):f?s.jsxs(s.Fragment,{children:[f.streak>0&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[s.jsx(o0,{className:"h-5 w-5 text-yellow-600"}),s.jsxs("span",{className:"font-semibold text-yellow-800 dark:text-yellow-200",children:[f.streak," day streak! Keep it up!"]})]}),f.achievement&&s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[s.jsx(a2,{className:"h-5 w-5 text-green-600"}),s.jsxs("span",{className:"font-semibold text-green-800 dark:text-green-200",children:["Achievement: ",f.achievement]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xd,{className:"h-4 w-4 text-red-500"}),s.jsx("span",{className:"font-medium text-sm",children:"Daily Motivation"})]}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:f.motivation})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pa,{className:"h-4 w-4 text-blue-500"}),s.jsx("span",{className:"font-medium text-sm",children:"Today's Focus"})]}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:f.todaysFocus})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"font-medium text-sm",children:"Nutrition Tip"})]}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:f.nutritionTip})]}),f.medicationTip&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jd,{className:"h-4 w-4 text-purple-500"}),s.jsx("span",{className:"font-medium text-sm",children:"Medication Insight"})]}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:f.medicationTip})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Uo,{className:"h-4 w-4 text-indigo-500"}),s.jsx("span",{className:"font-medium text-sm",children:"Encouragement"})]}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:f.encouragement})]})]}):p?s.jsxs("div",{className:"text-center space-y-4 py-8",children:[s.jsx("div",{className:"text-6xl",children:""}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"AI Coach Unavailable"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Having trouble connecting to your AI coach. Try generating new content!"})]}),s.jsx(he,{onClick:()=>v.mutate(),disabled:v.isPending,className:"w-full",children:v.isPending?s.jsxs(s.Fragment,{children:[s.jsx(xs,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(xp,{className:"h-4 w-4 mr-2"}),"Generate Daily Coaching"]})})]}):s.jsxs("div",{className:"text-center space-y-4 py-8",children:[s.jsx("div",{className:"text-6xl",children:""}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Welcome to AI Coaching!"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get personalized daily motivation, nutrition tips, and encouragement."})]}),s.jsx(he,{onClick:()=>v.mutate(),disabled:v.isPending,className:"w-full",size:"lg",children:v.isPending?s.jsxs(s.Fragment,{children:[s.jsx(xs,{className:"h-4 w-4 mr-2 animate-spin"}),"Generating Your Coaching..."]}):s.jsxs(s.Fragment,{children:[s.jsx(xp,{className:"h-4 w-4 mr-2"}),"Start Your Daily Coaching"]})})]})})]}),s.jsx(Xke,{}),s.jsxs(me,{className:"health-card",children:[s.jsx(Se,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(yp,{className:"h-5 w-5 text-primary"}),"Educational Tips"]})}),s.jsxs(ye,{className:"space-y-4",children:[s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:w.map(N=>{const k=N.icon;return s.jsxs(he,{onClick:()=>r(N.id),variant:t===N.id?"default":"outline",size:"sm",className:"flex items-center gap-2 whitespace-nowrap","data-testid":`filter-${N.id}`,children:[s.jsx(k,{className:"h-4 w-4"}),N.label]},N.id)})}),x?s.jsx("div",{className:"space-y-3",children:[1,2,3].map(N=>s.jsxs("div",{className:"p-4 border rounded-lg space-y-2",children:[s.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-3/4"}),s.jsx("div",{className:"h-3 bg-muted rounded animate-pulse"}),s.jsx("div",{className:"h-3 bg-muted rounded animate-pulse w-1/2"})]},N))}):m&&m.length>0?s.jsx("div",{className:"space-y-3",children:m.map(N=>s.jsxs("div",{className:"p-4 border rounded-lg space-y-2 hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsx("h3",{className:"font-medium text-sm",children:N.title}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(or,{variant:N.category==="nutrition"?"default":N.category==="medication"?"secondary":"outline",className:"text-xs",children:N.category}),N.importance==="high"&&s.jsx(or,{variant:"destructive",className:"text-xs",children:"Important"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:N.content})]},N.id))}):s.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No tips available for the selected category."})]})]}),s.jsxs(me,{className:"health-card",children:[s.jsx(Se,{children:s.jsxs(Ce,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(t2,{className:"h-5 w-5 text-primary"})," Daily Motivation"]}),l&&s.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[s.jsx($s,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Active"})]})]})}),s.jsx(ye,{className:"space-y-4",children:n?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(br,{htmlFor:"reminder-time",children:"Motivation Time"}),s.jsx(lt,{id:"motivation-time",type:"time",value:i,onChange:N=>u(N.target.value),"data-testid":"input-motivation-time"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Hg,{id:"enable-reminders",checked:!0,"data-testid":"switch-enable-reminders"}),s.jsx(br,{htmlFor:"enable-reminders",className:"text-sm",children:"Enable daily motivation"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(he,{onClick:b,className:"flex-1","data-testid":"button-save-reminders",children:[s.jsx($s,{className:"h-4 w-4 mr-2"}),"Save"]}),s.jsx(he,{variant:"outline",onClick:()=>a(!1),className:"flex-1","data-testid":"button-cancel-reminders",children:"Cancel"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Get daily motivation and inspiring quotes delivered at your preferred time."}),s.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(t2,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-xs text-blue-700 dark:text-blue-300",children:[s.jsx("strong",{children:"Notification Info:"}),` For browser notifications, click "Test" and allow notifications when prompted. Don't worry - you'll still get in-app motivation even without browser permission!`]})]})})]}),l?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lh,{className:"h-4 w-4 text-green-600"}),s.jsxs("span",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:["Daily motivation at ",i]})]}),s.jsx(Hg,{checked:l,onCheckedChange:y,"data-testid":"switch-reminders"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(he,{variant:"outline",onClick:()=>a(!0),className:"flex-1","data-testid":"button-change-time",children:"Change Time"}),s.jsx(he,{onClick:S,variant:"outline",className:"flex-1","data-testid":"button-test-notification-active",title:"Test notification (will request permission if needed)",children:"Test"})]})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lt,{type:"time",value:i,onChange:N=>u(N.target.value),className:"flex-1","data-testid":"input-quick-time"}),s.jsx(he,{onClick:b,className:"px-6","data-testid":"button-set-reminders",children:"Set"}),s.jsx(he,{onClick:S,variant:"outline",size:"sm",className:"px-3","data-testid":"button-test-notification",title:"Test notification (will request permission if needed)",children:s.jsx(XD,{className:"h-4 w-4"})})]})]})})]})]}),s.jsx(si,{}),s.jsx(Ys,{})]})}const Jke=oJ.omit({userId:!0});function e2e(){const{toast:e}=Ir(),t=En(),[r,n]=j.useState(!1),{data:a,isLoading:i}=It({queryKey:["/api/nutrition-goals"]}),o=Ty({resolver:My(Jke),defaultValues:{dailyCalories:(a==null?void 0:a.dailyCalories)||2e3,dailyProtein:(a==null?void 0:a.dailyProtein)||150,dailyCarbs:(a==null?void 0:a.dailyCarbs)||250,dailyFat:(a==null?void 0:a.dailyFat)||65,dailyWater:(a==null?void 0:a.dailyWater)||2e3}});O.useEffect(()=>{a&&o.reset({dailyCalories:a.dailyCalories||2e3,dailyProtein:a.dailyProtein||150,dailyCarbs:a.dailyCarbs||250,dailyFat:a.dailyFat||65,dailyWater:a.dailyWater||2e3})},[a,o]);const l=Jt({mutationFn:async u=>{await $t("POST","/api/nutrition-goals",u)},onSuccess:()=>{e({title:"Goals Updated",description:"Your nutrition goals have been saved successfully."}),t.invalidateQueries({queryKey:["/api/nutrition-goals"]}),n(!1)},onError:u=>{e({title:"Error",description:"Failed to update goals. Please try again.",variant:"destructive"}),console.error("Error updating goals:",u)}}),c=u=>{l.mutate(u)};return i?s.jsx(me,{children:s.jsx(ye,{className:"p-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-1/3"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-3 bg-muted rounded"}),s.jsx("div",{className:"h-3 bg-muted rounded w-2/3"})]})]})})}):s.jsxs(me,{children:[s.jsxs(Se,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Qr,{className:"h-5 w-5 text-primary"}),s.jsx(Ce,{className:"text-lg",children:"Daily Nutrition Goals"})]}),s.jsxs(he,{variant:"outline",size:"sm",onClick:()=>n(!r),"data-testid":"button-edit-goals",children:[s.jsx(l7,{className:"h-4 w-4 mr-1"}),r?"Cancel":"Edit"]})]}),s.jsx(Ye,{children:"Set your daily nutrition targets to track your progress"})]}),s.jsx(ye,{children:r?s.jsx(SB,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(c),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(rn,{control:o.control,name:"dailyCalories",render:({field:u})=>s.jsxs(Wr,{children:[s.jsxs(Ur,{className:"flex items-center space-x-1",children:[s.jsx(Oc,{className:"h-4 w-4"}),s.jsx("span",{children:"Calories"})]}),s.jsx(Vr,{children:s.jsx(lt,{type:"number",...u,value:u.value||0,onChange:d=>u.onChange(parseInt(d.target.value)||0),"data-testid":"input-daily-calories"})}),s.jsx(qr,{})]})}),s.jsx(rn,{control:o.control,name:"dailyProtein",render:({field:u})=>s.jsxs(Wr,{children:[s.jsxs(Ur,{className:"flex items-center space-x-1",children:[s.jsx(gp,{className:"h-4 w-4"}),s.jsx("span",{children:"Protein (g)"})]}),s.jsx(Vr,{children:s.jsx(lt,{type:"number",...u,value:u.value||0,onChange:d=>u.onChange(parseInt(d.target.value)||0),"data-testid":"input-daily-protein"})}),s.jsx(qr,{})]})}),s.jsx(rn,{control:o.control,name:"dailyCarbs",render:({field:u})=>s.jsxs(Wr,{children:[s.jsxs(Ur,{className:"flex items-center space-x-1",children:[s.jsx(jp,{className:"h-4 w-4"}),s.jsx("span",{children:"Carbs (g)"})]}),s.jsx(Vr,{children:s.jsx(lt,{type:"number",...u,value:u.value||0,onChange:d=>u.onChange(parseInt(d.target.value)||0),"data-testid":"input-daily-carbs"})}),s.jsx(qr,{})]})}),s.jsx(rn,{control:o.control,name:"dailyFat",render:({field:u})=>s.jsxs(Wr,{children:[s.jsx(Ur,{children:"Fat (g)"}),s.jsx(Vr,{children:s.jsx(lt,{type:"number",...u,value:u.value||0,onChange:d=>u.onChange(parseInt(d.target.value)||0),"data-testid":"input-daily-fat"})}),s.jsx(qr,{})]})}),s.jsx(rn,{control:o.control,name:"dailyWater",render:({field:u})=>s.jsxs(Wr,{className:"col-span-2",children:[s.jsxs(Ur,{className:"flex items-center space-x-1",children:[s.jsx(Ha,{className:"h-4 w-4"}),s.jsx("span",{children:"Water (ml)"})]}),s.jsx(Vr,{children:s.jsx(lt,{type:"number",...u,value:u.value||0,onChange:d=>u.onChange(parseInt(d.target.value)||0),"data-testid":"input-daily-water"})}),s.jsx(qr,{})]})})]}),s.jsxs(he,{type:"submit",disabled:l.isPending,className:"w-full","data-testid":"button-save-goals",children:[s.jsx(pj,{className:"h-4 w-4 mr-2"}),l.isPending?"Saving...":"Save Goals"]})]})}):s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[s.jsx(Oc,{className:"h-4 w-4"}),s.jsx("span",{children:"Calories"})]}),s.jsx("div",{className:"text-2xl font-bold","data-testid":"display-daily-calories",children:(a==null?void 0:a.dailyCalories)||2e3})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[s.jsx(gp,{className:"h-4 w-4"}),s.jsx("span",{children:"Protein"})]}),s.jsxs("div",{className:"text-2xl font-bold","data-testid":"display-daily-protein",children:[(a==null?void 0:a.dailyProtein)||150,"g"]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[s.jsx(jp,{className:"h-4 w-4"}),s.jsx("span",{children:"Carbs"})]}),s.jsxs("div",{className:"text-2xl font-bold","data-testid":"display-daily-carbs",children:[(a==null?void 0:a.dailyCarbs)||250,"g"]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Fat"}),s.jsxs("div",{className:"text-2xl font-bold","data-testid":"display-daily-fat",children:[(a==null?void 0:a.dailyFat)||65,"g"]})]}),s.jsxs("div",{className:"space-y-1 col-span-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[s.jsx(Ha,{className:"h-4 w-4"}),s.jsx("span",{children:"Water"})]}),s.jsxs("div",{className:"text-2xl font-bold","data-testid":"display-daily-water",children:[(a==null?void 0:a.dailyWater)||2e3,"ml"]})]})]})})]})}function t2e(){return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"bg-card border-b sticky top-0 z-10",children:s.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(vt,{href:"/",children:s.jsx("button",{className:"p-2 hover:bg-muted rounded-lg transition-colors","data-testid":"button-back-to-home",children:s.jsx(ai,{className:"h-5 w-5"})})}),s.jsx("h1",{className:"text-xl font-bold",children:"Nutrition Goals"})]}),s.jsx(vt,{href:"/help",children:s.jsx("button",{className:"p-2 hover:bg-muted rounded-lg transition-colors","data-testid":"button-help-goals",title:"Help & Support",children:s.jsx(fj,{className:"h-4 w-4 text-muted-foreground"})})})]})})}),s.jsx("div",{className:"max-w-md mx-auto p-4 space-y-6",children:s.jsx(e2e,{})}),s.jsx(si,{}),s.jsx(Ys,{})]})}var r2e="Separator",aO="horizontal",n2e=["horizontal","vertical"],$B=j.forwardRef((e,t)=>{const{decorative:r,orientation:n=aO,...a}=e,i=a2e(n)?n:aO,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Fe.div,{"data-orientation":i,...l,...a,ref:t})});$B.displayName=r2e;function a2e(e){return n2e.includes(e)}var DB=$B;const IB=j.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(DB,{ref:a,decorative:r,orientation:t,className:Te("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));IB.displayName=DB.displayName;function i2e(){return s.jsxs("div",{className:"min-h-screen bg-background p-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(vt,{href:"/",children:s.jsx("button",{className:"p-2 hover:bg-muted rounded-lg transition-colors","data-testid":"button-back-home",children:s.jsx(ai,{className:"h-5 w-5"})})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Weight Loss Injection Guide"}),s.jsx("p",{className:"text-muted-foreground",children:"Tips and advice for GLP-1 medications"})]})]}),s.jsxs(bj,{className:"border-red-200 bg-red-50 dark:border-red-900 dark:bg-red-900/20",children:[s.jsx(as,{className:"h-4 w-4 text-red-600"}),s.jsxs(wj,{className:"text-red-700 dark:text-red-300",children:[s.jsx("strong",{children:"Medical Disclaimer:"})," This information is for educational purposes only. Always consult your healthcare provider before starting, stopping, or changing any medication. Never adjust dosages without medical supervision."]})]}),s.jsxs(me,{children:[s.jsxs(Se,{children:[s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(bp,{className:"h-5 w-5"}),"Common GLP-1 Medications"]}),s.jsx(Ye,{children:"Popular prescription weight loss injection medications"})]}),s.jsx(ye,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-blue-600",children:"Ozempic (Semaglutide)"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Weekly injection for diabetes and weight management"}),s.jsx(or,{variant:"secondary",className:"mt-2",children:"0.25mg - 2mg"})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-green-600",children:"Wegovy (Semaglutide)"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Higher dose specifically for weight management"}),s.jsx(or,{variant:"secondary",className:"mt-2",children:"0.25mg - 2.4mg"})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-purple-600",children:"Mounjaro (Tirzepatide)"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Dual-action diabetes and weight medication"}),s.jsx(or,{variant:"secondary",className:"mt-2",children:"2.5mg - 15mg"})]})]})})]}),s.jsxs(me,{children:[s.jsx(Se,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(Ec,{className:"h-5 w-5"}),"How GLP-1 Medications Work"]})}),s.jsx(ye,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(vn,{className:"h-5 w-5 text-green-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Appetite Suppression"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Signals to your brain that you're full, reducing food cravings"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(vn,{className:"h-5 w-5 text-green-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Slower Gastric Emptying"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Food stays in your stomach longer, keeping you satisfied"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(vn,{className:"h-5 w-5 text-green-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Blood Sugar Control"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Helps regulate insulin and glucose levels"})]})]})]})})]}),s.jsxs(me,{children:[s.jsxs(Se,{children:[s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(pp,{className:"h-5 w-5"}),"Nutrition Tips While on GLP-1s"]}),s.jsx(Ye,{children:"Optimize your diet to work with your medication"})]}),s.jsx(ye,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-green-600 mb-3",children:" Foods to Emphasize"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(vn,{className:"h-4 w-4 text-green-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Lean proteins:"})," Chicken, fish, tofu, legumes to maintain muscle mass"]})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(vn,{className:"h-4 w-4 text-green-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Fiber-rich foods:"})," Vegetables, fruits, whole grains for digestive health"]})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(vn,{className:"h-4 w-4 text-green-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Hydrating foods:"})," Soups, smoothies, water-rich fruits and vegetables"]})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(vn,{className:"h-4 w-4 text-green-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Small, frequent meals:"})," 4-6 smaller portions throughout the day"]})]})]})]}),s.jsx(IB,{}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-red-600 mb-3",children:" Foods to Limit or Avoid"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(as,{className:"h-4 w-4 text-red-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"High-fat foods:"})," Can worsen nausea and slow digestion further"]})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(as,{className:"h-4 w-4 text-red-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Sugary drinks:"})," Can cause blood sugar spikes and GI upset"]})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(as,{className:"h-4 w-4 text-red-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Large meals:"})," May cause discomfort, nausea, or vomiting"]})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(as,{className:"h-4 w-4 text-red-600"}),s.jsxs("span",{children:[s.jsx("strong",{children:"Carbonated drinks:"})," Can increase feelings of fullness and bloating"]})]})]})]})]})})]}),s.jsxs(me,{children:[s.jsx(Se,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(Xd,{className:"h-5 w-5"}),"Managing Common Side Effects"]})}),s.jsx(ye,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Nausea & Vomiting"}),s.jsxs("ul",{className:"space-y-1 text-sm",children:[s.jsx("li",{children:" Eat slowly and chew thoroughly"}),s.jsx("li",{children:" Try ginger tea or ginger supplements"}),s.jsx("li",{children:" Avoid lying down after eating"}),s.jsx("li",{children:" Eat bland foods (crackers, toast)"}),s.jsx("li",{children:" Stay hydrated with small sips"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Constipation"}),s.jsxs("ul",{className:"space-y-1 text-sm",children:[s.jsx("li",{children:" Increase fiber gradually"}),s.jsx("li",{children:" Drink plenty of water"}),s.jsx("li",{children:" Take gentle walks after meals"}),s.jsx("li",{children:" Consider a fiber supplement"}),s.jsx("li",{children:" Eat prunes or prune juice"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Fatigue"}),s.jsxs("ul",{className:"space-y-1 text-sm",children:[s.jsx("li",{children:" Ensure adequate protein intake"}),s.jsx("li",{children:" Monitor for dehydration"}),s.jsx("li",{children:" Maintain regular sleep schedule"}),s.jsx("li",{children:" Consider B-vitamin complex"}),s.jsx("li",{children:" Light exercise as tolerated"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold mb-3",children:"Loss of Appetite"}),s.jsxs("ul",{className:"space-y-1 text-sm",children:[s.jsx("li",{children:" Focus on nutrient-dense foods"}),s.jsx("li",{children:" Use liquid nutrition if needed"}),s.jsx("li",{children:" Set eating reminders"}),s.jsx("li",{children:" Make food more appealing"}),s.jsx("li",{children:" Track your intake"})]})]})]})})]}),s.jsxs(me,{children:[s.jsx(Se,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(mb,{className:"h-5 w-5"}),"Safety Guidelines & Best Practices"]})}),s.jsx(ye,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Injection Safety"}),s.jsxs("ul",{className:"space-y-1 text-sm text-blue-800 dark:text-blue-200",children:[s.jsx("li",{children:" Rotate injection sites (thigh, stomach, upper arm)"}),s.jsx("li",{children:" Use a new needle for each injection"}),s.jsx("li",{children:" Store medication in refrigerator (not freezer)"}),s.jsx("li",{children:" Check expiration dates before use"}),s.jsx("li",{children:" Dispose of needles in a sharps container"})]})]}),s.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-100 mb-2",children:"Monitoring & Check-ups"}),s.jsxs("ul",{className:"space-y-1 text-sm text-green-800 dark:text-green-200",children:[s.jsx("li",{children:" Regular blood work to monitor kidney function"}),s.jsx("li",{children:" Track weight loss progress"}),s.jsx("li",{children:" Monitor blood sugar if diabetic"}),s.jsx("li",{children:" Report severe side effects immediately"}),s.jsx("li",{children:" Keep follow-up appointments"})]})]}),s.jsxs("div",{className:"p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[s.jsx("h4",{className:"font-semibold text-orange-900 dark:text-orange-100 mb-2",children:"When to Contact Your Doctor"}),s.jsxs("ul",{className:"space-y-1 text-sm text-orange-800 dark:text-orange-200",children:[s.jsx("li",{children:" Severe nausea or vomiting that prevents eating/drinking"}),s.jsx("li",{children:" Signs of pancreatitis (severe stomach pain)"}),s.jsx("li",{children:" Unusual changes in vision"}),s.jsx("li",{children:" Signs of allergic reaction"}),s.jsx("li",{children:" Persistent constipation or diarrhea"})]})]})]})})]}),s.jsxs(me,{children:[s.jsx(Se,{children:s.jsxs(Ce,{className:"flex items-center gap-2",children:[s.jsx(pb,{className:"h-5 w-5"}),"Tips for Long-term Success"]})}),s.jsx(ye,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(lh,{className:"h-5 w-5 text-blue-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Build Sustainable Habits"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Focus on lifestyle changes that you can maintain long-term"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Xd,{className:"h-5 w-5 text-red-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Stay Active"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Regular exercise helps maintain muscle mass during weight loss"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(pb,{className:"h-5 w-5 text-green-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Find Support"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect with others on similar journeys for motivation"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(pp,{className:"h-5 w-5 text-orange-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Track Your Progress"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Use apps like this one to monitor nutrition and health metrics"})]})]})]})]})})]}),s.jsx(si,{}),s.jsx("div",{className:"h-20"})]})}var jS="Collapsible",[s2e,N2e]=Xn(jS),[o2e,NS]=s2e(jS),RB=j.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:a,disabled:i,onOpenChange:o,...l}=e,[c=!1,u]=Di({prop:n,defaultProp:a,onChange:o});return s.jsx(o2e,{scope:r,disabled:i,contentId:Ga(),open:c,onOpenToggle:j.useCallback(()=>u(d=>!d),[u]),children:s.jsx(Fe.div,{"data-state":kS(c),"data-disabled":i?"":void 0,...l,ref:t})})});RB.displayName=jS;var FB="CollapsibleTrigger",LB=j.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,a=NS(FB,r);return s.jsx(Fe.button,{type:"button","aria-controls":a.contentId,"aria-expanded":a.open||!1,"data-state":kS(a.open),"data-disabled":a.disabled?"":void 0,disabled:a.disabled,...n,ref:t,onClick:De(e.onClick,a.onOpenToggle)})});LB.displayName=FB;var SS="CollapsibleContent",zB=j.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=NS(SS,e.__scopeCollapsible);return s.jsx(Qs,{present:r||a.open,children:({present:i})=>s.jsx(l2e,{...n,ref:t,present:i})})});zB.displayName=SS;var l2e=j.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:a,...i}=e,o=NS(SS,r),[l,c]=j.useState(n),u=j.useRef(null),d=at(t,u),f=j.useRef(0),h=f.current,p=j.useRef(0),g=p.current,m=o.open||l,x=j.useRef(m),v=j.useRef(void 0);return j.useEffect(()=>{const b=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(b)},[]),$r(()=>{const b=u.current;if(b){v.current=v.current||{transitionDuration:b.style.transitionDuration,animationName:b.style.animationName},b.style.transitionDuration="0s",b.style.animationName="none";const y=b.getBoundingClientRect();f.current=y.height,p.current=y.width,x.current||(b.style.transitionDuration=v.current.transitionDuration,b.style.animationName=v.current.animationName),c(n)}},[o.open,n]),s.jsx(Fe.div,{"data-state":kS(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:m&&a})});function kS(e){return e?"open":"closed"}var c2e=RB;const ym=c2e,vm=LB,xm=zB;function u2e(){const[e,t]=j.useState({}),r=n=>{t(a=>({...a,[n]:!a[n]}))};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"bg-card border-b sticky top-0 z-10",children:s.jsx("div",{className:"max-w-2xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(vt,{href:"/",children:s.jsx("button",{className:"p-2 hover:bg-muted rounded-lg transition-colors","data-testid":"button-back-to-home",children:s.jsx(ai,{className:"h-5 w-5"})})}),s.jsx("h1",{className:"text-xl font-bold",children:"Help & Support"})]})})}),s.jsxs("div",{className:"max-w-2xl mx-auto p-4 space-y-6",children:[s.jsxs(me,{children:[s.jsxs(Se,{children:[s.jsxs(Ce,{className:"flex items-center space-x-2",children:[s.jsx(fy,{className:"h-5 w-5 text-primary"}),s.jsx("span",{children:"Quick Start Guide"})]}),s.jsx(Ye,{children:"Get started with PlateMate in 4 easy steps"})]}),s.jsx(ye,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"1"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Take a Photo"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Snap a picture of your food using your camera or upload an existing image."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"2"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"AI Analysis"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Our AI identifies food items and calculates nutritional information automatically."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"3"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Log Your Drinks"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Track your hydration and beverage calories using the drinks logging feature."})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"bg-primary text-primary-foreground rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold",children:"4"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Monitor Your Progress"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Check your diary to see daily progress and analytics for weekly trends."})]})]})]})})]}),s.jsxs(me,{children:[s.jsxs(Se,{children:[s.jsx(Ce,{children:"How to Use PlateMate Features"}),s.jsx(Ye,{children:"Detailed guides for each feature"})]}),s.jsxs(ye,{className:"space-y-4",children:[s.jsxs(ym,{open:e.scanning,onOpenChange:()=>r("scanning"),children:[s.jsxs(vm,{className:"flex items-center justify-between w-full p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors","data-testid":"help-food-scanning",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ja,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Food Scanning & Analysis"})]}),e.scanning?s.jsx(vs,{className:"h-4 w-4"}):s.jsx(Kh,{className:"h-4 w-4"})]}),s.jsx(xm,{className:"pt-3",children:s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"How it works:"})," Take a photo of your meal and our AI analyzes the food items, estimating portions and nutrition content."]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{children:s.jsx("strong",{children:"Tips for better results:"})}),s.jsxs("ul",{className:"list-disc pl-4 space-y-1 text-muted-foreground",children:[s.jsx("li",{children:"Ensure good lighting when taking photos"}),s.jsx("li",{children:"Include a reference object (like a coin) for size estimation"}),s.jsx("li",{children:"Capture the entire meal in one photo"}),s.jsx("li",{children:"Avoid blurry or distant shots"}),s.jsx("li",{children:"Try to separate different food items visually"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{children:s.jsx("strong",{children:"What you get:"})}),s.jsxs("ul",{className:"list-disc pl-4 space-y-1 text-muted-foreground",children:[s.jsx("li",{children:"Identified food items with portion estimates"}),s.jsx("li",{children:"Total calories for the meal"}),s.jsx("li",{children:"Breakdown of protein, carbs, and fat"}),s.jsx("li",{children:"Confidence score for the analysis"})]})]})]})})]}),s.jsxs(ym,{open:e.drinks,onOpenChange:()=>r("drinks"),children:[s.jsxs(vm,{className:"flex items-center justify-between w-full p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors","data-testid":"help-drinks-logging",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ha,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Drinks & Hydration Tracking"})]}),e.drinks?s.jsx(vs,{className:"h-4 w-4"}):s.jsx(Kh,{className:"h-4 w-4"})]}),s.jsx(xm,{className:"pt-3",children:s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Track all beverages:"})," Log water, coffee, tea, juices, and alcoholic drinks to monitor hydration and calorie intake."]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{children:s.jsx("strong",{children:"Features:"})}),s.jsxs("ul",{className:"list-disc pl-4 space-y-1 text-muted-foreground",children:[s.jsx("li",{children:"Quick logging with preset amounts (250ml, 500ml, etc.)"}),s.jsx("li",{children:"Custom drink types and volumes"}),s.jsx("li",{children:"Automatic calorie and caffeine tracking"}),s.jsx("li",{children:"Daily hydration goals and progress"}),s.jsx("li",{children:"Alcohol units calculation for alcoholic beverages"})]})]})]})})]}),s.jsxs(ym,{open:e.goals,onOpenChange:()=>r("goals"),children:[s.jsxs(vm,{className:"flex items-center justify-between w-full p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors","data-testid":"help-goals-setting",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Qr,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Setting Nutrition Goals"})]}),e.goals?s.jsx(vs,{className:"h-4 w-4"}):s.jsx(Kh,{className:"h-4 w-4"})]}),s.jsx(xm,{className:"pt-3",children:s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Personalized targets:"})," Set daily calorie and macronutrient goals based on your lifestyle and objectives."]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{children:s.jsx("strong",{children:"Goal types:"})}),s.jsxs("ul",{className:"list-disc pl-4 space-y-1 text-muted-foreground",children:[s.jsx("li",{children:"Daily calorie targets"}),s.jsx("li",{children:"Protein intake goals (great for fitness)"}),s.jsx("li",{children:"Carbohydrate limits"}),s.jsx("li",{children:"Fat intake monitoring"}),s.jsx("li",{children:"Hydration targets"})]})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Progress tracking:"})," See how close you are to meeting your daily goals with visual progress bars and weekly summaries."]})]})})]}),s.jsxs(ym,{open:e.progress,onOpenChange:()=>r("progress"),children:[s.jsxs(vm,{className:"flex items-center justify-between w-full p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors","data-testid":"help-progress-tracking",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sn,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Progress Tracking & Analytics"})]}),e.progress?s.jsx(vs,{className:"h-4 w-4"}):s.jsx(Kh,{className:"h-4 w-4"})]}),s.jsx(xm,{className:"pt-3",children:s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Comprehensive insights:"})," View your nutrition patterns and progress over time with detailed analytics."]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{children:s.jsx("strong",{children:"Available analytics:"})}),s.jsxs("ul",{className:"list-disc pl-4 space-y-1 text-muted-foreground",children:[s.jsx("li",{children:"Daily nutrition summaries"}),s.jsx("li",{children:"Weekly trend analysis"}),s.jsx("li",{children:"Food frequency tracking"}),s.jsx("li",{children:"Goal achievement rates"}),s.jsx("li",{children:"Calorie intake patterns"})]})]})]})})]})]})]}),s.jsxs(me,{children:[s.jsx(Se,{children:s.jsxs(Ce,{className:"flex items-center space-x-2",children:[s.jsx(Ds,{className:"h-5 w-5 text-primary"}),s.jsx("span",{children:"Tips & Best Practices"})]})}),s.jsxs(ye,{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"For accurate tracking:"}),s.jsxs("ul",{className:"list-disc pl-4 space-y-1 text-muted-foreground",children:[s.jsx("li",{children:"Log your meals as soon as possible after eating"}),s.jsx("li",{children:"Include snacks and small bites in your tracking"}),s.jsx("li",{children:"Use consistent portion sizes when possible"}),s.jsx("li",{children:"Don't forget to log beverages, especially those with calories"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"For better results:"}),s.jsxs("ul",{className:"list-disc pl-4 space-y-1 text-muted-foreground",children:[s.jsx("li",{children:"Review your weekly patterns to identify trends"}),s.jsx("li",{children:"Adjust your goals based on your progress and how you feel"}),s.jsx("li",{children:"Use the coaching feature for personalized advice"}),s.jsx("li",{children:"Take photos from multiple angles for complex meals"})]})]})]})]}),s.jsxs(me,{children:[s.jsx(Se,{children:s.jsx(Ce,{children:"Need More Help?"})}),s.jsxs(ye,{className:"space-y-3 text-sm",children:[s.jsx("p",{children:"If you're experiencing issues or have questions not covered here:"}),s.jsxs("ul",{className:"list-disc pl-4 space-y-1 text-muted-foreground",children:[s.jsx("li",{children:"Check that your device camera permissions are enabled"}),s.jsx("li",{children:"Ensure you have a stable internet connection for AI analysis"}),s.jsx("li",{children:"Try restarting the app if features aren't working properly"}),s.jsx("li",{children:"Clear your browser cache if using the web version"})]}),s.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:[s.jsx("p",{className:"font-medium text-center",children:"PlateMate - Your AI-Powered Nutrition Companion"}),s.jsx("p",{className:"text-center text-muted-foreground text-xs mt-1",children:"Making healthy eating easier with intelligent food recognition"})]})]})]}),s.jsxs(me,{children:[s.jsx(Se,{children:s.jsx(Ce,{children:"Suggestions and Comments"})}),s.jsxs(ye,{className:"space-y-3 text-sm",children:[s.jsx("p",{children:"We value your feedback and suggestions to help improve PlateMate!"}),s.jsxs("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[s.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100 mb-3",children:"Send us your thoughts:"}),s.jsx("a",{href:"mailto:georgebrennan0811.suggestions@outlook.com",className:"block text-lg font-medium text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors break-all","data-testid":"email-suggestions",children:"georgebrennan0811.suggestions@outlook.com"})]})]})]})]}),s.jsx(si,{})]})}function d2e(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(me,{className:"w-full max-w-md mx-4",children:s.jsxs(ye,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(QV,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function f2e(){return j.useEffect(()=>{console.log("App loaded - mobile auth re-enabled"),setTimeout(()=>{try{ub.initialize().then(()=>{console.log(" Mobile auth initialized successfully")}).catch(e=>{console.error(" Mobile auth error:",e)})}catch(e){console.error(" Mobile auth sync error:",e)}},100)},[]),s.jsxs(_V,{children:[s.jsx(tr,{path:"/",component:I2}),s.jsx(tr,{path:"/landing",component:wK}),s.jsx(tr,{path:"/scan",component:M2}),s.jsx(tr,{path:"/home",component:I2}),s.jsx(tr,{path:"/diary",component:vke}),s.jsx(tr,{path:"/calculator",component:Bke}),s.jsx(tr,{path:"/calculator-test",component:Uke}),s.jsx(tr,{path:"/advice",component:ex}),s.jsx(tr,{path:"/ai-advice",component:ex}),s.jsx(tr,{path:"/diet-advice",component:ex}),s.jsx(tr,{path:"/recipes",component:Vke}),s.jsx(tr,{path:"/coaching",component:Zke}),s.jsx(tr,{path:"/goals",component:t2e}),s.jsx(tr,{path:"/injection-advice",component:i2e}),s.jsx(tr,{path:"/help",component:u2e}),s.jsx(tr,{path:"/camera",component:KG}),s.jsx(tr,{path:"/food-camera",component:M2}),s.jsx(tr,{path:"/voice",component:bK}),s.jsx(tr,{component:d2e})]})}function h2e({children:e}){return e}window.onerror=function(e,t,r,n,a){const i=`JS Error: ${e} at ${t}:${r}:${n}`;return console.error(" Global Error:",i,a),document.body.innerHTML=`<div style="padding: 20px; color: red; font-family: monospace; background: white;">
    <h2>JS Error Detected:</h2>
    <p>${i}</p>
    <p>Stack: ${(a==null?void 0:a.stack)||"No stack trace"}</p>
  </div>`,!0};window.addEventListener("unhandledrejection",function(e){const t=`Promise Rejection: ${e.reason}`;console.error(" Promise Error:",t),document.body.innerHTML=`<div style="padding: 20px; color: red; font-family: monospace; background: white;">
    <h2>Promise Rejection:</h2>
    <p>${t}</p>
  </div>`,e.preventDefault()});try{console.log(" Starting React app render..."),mD(document.getElementById("root")).render(s.jsx(h2e,{children:s.jsx(FU,{client:ZU,children:s.jsx(f2e,{})})})),console.log(" React app render completed")}catch(e){console.error(" Fatal Render Error:",e);const t=document.createElement("div");t.style.cssText="position:fixed;top:0;left:0;width:100%;height:100%;background:white;color:red;padding:20px;font-family:monospace;z-index:9999",t.innerHTML=`
    <h2>Fatal React Render Error:</h2>
    <p><strong>Error:</strong> ${e==null?void 0:e.message}</p>
    <p><strong>Stack:</strong></p>
    <pre>${e==null?void 0:e.stack}</pre>
    <button onclick="window.location.reload()" style="margin-top:20px;padding:10px 20px;font-size:16px;">Reload App</button>
  `,document.body.appendChild(t)}export{Ht as C,uj as W,vj as _,oh as r};
